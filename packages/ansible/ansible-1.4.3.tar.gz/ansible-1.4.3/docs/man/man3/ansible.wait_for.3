.TH ANSIBLE.WAIT_FOR 3 "2013-12-20" "1.4.3" "ANSIBLE MODULES"
.\" generated from library/utilities/wait_for
.SH NAME
wait_for \- Waits for a condition before continuing.
.\" ------ DESCRIPTION
.SH DESCRIPTION
.PP
Waiting for a port to become available is useful for when services are not immediately available after their init scripts return - which is true of certain Java application servers. It is also useful when starting guests with the \fIvirt\fR module and needing to pause until they are ready. This module can also be used to wait for a file to be available on the filesystem or with a regex match a string to be present in a file. 
.\" ------ OPTIONS
.\"
.\"
.SH OPTIONS
   
.IP delay
number of seconds to wait before starting to poll   
.IP host
hostname or IP address to wait for (default: 127.0.0.1)   
.IP path
path to a file on the filesytem that must exist before continuing(Added in Ansible version 1.4.)
   
.IP port
port number to poll   
.IP search_regex
with the path option can be used match a string in the file that must match before continuing.  Defaults to a multiline regex.(Added in Ansible version 1.4.)
   
.IP state
either \fCpresent\fR, \fCstarted\fR, or \fCstopped\fRWhen checking a port \fCstarted\fR will ensure the port is open, \fCstopped\fR will check that it is closedWhen checking for a file or a search string \fCpresent\fR or \fCstarted\fR will ensure that the file or string is present before continuing
.IR Choices :
present,started,stopped. (default: started)   
.IP timeout
maximum number of seconds to wait for (default: 300).\"
.\"
.\" ------ NOTES
.\"
.\"
.\" ------ EXAMPLES
.\" ------ PLAINEXAMPLES
.SH EXAMPLES
.nf

# wait 300 seconds for port 8000 to become open on the host, don't start checking for 10 seconds
- wait_for: port=8000 delay=10"

# wait until the file /tmp/foo is present before continuing
- wait_for: path=/tmp/foo

# wait until the string "completed" is in the file /tmp/foo before continuing
- wait_for: path=/tmp/foo search_regex=completed


.fi

.\" ------- AUTHOR
.SH AUTHOR
Jeroen Hoekx, John Jarvis
.SH SEE ALSO
.IR ansible (1),
.I http://ansible.github.com/modules.html#wait-for