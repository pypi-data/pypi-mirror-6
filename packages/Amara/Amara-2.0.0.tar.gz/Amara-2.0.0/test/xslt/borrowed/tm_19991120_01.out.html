<html>
  <head>
    <meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
    <title>N Queens</title>
  </head>
  <body>
    <h3>We will now call "queens"</h3>
to generate all solutions of the
8-Queens problem.
  
    <table border="1">
      <tr>
        <td>1</td>
        <td>5</td>
        <td>8</td>
        <td>6</td>
        <td>3</td>
        <td>7</td>
        <td>2</td>
        <td>4</td>
      </tr>
      <tr>
        <td>1</td>
        <td>6</td>
        <td>8</td>
        <td>3</td>
        <td>7</td>
        <td>4</td>
        <td>2</td>
        <td>5</td>
      </tr>
      <tr>
        <td>1</td>
        <td>7</td>
        <td>4</td>
        <td>6</td>
        <td>8</td>
        <td>2</td>
        <td>5</td>
        <td>3</td>
      </tr>
      <tr>
        <td>1</td>
        <td>7</td>
        <td>5</td>
        <td>8</td>
        <td>2</td>
        <td>4</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>2</td>
        <td>4</td>
        <td>6</td>
        <td>8</td>
        <td>3</td>
        <td>1</td>
        <td>7</td>
        <td>5</td>
      </tr>
      <tr>
        <td>2</td>
        <td>5</td>
        <td>7</td>
        <td>1</td>
        <td>3</td>
        <td>8</td>
        <td>6</td>
        <td>4</td>
      </tr>
      <tr>
        <td>2</td>
        <td>5</td>
        <td>7</td>
        <td>4</td>
        <td>1</td>
        <td>8</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>2</td>
        <td>6</td>
        <td>1</td>
        <td>7</td>
        <td>4</td>
        <td>8</td>
        <td>3</td>
        <td>5</td>
      </tr>
      <tr>
        <td>2</td>
        <td>6</td>
        <td>8</td>
        <td>3</td>
        <td>1</td>
        <td>4</td>
        <td>7</td>
        <td>5</td>
      </tr>
      <tr>
        <td>2</td>
        <td>7</td>
        <td>3</td>
        <td>6</td>
        <td>8</td>
        <td>5</td>
        <td>1</td>
        <td>4</td>
      </tr>
      <tr>
        <td>2</td>
        <td>7</td>
        <td>5</td>
        <td>8</td>
        <td>1</td>
        <td>4</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>1</td>
        <td>3</td>
        <td>5</td>
        <td>7</td>
        <td>4</td>
      </tr>
      <tr>
        <td>3</td>
        <td>1</td>
        <td>7</td>
        <td>5</td>
        <td>8</td>
        <td>2</td>
        <td>4</td>
        <td>6</td>
      </tr>
      <tr>
        <td>3</td>
        <td>5</td>
        <td>2</td>
        <td>8</td>
        <td>1</td>
        <td>7</td>
        <td>4</td>
        <td>6</td>
      </tr>
      <tr>
        <td>3</td>
        <td>5</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>4</td>
        <td>7</td>
        <td>1</td>
      </tr>
      <tr>
        <td>3</td>
        <td>5</td>
        <td>7</td>
        <td>1</td>
        <td>4</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
      </tr>
      <tr>
        <td>3</td>
        <td>5</td>
        <td>8</td>
        <td>4</td>
        <td>1</td>
        <td>7</td>
        <td>2</td>
        <td>6</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>2</td>
        <td>5</td>
        <td>8</td>
        <td>1</td>
        <td>7</td>
        <td>4</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>2</td>
        <td>7</td>
        <td>1</td>
        <td>4</td>
        <td>8</td>
        <td>5</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>2</td>
        <td>7</td>
        <td>5</td>
        <td>1</td>
        <td>8</td>
        <td>4</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>4</td>
        <td>1</td>
        <td>8</td>
        <td>5</td>
        <td>7</td>
        <td>2</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>4</td>
        <td>2</td>
        <td>8</td>
        <td>5</td>
        <td>7</td>
        <td>1</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>8</td>
        <td>1</td>
        <td>4</td>
        <td>7</td>
        <td>5</td>
        <td>2</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>8</td>
        <td>1</td>
        <td>5</td>
        <td>7</td>
        <td>2</td>
        <td>4</td>
      </tr>
      <tr>
        <td>3</td>
        <td>6</td>
        <td>8</td>
        <td>2</td>
        <td>4</td>
        <td>1</td>
        <td>7</td>
        <td>5</td>
      </tr>
      <tr>
        <td>3</td>
        <td>7</td>
        <td>2</td>
        <td>8</td>
        <td>5</td>
        <td>1</td>
        <td>4</td>
        <td>6</td>
      </tr>
      <tr>
        <td>3</td>
        <td>7</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>4</td>
        <td>1</td>
        <td>5</td>
      </tr>
      <tr>
        <td>3</td>
        <td>8</td>
        <td>4</td>
        <td>7</td>
        <td>1</td>
        <td>6</td>
        <td>2</td>
        <td>5</td>
      </tr>
      <tr>
        <td>4</td>
        <td>1</td>
        <td>5</td>
        <td>8</td>
        <td>2</td>
        <td>7</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>4</td>
        <td>1</td>
        <td>5</td>
        <td>8</td>
        <td>6</td>
        <td>3</td>
        <td>7</td>
        <td>2</td>
      </tr>
      <tr>
        <td>4</td>
        <td>2</td>
        <td>5</td>
        <td>8</td>
        <td>6</td>
        <td>1</td>
        <td>3</td>
        <td>7</td>
      </tr>
      <tr>
        <td>4</td>
        <td>2</td>
        <td>7</td>
        <td>3</td>
        <td>6</td>
        <td>8</td>
        <td>1</td>
        <td>5</td>
      </tr>
      <tr>
        <td>4</td>
        <td>2</td>
        <td>7</td>
        <td>3</td>
        <td>6</td>
        <td>8</td>
        <td>5</td>
        <td>1</td>
      </tr>
      <tr>
        <td>4</td>
        <td>2</td>
        <td>7</td>
        <td>5</td>
        <td>1</td>
        <td>8</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>4</td>
        <td>2</td>
        <td>8</td>
        <td>5</td>
        <td>7</td>
        <td>1</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>4</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>1</td>
        <td>3</td>
        <td>5</td>
        <td>7</td>
      </tr>
      <tr>
        <td>4</td>
        <td>6</td>
        <td>1</td>
        <td>5</td>
        <td>2</td>
        <td>8</td>
        <td>3</td>
        <td>7</td>
      </tr>
      <tr>
        <td>4</td>
        <td>6</td>
        <td>8</td>
        <td>2</td>
        <td>7</td>
        <td>1</td>
        <td>3</td>
        <td>5</td>
      </tr>
      <tr>
        <td>4</td>
        <td>6</td>
        <td>8</td>
        <td>3</td>
        <td>1</td>
        <td>7</td>
        <td>5</td>
        <td>2</td>
      </tr>
      <tr>
        <td>4</td>
        <td>7</td>
        <td>1</td>
        <td>8</td>
        <td>5</td>
        <td>2</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>4</td>
        <td>7</td>
        <td>3</td>
        <td>8</td>
        <td>2</td>
        <td>5</td>
        <td>1</td>
        <td>6</td>
      </tr>
      <tr>
        <td>4</td>
        <td>7</td>
        <td>5</td>
        <td>2</td>
        <td>6</td>
        <td>1</td>
        <td>3</td>
        <td>8</td>
      </tr>
      <tr>
        <td>4</td>
        <td>7</td>
        <td>5</td>
        <td>3</td>
        <td>1</td>
        <td>6</td>
        <td>8</td>
        <td>2</td>
      </tr>
      <tr>
        <td>4</td>
        <td>8</td>
        <td>1</td>
        <td>3</td>
        <td>6</td>
        <td>2</td>
        <td>7</td>
        <td>5</td>
      </tr>
      <tr>
        <td>4</td>
        <td>8</td>
        <td>1</td>
        <td>5</td>
        <td>7</td>
        <td>2</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>4</td>
        <td>8</td>
        <td>5</td>
        <td>3</td>
        <td>1</td>
        <td>7</td>
        <td>2</td>
        <td>6</td>
      </tr>
      <tr>
        <td>5</td>
        <td>1</td>
        <td>4</td>
        <td>6</td>
        <td>8</td>
        <td>2</td>
        <td>7</td>
        <td>3</td>
      </tr>
      <tr>
        <td>5</td>
        <td>1</td>
        <td>8</td>
        <td>4</td>
        <td>2</td>
        <td>7</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>5</td>
        <td>1</td>
        <td>8</td>
        <td>6</td>
        <td>3</td>
        <td>7</td>
        <td>2</td>
        <td>4</td>
      </tr>
      <tr>
        <td>5</td>
        <td>2</td>
        <td>4</td>
        <td>6</td>
        <td>8</td>
        <td>3</td>
        <td>1</td>
        <td>7</td>
      </tr>
      <tr>
        <td>5</td>
        <td>2</td>
        <td>4</td>
        <td>7</td>
        <td>3</td>
        <td>8</td>
        <td>6</td>
        <td>1</td>
      </tr>
      <tr>
        <td>5</td>
        <td>2</td>
        <td>6</td>
        <td>1</td>
        <td>7</td>
        <td>4</td>
        <td>8</td>
        <td>3</td>
      </tr>
      <tr>
        <td>5</td>
        <td>2</td>
        <td>8</td>
        <td>1</td>
        <td>4</td>
        <td>7</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>5</td>
        <td>3</td>
        <td>1</td>
        <td>6</td>
        <td>8</td>
        <td>2</td>
        <td>4</td>
        <td>7</td>
      </tr>
      <tr>
        <td>5</td>
        <td>3</td>
        <td>1</td>
        <td>7</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>4</td>
      </tr>
      <tr>
        <td>5</td>
        <td>3</td>
        <td>8</td>
        <td>4</td>
        <td>7</td>
        <td>1</td>
        <td>6</td>
        <td>2</td>
      </tr>
      <tr>
        <td>5</td>
        <td>7</td>
        <td>1</td>
        <td>3</td>
        <td>8</td>
        <td>6</td>
        <td>4</td>
        <td>2</td>
      </tr>
      <tr>
        <td>5</td>
        <td>7</td>
        <td>1</td>
        <td>4</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>5</td>
        <td>7</td>
        <td>2</td>
        <td>4</td>
        <td>8</td>
        <td>1</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>5</td>
        <td>7</td>
        <td>2</td>
        <td>6</td>
        <td>3</td>
        <td>1</td>
        <td>4</td>
        <td>8</td>
      </tr>
      <tr>
        <td>5</td>
        <td>7</td>
        <td>2</td>
        <td>6</td>
        <td>3</td>
        <td>1</td>
        <td>8</td>
        <td>4</td>
      </tr>
      <tr>
        <td>5</td>
        <td>7</td>
        <td>4</td>
        <td>1</td>
        <td>3</td>
        <td>8</td>
        <td>6</td>
        <td>2</td>
      </tr>
      <tr>
        <td>5</td>
        <td>8</td>
        <td>4</td>
        <td>1</td>
        <td>3</td>
        <td>6</td>
        <td>2</td>
        <td>7</td>
      </tr>
      <tr>
        <td>5</td>
        <td>8</td>
        <td>4</td>
        <td>1</td>
        <td>7</td>
        <td>2</td>
        <td>6</td>
        <td>3</td>
      </tr>
      <tr>
        <td>6</td>
        <td>1</td>
        <td>5</td>
        <td>2</td>
        <td>8</td>
        <td>3</td>
        <td>7</td>
        <td>4</td>
      </tr>
      <tr>
        <td>6</td>
        <td>2</td>
        <td>7</td>
        <td>1</td>
        <td>3</td>
        <td>5</td>
        <td>8</td>
        <td>4</td>
      </tr>
      <tr>
        <td>6</td>
        <td>2</td>
        <td>7</td>
        <td>1</td>
        <td>4</td>
        <td>8</td>
        <td>5</td>
        <td>3</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>1</td>
        <td>7</td>
        <td>5</td>
        <td>8</td>
        <td>2</td>
        <td>4</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>1</td>
        <td>8</td>
        <td>4</td>
        <td>2</td>
        <td>7</td>
        <td>5</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>1</td>
        <td>8</td>
        <td>5</td>
        <td>2</td>
        <td>4</td>
        <td>7</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>5</td>
        <td>7</td>
        <td>1</td>
        <td>4</td>
        <td>2</td>
        <td>8</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>5</td>
        <td>8</td>
        <td>1</td>
        <td>4</td>
        <td>2</td>
        <td>7</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>7</td>
        <td>2</td>
        <td>4</td>
        <td>8</td>
        <td>1</td>
        <td>5</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>7</td>
        <td>2</td>
        <td>8</td>
        <td>5</td>
        <td>1</td>
        <td>4</td>
      </tr>
      <tr>
        <td>6</td>
        <td>3</td>
        <td>7</td>
        <td>4</td>
        <td>1</td>
        <td>8</td>
        <td>2</td>
        <td>5</td>
      </tr>
      <tr>
        <td>6</td>
        <td>4</td>
        <td>1</td>
        <td>5</td>
        <td>8</td>
        <td>2</td>
        <td>7</td>
        <td>3</td>
      </tr>
      <tr>
        <td>6</td>
        <td>4</td>
        <td>2</td>
        <td>8</td>
        <td>5</td>
        <td>7</td>
        <td>1</td>
        <td>3</td>
      </tr>
      <tr>
        <td>6</td>
        <td>4</td>
        <td>7</td>
        <td>1</td>
        <td>3</td>
        <td>5</td>
        <td>2</td>
        <td>8</td>
      </tr>
      <tr>
        <td>6</td>
        <td>4</td>
        <td>7</td>
        <td>1</td>
        <td>8</td>
        <td>2</td>
        <td>5</td>
        <td>3</td>
      </tr>
      <tr>
        <td>6</td>
        <td>8</td>
        <td>2</td>
        <td>4</td>
        <td>1</td>
        <td>7</td>
        <td>5</td>
        <td>3</td>
      </tr>
      <tr>
        <td>7</td>
        <td>1</td>
        <td>3</td>
        <td>8</td>
        <td>6</td>
        <td>4</td>
        <td>2</td>
        <td>5</td>
      </tr>
      <tr>
        <td>7</td>
        <td>2</td>
        <td>4</td>
        <td>1</td>
        <td>8</td>
        <td>5</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>7</td>
        <td>2</td>
        <td>6</td>
        <td>3</td>
        <td>1</td>
        <td>4</td>
        <td>8</td>
        <td>5</td>
      </tr>
      <tr>
        <td>7</td>
        <td>3</td>
        <td>1</td>
        <td>6</td>
        <td>8</td>
        <td>5</td>
        <td>2</td>
        <td>4</td>
      </tr>
      <tr>
        <td>7</td>
        <td>3</td>
        <td>8</td>
        <td>2</td>
        <td>5</td>
        <td>1</td>
        <td>6</td>
        <td>4</td>
      </tr>
      <tr>
        <td>7</td>
        <td>4</td>
        <td>2</td>
        <td>5</td>
        <td>8</td>
        <td>1</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>7</td>
        <td>4</td>
        <td>2</td>
        <td>8</td>
        <td>6</td>
        <td>1</td>
        <td>3</td>
        <td>5</td>
      </tr>
      <tr>
        <td>7</td>
        <td>5</td>
        <td>3</td>
        <td>1</td>
        <td>6</td>
        <td>8</td>
        <td>2</td>
        <td>4</td>
      </tr>
      <tr>
        <td>8</td>
        <td>2</td>
        <td>4</td>
        <td>1</td>
        <td>7</td>
        <td>5</td>
        <td>3</td>
        <td>6</td>
      </tr>
      <tr>
        <td>8</td>
        <td>2</td>
        <td>5</td>
        <td>3</td>
        <td>1</td>
        <td>7</td>
        <td>4</td>
        <td>6</td>
      </tr>
      <tr>
        <td>8</td>
        <td>3</td>
        <td>1</td>
        <td>6</td>
        <td>2</td>
        <td>5</td>
        <td>7</td>
        <td>4</td>
      </tr>
      <tr>
        <td>8</td>
        <td>4</td>
        <td>1</td>
        <td>3</td>
        <td>6</td>
        <td>2</td>
        <td>7</td>
        <td>5</td>
      </tr>
    </table>
    <pre>
queens(lim,list,upd,downd,listlen)=list, if lim=listlen
  =queenstry(1,lim,list,upd,downd,listlen) otherwise

queenstry(val,lim,list,upd,downd,listlen)= "", if val>lim
  =addifnew(val,lim,list,upd,downd,listlen) +
     queenstry(val+1,lim,list,listlen) otherwise.

addifnew(val,lim,list,upd,downd,listlen)="",
               if val in list or udv in upd or ddv in downd
     = queens(lim,list+val+",",
              upd+udv+",",downd+ddv+",",listlen+1) otherwise.
       where udv=val+listlen, ddv=boardsize+val-listlen;
</pre>
    In other words,

    <p>queens(lim,list,upd,downd,listlen) assumes that "list" is
of length "listlen", with each number followed by a
comma, and the goal of queens is to add to that list
in every possible way to bring it to length "lim"
with numbers no greater than "lim" and without repeats.

    </p>
    <p>queenstry(val,lim,list,upd,downd,listlen) will try the
value "val" and all values between it and "lim" in
extending the list.

    </p>
    <p>addifnew(val,lim,list,upd,downd,listlen) does nothing
if "val" is already in the list; otherwise adds it
and goes on with "queens" of the longer list.

    </p>
  </body>
</html>