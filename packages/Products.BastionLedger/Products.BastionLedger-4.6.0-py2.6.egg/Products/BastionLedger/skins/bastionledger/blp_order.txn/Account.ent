##parameters=account=None,args=[],kw={}
#
# This script should return a list (possibly empty) of BLEntry objects
#
from Products.BastionLedger.BLSubsidiaryEntry import BLSubsidiaryEntry

order = args[0]

account = account or order.blAccount()
receivable = account.isReceivable()

total = order.getGross() - order.getDiscount() + order.getTax()

return (BLSubsidiaryEntry(account.getId(),
                          kw.get('title', script.getId()),	
                          account.getId(),
                          test(receivable, total, -total),
                          order.getId()),)



