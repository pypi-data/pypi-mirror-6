<html tal:replace="structure context/manage_page_header"/>

    <span tal:replace="structure context/manage_tabs"/>

       <table border="0" width="100%" cellspacing="0" cellpadding="0"
              tal:define="products container/filtered_meta_types">
          <tr>
              <td align="right" valign="top" class="form-element">
                 <form method="get" action="" tal:attributes="action request/URL1">
                     <div tal:condition="python: len(products) > 1">
                         <select class="form-element" name=":action"
                                 onchange="" tal:attributes="onchange string:location.href='${request/URL1}/'+this.options[this.selectedIndex].value">
                             <option value="manage_workspace" disabled>Select type to add...</option>
                             <option tal:repeat="product products"
                                     value="" tal:attributes="value product/action"
                                     tal:content="product/name"/>
                          </select>
                          <input class="form-element" type="submit" value=" Add ">
                      </div>
                      <div tal:condition="python: len(products) == 1" tal:define="product python:products[0]">
                          <input type="hidden" name=":method" value="" tal:attributes="value product/action"/>
                          <input class="form-element" type="submit" name="submit" value=""
                                 tal:attributes="value string: Add ${product/name}" />
                      </div>
                 </form>
              </td>
          </tr>
       </table>
       <br/>
       <form action="" method="post" tal:attributes="action request/URL1"
             tal:define="folders python:container.objectItems('BLPartFolder');
	                 pts python:container.objectItems('Page Template');
                         entries python:container.objectValues('BLPart')">
         <div tal:omit-tag="" tal:condition="folders">
           <table border="0" cellpadding="2" cellspacing="0" width="100%">
             <tr class="list-header">
               <td width="16"  class="list-item">&nbsp;</td>
               <td width="25"  class="list-item">Type</td>
               <td width="40%" class="list-item">Name</td>
               <td width="10%" class="list-item">Size</td>
               <td width="25%" class="list-item">Last Modified</td>
     	       <td width="5%"  class="list-item">&nbsp;</td>
            </tr>
            <div tal:repeat="folder python:folders + pts" tal:omit-tag="">
               <tr class="row-hilite"
                   tal:define="item python: folder[1]; item_id python: folder[0]"
                   tal:attributes="class python: repeat['folder'].index % 2 and 'row-normal' or 'row-hilite'">
                   <td class="list-item" width="16">
                      <input type="checkbox" name="ids:list" value="" tal:attributes="value item_id">
                   </td>
                   <td class="list-item">
                      <a href="" tal:attributes="href string:${item/getId}/manage_workspace">
                          <img src="" alt="" border="0"
                               tal:attributes="src string:${request/BASEPATH1}/${item/icon}; alt item/meta_type"/>
                      </a>
                   </td>
                   <td class="list-item">
                       <a href="" tal:attributes="href string:${item/getId}/manage_workspace">
                          <span tal:replace="item/getId"/>
                          <span tal:condition="item/title" tal:replace="string:(${item/title})"/>
                       </a>
                   </td>
                   <td class="list-item" tal:content="structure python: container.getSize(item) or '&nbsp;'"/>
                   <td class="list-item" tal:on-error="string:"
                       tal:content="python: item.bobobase_modification_time().strftime('%Y-%m-%d %H:%M')"/>
                   <td class="list-item">&nbsp;</td>
                </tr>
             </div>
          </table>
         </div>
         <div tal:omit-tag="" tal:condition="entries">
           <table border="0" cellpadding="2" cellspacing="0" width="100%">
           <tr class="list-header">
               <td width="16">&nbsp;</td>
               <td width="25"  class="list-item">Type</td>
               <td class="list-item">Number</td>
               <td class="list-item">Description</td>
               <td class="list-item">Status</td>
               <td class="list-item" align="right" nowrap>ListPrice</td>
               <td>&nbsp;</td>
               <td class="list-item" align="right" nowrap>SellPrice</td>
               <td>&nbsp;</td>
               <td class="list-item" align="right">OnHand</td>
               <td>&nbsp;</td>
               <td width="25%" class="list-item">Last Modified</td>
           </tr>
           <tr tal:repeat="item entries" class="row-hilite"
               tal:attributes="class python: repeat['item'].index % 2 and 'row-normal' or 'row-hilite'">
               <td class="list-item">
                  <input type="checkbox" name="ids:list" value="" tal:attributes="value item/getId">
               </td>
               <td class="list-item"><img src="" tal:attributes="src item/icon"/></td>
               <td class="list-item">
                   <a href="" tal:attributes="href string:${item/getId}/manage_workspace"  
                              tal:content="item/getId"/>
               </td>
               <td class="list-item" tal:content="item/title"/>
               <td class="list-item" tal:content="item/status"/>
               <td class="list-item" align="right" nowrap
                   tal:content="item/listprice"/>
               <td>&nbsp;</td>
               <td class="list-item" align="right" nowrap 
                   tal:content="item/sellprice"/>
               <td>&nbsp;</td>
               <td class="list-item" align="right" tal:content="item/onhand"/>
               <td>&nbsp;</td>
               <td class="list-item" tal:on-error="string:"
                   tal:content="python: item.bobobase_modification_time().strftime('%Y-%m-%d %H:%M')"/>
           </tr>
           </table>
         </div>
         <table border="0" cellpadding="2" cellspacing="0" width="100%" 
                tal:condition="python: folders or entries">
           <tr>
               <td>
                   <input type="submit"  value=" Rename  " name="manage_renameForm:method"/>
                   <input type="submit"  value="  Copy   " name="manage_copyObjects:method"/>
                   <input tal:condition="container/cb_dataValid"
                         type="submit"  value="  Paste " name="manage_pasteObjects:method"/>
                   <input  tal:condition="python: container.SecurityCheckPermission('Delete objects',
                                                                                   context)"
                         type="submit"  value=" Delete  " name="manage_delObjects:method"/>
               </td>
           </tr>
       </table>
       </form>
<html tal:replace="structure context/manage_page_footer"/>





