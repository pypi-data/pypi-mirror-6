

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Template Factory Implementation Details &mdash; TDI 0.9.9.8 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tdi.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="TDI 0.9.9.8 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">TDI 0.9.9.8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="template-factory-implementation-details">
<h1>Template Factory Implementation Details<a class="headerlink" href="#template-factory-implementation-details" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference external" href="../apidoc/tdi.factory.Factory-class.html#__init__">factory parameters</a> determine,
which parser to use, which tree builder, if and how the templates should
be filtered and so on. Some of the parameters depend on others. The list
of parameters represents a comprehensive mix of interfaces which are
expected in order to combine all the components properly.</p>
<p>Before explaining those interfaces, let&#8217;s see what actually
happens with the stuff passed in. When loading a template using a
factory&#8217;s method (e.g. <tt class="docutils literal"><a class="reference external" href="../apidoc/tdi.factory.Factory-class.html#from_file"><span class="pre">→&nbsp;from_file</span></a></tt>) the
following actions are taken:</p>
<ol class="arabic simple">
<li>The filters are initialized.</li>
<li>The tree builder is initialized with the filters.</li>
<li>The parser is initialized with the tree builder.</li>
<li>The file is opened and the stream is fed to the parser.</li>
<li>The parser emits events to the tree builder (possibly modified by the
filters).</li>
<li>The stream is finished.</li>
<li>The parser is finished.</li>
<li>The tree builder is finished and asked for the generated node tree.</li>
<li>The tree is stuffed into a fresh template object (among other
things).</li>
<li>If autoloading is requested, the template is wrapped into the autoloader
proxy object.</li>
<li>The template object is returned.</li>
</ol>
<p>If memoization is enabled, the whole chain of actions is prepended by a
check if the key is already stored in which case only the template
object is returned. If the key is not found in the memoization storage
container, all actions are taken and the template object returned in the
last step is stored for the next call.</p>
<div class="section" id="basic-data-flow">
<h2>Basic Data Flow<a class="headerlink" href="#basic-data-flow" title="Permalink to this headline">¶</a></h2>
<p>WRITEME.</p>
</div>
<div class="section" id="main-interfaces">
<h2>Main Interfaces<a class="headerlink" href="#main-interfaces" title="Permalink to this headline">¶</a></h2>
<div class="section" id="stream-opener">
<h3>Stream Opener<a class="headerlink" href="#stream-opener" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="stream-open">
<h3>Stream Open<a class="headerlink" href="#stream-open" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Template Factory Implementation Details</a><ul>
<li><a class="reference internal" href="#basic-data-flow">Basic Data Flow</a></li>
<li><a class="reference internal" href="#main-interfaces">Main Interfaces</a><ul>
<li><a class="reference internal" href="#stream-opener">Stream Opener</a></li>
<li><a class="reference internal" href="#stream-open">Stream Open</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">TDI 0.9.9.8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014 André Malo.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>