

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python Web Service API &mdash; Tangelo Web Framework 0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Tangelo Web Framework 0.0 documentation" href="index.html" />
    <link rel="next" title="Tangelo Javascript API" href="tangelo-js.html" />
    <link rel="prev" title="tangelo-passwd" href="tangelo-passwd-manpage.html" />
<link rel=stylesheet type=text/css href=_static/tangelo-sphinx.css />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tangelo-js.html" title="Tangelo Javascript API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tangelo-passwd-manpage.html" title="tangelo-passwd"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Tangelo Web Framework 0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="python-web-service-api">
<h1>Python Web Service API<a class="headerlink" href="#python-web-service-api" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="tangelo.content_type">
<tt class="descclassname">tangelo.</tt><tt class="descname">content_type</tt><big>(</big><span class="optional">[</span><em>type</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#tangelo.content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the content type for the current request, as a string.  If <tt class="docutils literal"><span class="pre">type</span></tt>
is specified, also sets the content type to the specified string.</p>
</dd></dl>

<dl class="function">
<dt id="tangelo.log">
<tt class="descclassname">tangelo.</tt><tt class="descname">log</tt><big>(</big><em>msg</em><span class="optional">[</span>, <em>context</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#tangelo.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a message <tt class="docutils literal"><span class="pre">msg</span></tt> to the log file.  If <tt class="docutils literal"><span class="pre">context</span></tt> is supplied, it
will be prepended to the message within the log file.  This function may be
useful for debugging or otherwise tracking a service&#8217;s activities as it
runs.</p>
</dd></dl>

<dl class="function">
<dt id="tangelo.request_path">
<tt class="descclassname">tangelo.</tt><tt class="descname">request_path</tt><big>(</big><big>)</big><a class="headerlink" href="#tangelo.request_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path of the current request.  This is generally the sequence of
path components following the domain and port number in a URL.</p>
</dd></dl>

<dl class="function">
<dt id="tangelo.paths">
<tt class="descclassname">tangelo.</tt><tt class="descname">paths</tt><big>(</big><em>paths</em><big>)</big><a class="headerlink" href="#tangelo.paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Augments the Python system path with the list of web directories specified
in <tt class="docutils literal"><span class="pre">paths</span></tt>.  Each path must be <strong>within the web root directory</strong> or
<strong>within a user&#8217;s web home directory</strong>.  For example, <tt class="docutils literal"><span class="pre">/~troi/libs</span></tt> would
be allowed, as would <tt class="docutils literal"><span class="pre">/section31/common/</span></tt> because both directories are
subdirectories of a top-level web directory - one in a user&#8217;s home
directory, and the other under the web root.  However,
<tt class="docutils literal"><span class="pre">/~picard/../../libs</span></tt> would be illegal, since it does not refer to any
file accessible via Tangelo.</p>
<p>This function can be used to let web services access commonly used functions
that are implemented in their own Python modules somewhere in the web
filesystem.</p>
</dd></dl>

<dl class="function">
<dt id="tangelo.restful">
<tt class="descclassname">&#64;</tt><tt class="descclassname">tangelo.</tt><tt class="descname">restful</tt><a class="headerlink" href="#tangelo.restful" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks a function in a Python service file as being part of that service&#8217;s
RESTful API.  This prevents accidental exposure of unmarked support
functions as part of the API, and also enables the use of arbitrary words as
REST verbs (so long as those words are also valid Python function names).
An example usage might look like the following, which uses a both a standard
verb (&#8220;GET&#8221;) and a custom one (&#8220;NORMALIZE&#8221;).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">tangelo</span>

<span class="nd">@tangelo.restful</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">baz</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="nd">@tangelo.restful</span>
<span class="k">def</span> <span class="nf">normalize</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>The decorator also has the effect of preventing accidental exposure of
support functions in a RESTful service.</p>
<p>Note that Tangelo automatically converts the verb used by the web client to
all lowercase letters before searching the Python module for a matching
function to call.</p>
</dd></dl>

<dl class="class">
<dt id="tangelo.HTTPStatusCode">
<em class="property">class </em><tt class="descclassname">tangelo.</tt><tt class="descname">HTTPStatusCode</tt><big>(</big><em>code</em><span class="optional">[</span>, <em>description</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#tangelo.HTTPStatusCode" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an HTTP status object signalling the status code given by <tt class="docutils literal"><span class="pre">code</span></tt>
and a custom description of the status given by <tt class="docutils literal"><span class="pre">description</span></tt>.  If
<tt class="docutils literal"><span class="pre">description</span></tt> is not specified, then a standard description will appear
based on the code (e.g., &#8220;Not Found&#8221; for code 404, etc.).</p>
<p>An <tt class="docutils literal"><span class="pre">HTTPStatusCode</span></tt> object can be returned from a Python service to cause
the server to raise that code instead of sending back a response.  This can
be useful to signal situations like bad arguments, failure to find the
requested object, etc.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="tangelo-passwd-manpage.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">tangelo-passwd</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tangelo-js.html"
                        title="next chapter">Tangelo Javascript API</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tangelo-py.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tangelo-js.html" title="Tangelo Javascript API"
             >next</a> |</li>
        <li class="right" >
          <a href="tangelo-passwd-manpage.html" title="tangelo-passwd"
             >previous</a> |</li>
        <li><a href="index.html">Tangelo Web Framework 0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Kitware, Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>