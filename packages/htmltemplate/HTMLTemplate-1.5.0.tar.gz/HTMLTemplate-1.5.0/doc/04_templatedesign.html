<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>HTMLTemplate | 4. Template design</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<style type="text/css" media="all"><!--@import url(full.css);--></style>

</head>
<body>

<h1>4. Template design</h1>

<!-- top navigation -->
<div class="navbar">
	<a href="03_tutorial1.html">Previous</a> | <a href="index.html">Up</a> | <a href="05_objectmodel.html">Next</a>
	
</div>

<!-- content -->
<div id="content">


<h2>About HTML templates</h2>

<p>An HTML template is usually a complete HTML/XHTML document, though it may also be a fragment of one - HTMLTemplate doesn't require the document be complete, nor even that it has a single root element.</p>

<p>To create a Template object model, selected HTML elements must be annotated with 'compiler directives', special tag attributes that indicate how the object model is to be constructed. Here are some examples:</p>

<pre class="template">&lt;h1 node="con:title"&gt;Welcome&lt;/h1&gt;

&lt;img node="con:photo" src="" /&gt;

&lt;a node="rep:navlink" href="#"&gt;Catalogue&lt;/a&gt;

&lt;span node="-sep:navlink"&gt; | &lt;/span&gt;

&lt;div node="del:"&gt; ... &lt;/div&gt;</pre>


<p>One restriction does apply when authoring templates: the template's HTML elements must be correctly closed according to XHTML rules. For example, this markup is acceptable:</p>

<pre class="template">&lt;p&gt;Hello World&lt;/p&gt;

&lt;hr /&gt;</pre>

<p>but this is not:</p>

<pre class="template">&lt;p&gt;Hello World

&lt;hr&gt;</pre>



<h2> Compiler directives</h2>

<p>HTMLTemplate defines four types of compiler directive:</p>

<ul>
<li><code>con</code> defines a Container node that can appear only once at the given location</li>
<li><code>rep</code> defines a Repeater node that can appear any number of times</li>
<li><code>sep</code> defines a separator string to be inserted between each iteration of a Repeater object of the same name</li>
<li><code>del</code> indicates a section of markup to be omitted in the compiled template.</li>
</ul>

<p>The special attribute name can be anything (the default is <code>node</code> but any other name may be specified via the Template constructor), and its values are typically of form <code>FOO:BAR</code>, where <code>FOO</code> is a three-letter code indicating the type of directive and <code>BAR</code> is the name of the node to create.</p>

<p>Every node name must be a valid Python identifier with two additional restrictions:</p>

<ol>
<li>A node name cannot begin with an underscore.</li>
<li>A node name cannot match the name of any method or property belonging to the <code>Container</code>, <code>Repeater</code> and <code>Template</code> classes.</li>
</ol>

<p>Note that the <code>del</code> directive doesn't create a named node, so may simply be written as <code>del:</code>. Directive types and node names are both case-sensitive.</p>

<p>HTMLTemplate also supports a single directive modifier, <code>-</code>, also known as the 'minus tags' modifier. When prepended to a directive, e.g. <code>-con:foo</code>, the minus tags modifier indicates that the HTML element's tags should be omitted in the compiled node/separator string. Use this modifier when adding an arbitrary HTML element (typically <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code>) to an HTML template purely to construct a node or separator string to prevent the rendered page being cluttered with the leftover tags.</p>


</div>

<!-- bottom navigation -->
<div class="navbar">
	<a href="03_tutorial1.html">Previous</a> | <a href="index.html">Up</a> | <a href="05_objectmodel.html">Next</a>
	
</div>

<!--footer-->
<p class="footer">&copy; 2008 HAS</p>
</body>
</html>