

<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuration File &mdash; TARDIS v0.9.dev692</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap-2.2.1.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap-responsive-2.2.1.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.dev692',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/bootstrap-2.2.1.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/tardis_logo.ico"/>
    <link rel="top" title="TARDIS v0.9.dev692" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
  
  <a href="http://github.com/wkerzendorf/tardis"><img style="position: fixed; top: 0px; right: 0; border: 0; z-index: 100000;image-orientation: 90deg;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"/></a>

<div class="container">
  
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="brand" href="index.html">TARDIS</a>
      <span class="navbar-text pull-left"><b>0.9.dev692</b></span>

      <div class="nav-collapse">
        <ul class="nav">
          <li class="divider-vertical"></li>
          
            <li class="dropdown">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running TARDIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">Graphical User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="atomic.html">Atomic Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="plasma.html">Plasma</a></li>
<li class="toctree-l1"><a class="reference internal" href="montecarlo.html">Radiative Monte Carlo</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>
</ul>
</li>
            <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Configuration File</a><ul>
<li><a class="reference internal" href="#plasma">Plasma</a></li>
<li><a class="reference internal" href="#model">Model</a></li>
<li><a class="reference internal" href="#montecarlo">MonteCarlo</a></li>
<li><a class="reference internal" href="#spectrum">Spectrum</a></li>
<li><a class="reference internal" href="#config-reader">Config Reader</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          
          
            
          
          
            <li></li>
          
        </ul>

        
          
<form class="navbar-search pull-right" style="margin-bottom:-3px;" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

  
  <div class="section" id="configuration-file">
<span id="config-file"></span><h1>Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h1>
<p>TARDIS uses the <a class="reference external" href="https://en.wikipedia.org/wiki/YAML">YAML markup language</a> for its configuration files. There are several sections which allow different
settings for the different aspects of the TARDIS calculation. An example configuration file can be downloaded
<tt class="xref download docutils literal"><span class="pre">here</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">One should note that currently floats in YAML need to be specified in a special format:
any pure floats need to have a +/- after the e e.g. 2e+5</p>
</div>
<p>Every configuration file begins with the most basic settings for the model:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="nn">---</span>
<span class="c1">#Currently only simple1d is allowed</span>
<span class="l-Scalar-Plain">config_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">simple1d</span>

<span class="c1">#luminosity any astropy.unit convertible to erg/s</span>
<span class="c1">#special unit log_lsun(log(luminosity) - log(L_sun)</span>
<span class="l-Scalar-Plain">luminosity</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">9.44 log_lsun</span>

<span class="c1">#time since explosion</span>
<span class="l-Scalar-Plain">time_explosion</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">13 day</span>

<span class="l-Scalar-Plain">atom_data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">../atom_data/kurucz_atom_chianti_many.h5</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">config_type</span></tt> currently only allows <tt class="docutils literal"><span class="pre">simple1d</span></tt>, but might be expanded in future versions of TARDIS. Many
parameters in the TARDIS configuration files make use of units. One can use any unit that is supported by
<a class="reference external" href="http://docs.astropy.org/en/stable/units/index.html">astropy units</a> as well as the unit <tt class="docutils literal"><span class="pre">log_lsun</span></tt>
which is <span class="math">\(\log(L) - \log(L_\odot)\)</span>. Time since explosion just takes a normal time quantity. <tt class="docutils literal"><span class="pre">atom_data</span></tt> requires
the path to the HDF5 file that contains the atomic data (more information about the HDF5 file can be found
here <a class="reference internal" href="atomic.html#atomic-data"><em>Atomic Data</em></a>).</p>
<div class="section" id="plasma">
<h2>Plasma<a class="headerlink" href="#plasma" title="Permalink to this headline">¶</a></h2>
<p>The next configuration block describes the plasma parameters:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">plasma</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">initial_t_inner</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">10000 K</span>
    <span class="l-Scalar-Plain">initial_t_rad</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">10000 K</span>
    <span class="l-Scalar-Plain">disable_electron_scattering</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">no</span>
    <span class="l-Scalar-Plain">plasma_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">nebular</span>
    <span class="c1">#radiative_rates_type - currently supported are lte, nebular and detailed</span>
    <span class="l-Scalar-Plain">radiative_rates_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">detailed</span>
    <span class="c1">#line interaction type - currently supported are scatter, downbranch and macroatom</span>
    <span class="l-Scalar-Plain">line_interaction_type</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">macroatom</span>
    <span class="l-Scalar-Plain">w_epsilon</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1.0e-10</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">inital_t_inner</span></tt> is temperature of the black-body on the inner boundary. <tt class="docutils literal"><span class="pre">initial_t_rad</span></tt> is the
radiation temperature for all cells. For debugging purposes and to compare to <a class="reference internal" href="glossary.html#term-synapps"><em class="xref std std-term">synapps</em></a> calculations one can
disable the electron scattering. TARDIS will issue a warning that this is not physical.
There are currently two <tt class="docutils literal"><span class="pre">plasma_type</span></tt> options available: <tt class="docutils literal"><span class="pre">nebular</span></tt> and <tt class="docutils literal"><span class="pre">lte</span></tt> which tell TARDIS how to run the
ionization equilibrium and level population calculations (see <a class="reference internal" href="plasma.html#plasmas"><em>Plasma</em></a> for more information).
The radiative rates describe how to calculate the <span class="math">\(J_\textrm{blue}\)</span> needed for the <em class="xref std std-ref">nlte</em> calculations and
<em class="xref std std-ref">macroatom</em> calculations. There are three options for <tt class="docutils literal"><span class="pre">radiative_rates_type</span></tt>: 1) <tt class="docutils literal"><span class="pre">lte</span></tt> in which
<span class="math">\(J_\textrm{blue} = \textrm{Blackbody}(T_\textrm{rad})\)</span>, 2) <tt class="docutils literal"><span class="pre">nebular</span></tt> in which
<span class="math">\(J_\textrm{blue} = W \times \textrm{Blackbody}(T_\textrm{rad})\)</span>, 3) <tt class="docutils literal"><span class="pre">detailed</span></tt> in which the <span class="math">\(J_\textrm{blue}\)</span>
are calculated using an estimator (this is described in ??????).</p>
<p>TARDIS currently supports three different kinds of line interaction: <tt class="docutils literal"><span class="pre">scatter</span></tt> - a resonance scattering implementation,
<tt class="docutils literal"><span class="pre">macroatom</span></tt> - the most complex form of line interaction described in <em class="xref std std-ref">macroatom</em> and <tt class="docutils literal"><span class="pre">downbranch</span></tt> a simplified
version of <tt class="docutils literal"><span class="pre">macroatom</span></tt> in which only downward transitions are allowed.</p>
<p>Finally, <tt class="docutils literal"><span class="pre">w_epsilon</span></tt> describes the dilution factor to use to calculate <span class="math">\(J_\textrm{blue}\)</span> that are 0, which
causes problem with the code (so <span class="math">\(J_\textrm{blue}\)</span> are set to a very small number).</p>
<p><strong>NLTE</strong>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">nlte</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">coronal_approximation</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">True</span>
    <span class="l-Scalar-Plain">classical_nebular</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">False</span>
</pre></div>
</div>
<p>The NLTE configuration currently allows setting <tt class="docutils literal"><span class="pre">coronal_approximation</span></tt> which sets all <span class="math">\(J_\textrm{blue}\)</span> to 0.
This is useful for debugging with <em class="xref std std-term">chianti</em> for example. Furthermore one can enable &#8216;classical_nebular&#8217; to set all
<span class="math">\(\beta_\textrm{Sobolev}\)</span> to 1. Both options are used for checking with other codes and should not be enabled in
normal operations.</p>
</div>
<div class="section" id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<p>The next sections, describing the model, are very hierarchical. The base level is <tt class="docutils literal"><span class="pre">model</span></tt> and contains two subsections:
<tt class="docutils literal"><span class="pre">structure</span></tt> and <tt class="docutils literal"><span class="pre">abundances</span></tt>. Both sections can either contain a <tt class="docutils literal"><span class="pre">file</span></tt> subsection which specifies a file and
file type where the information is stored or a number of other sections.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">model</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">structure</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">no_of_shells</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">20</span>

        <span class="l-Scalar-Plain">velocity</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">type</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">linear</span>
            <span class="l-Scalar-Plain">v_inner</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1.1e4 km/s</span>
            <span class="l-Scalar-Plain">v_outer</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2e4 km/s</span>


        <span class="l-Scalar-Plain">density</span><span class="p-Indicator">:</span>
            <span class="c1">#showing different configuration options separated by comments</span>
            <span class="c1">#simple uniform:</span>
            <span class="c1">#---------------</span>
<span class="c1">#            type : uniform</span>
<span class="c1">#            value : 1e-12 g/cm^3</span>
            <span class="c1">#---------------</span>

            <span class="c1">#branch85_w7 - fit of seven order polynomial to W7 (like Branch 85):</span>
            <span class="c1">#---------------</span>
            <span class="l-Scalar-Plain">type</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">branch85_w7</span>
            <span class="c1">#value : 1e-12</span>
            <span class="c1"># default, no need to change!</span>
            <span class="c1">#time_0 : 19.9999584 s</span>
            <span class="c1"># default, no need to change!</span>
            <span class="c1">#density_coefficient : 3e29</span>
            <span class="c1">#---------------</span>


<span class="c1">#        file:</span>
<span class="c1">#            type : artis</span>
<span class="c1">#            name : artis_model.dat</span>
<span class="c1">#            v_lowest: 10000.0 km/s</span>
<span class="c1">#            v_highest: 20000.0 km/s</span>
</pre></div>
</div>
<p>In the <tt class="docutils literal"><span class="pre">structure</span></tt> section, one can specify a <tt class="docutils literal"><span class="pre">file</span></tt> section containing a <tt class="docutils literal"><span class="pre">type</span></tt> parameter
(currently only <tt class="docutils literal"><span class="pre">artis</span></tt> is supported``) and a <tt class="docutils literal"><span class="pre">name</span></tt> parameter giving a path top a file. For the <tt class="docutils literal"><span class="pre">artis</span></tt> type,
one can specify the inner and outermost shell by giving a <tt class="docutils literal"><span class="pre">v_lowest</span></tt> and <tt class="docutils literal"><span class="pre">v_highest</span></tt> parameter. This will result in
the selection of certain shells which will be obeyed in the abundance section as well if <tt class="docutils literal"><span class="pre">artis</span></tt> is selected there as
well.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If a <tt class="docutils literal"><span class="pre">file</span></tt> section is given, all other parameters and sections in the <tt class="docutils literal"><span class="pre">structure</span></tt> section are ignored!</p>
</div>
<p>If one doesn&#8217;t specify a <tt class="docutils literal"><span class="pre">file</span></tt> section, the code requires two sections (<tt class="docutils literal"><span class="pre">velocities</span></tt> and <tt class="docutils literal"><span class="pre">densities</span></tt>) and a
parameter <tt class="docutils literal"><span class="pre">no_of_shells</span></tt>. <tt class="docutils literal"><span class="pre">no_of_shells</span></tt> is the requested number of shells for a model. The <tt class="docutils literal"><span class="pre">velocity</span></tt> section
requires a <tt class="docutils literal"><span class="pre">type</span></tt>. Currently, only <tt class="docutils literal"><span class="pre">linear</span></tt> is supported and needs two parameters <tt class="docutils literal"><span class="pre">v_inner</span></tt> and <tt class="docutils literal"><span class="pre">v_outer</span></tt> with
velocity values for the inner most and outer most shell.</p>
<dl class="docutils">
<dt>In the <tt class="docutils literal"><span class="pre">densities</span></tt> section the <tt class="docutils literal"><span class="pre">type</span></tt> parameter again decides on the parameters. The type <tt class="docutils literal"><span class="pre">uniform</span></tt> only needs a</dt>
<dd><tt class="docutils literal"><span class="pre">value</span></tt> parameter with a density compatible quantity. The type <tt class="docutils literal"><span class="pre">branch85_w7</span></tt> uses a seven order polynomial fit to
the W7 model and is parametrised by time since explosion. The parameters <tt class="docutils literal"><span class="pre">time_0</span></tt> and <tt class="docutils literal"><span class="pre">density_coefficient</span></tt> are set
to sensible defaults and should not be changed.</dd>
</dl>
<div class="highlight-yaml"><div class="highlight"><pre><span class="c1">#-- continued from model block before --</span>
    <span class="l-Scalar-Plain">abundances</span><span class="p-Indicator">:</span>
        <span class="c1">#file:</span>
        <span class="c1">#    type : artis</span>
        <span class="c1">#    name : artis_abundances.dat</span>

        <span class="l-Scalar-Plain">nlte_species</span> <span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">Si2</span><span class="p-Indicator">]</span>
        <span class="l-Scalar-Plain">C</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.01</span>
        <span class="l-Scalar-Plain">O</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.01</span>
        <span class="l-Scalar-Plain">Ne</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.01</span>
        <span class="l-Scalar-Plain">Mg</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.01</span>
        <span class="l-Scalar-Plain">Si</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.45</span>
        <span class="l-Scalar-Plain">S</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.35</span>
        <span class="l-Scalar-Plain">Ar</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.04</span>
        <span class="l-Scalar-Plain">Ca</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.03</span>
        <span class="l-Scalar-Plain">Fe</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.07</span>
        <span class="l-Scalar-Plain">Co</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.01</span>
        <span class="l-Scalar-Plain">Ni</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.01</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">abundance</span></tt> section again has a possible <tt class="docutils literal"><span class="pre">file</span></tt> parameter with <tt class="docutils literal"><span class="pre">type</span></tt> (currently only <tt class="docutils literal"><span class="pre">artis</span></tt> is allowed)
and a <tt class="docutils literal"><span class="pre">name</span></tt> parameter giving a path to a file containing the abundance information.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In contrast to the <tt class="docutils literal"><span class="pre">structure</span></tt> section, the <tt class="docutils literal"><span class="pre">abundance</span></tt> section will not ignore abundances set in the rest of
the section, but merely will overwrite the abundances given in the file section.</p>
</div>
<p>In this section we also specify the species that will be calculated with our <em class="xref std std-ref">nlte</em> formalism using the
<tt class="docutils literal"><span class="pre">nlte_species</span></tt> parameter (they are specified in a list using astrophysical notation, e.g. [Si2, Ca2, Mg2, H1]).
The rest of the section can be used to configure uniform abundances for all shells, by giving the atom name and a
relative abundance fraction. If it does not add up to 1., TARDIS will warn - but normalize the numbers.</p>
</div>
<div class="section" id="montecarlo">
<h2>MonteCarlo<a class="headerlink" href="#montecarlo" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">montecarlo</span></tt> section describes the parameters for the MonteCarlo radiation transport and convergence criteria:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">montecarlo</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">seed</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">23111963171620</span>
    <span class="l-Scalar-Plain">no_of_packets</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2.e+4</span>
    <span class="l-Scalar-Plain">iterations</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">100</span>

    <span class="l-Scalar-Plain">convergence_criteria</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">specific</span>
        <span class="l-Scalar-Plain">damping_constant</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.5</span>
        <span class="l-Scalar-Plain">threshold</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.05</span>
        <span class="l-Scalar-Plain">fraction</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.8</span>
        <span class="l-Scalar-Plain">hold</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">3</span>

<span class="c1">#    convergence_criteria:</span>
<span class="c1">#        type: damped</span>
<span class="c1">#        damping_constant: 0.5</span>
<span class="c1">#        t_inner:</span>
<span class="c1">#            damping_constant: 0.7</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">seed</span></tt> parameter seeds the random number generator first for the creation of the packets
(<span class="math">\(\nu\)</span> and <span class="math">\(\mu\)</span>) and then the interactions in the actual MonteCarlo process.
The <tt class="docutils literal"><span class="pre">no_of_packets</span></tt> parameter can take a float number for input convenience and gives the number of packets normally
used in each MonteCarlo loop. The parameters <tt class="docutils literal"><span class="pre">last_no_of_packets</span></tt> and <tt class="docutils literal"><span class="pre">no_of_virtual_packets</span></tt> influence the last run
of the MonteCarlo loop when the radiation field should have converged. <tt class="docutils literal"><span class="pre">last_no_of_packets</span></tt> is normally higher than
<tt class="docutils literal"><span class="pre">no_of_packets</span></tt> to create a less noisy output spectrum. <tt class="docutils literal"><span class="pre">no_of_virtual_packets</span></tt> can also be set to greater than 0 to
use the Virtual Packet formalism (reference missing ?????). The <tt class="docutils literal"><span class="pre">iterations</span></tt> parameter describes the maximum number of
MonteCarlo loops executed in a simulation before it ends. Convergence criteria can be used to make the simulation stop
sooner when the convergence threshold has been reached.</p>
<p>The <tt class="docutils literal"><span class="pre">convergence_criteria</span></tt> section again has a <tt class="docutils literal"><span class="pre">type</span></tt> keyword. Two types are allowed: <tt class="docutils literal"><span class="pre">damped</span></tt> and <tt class="docutils literal"><span class="pre">specific</span></tt>.
All convergence criteria can be specified separately for the three variables for which convergence can be checked
(<tt class="docutils literal"><span class="pre">t_inner</span></tt>, <tt class="docutils literal"><span class="pre">t_rad</span></tt>, <tt class="docutils literal"><span class="pre">ws</span></tt>) by specifying subsections in the <tt class="docutils literal"><span class="pre">convergence_criteria</span></tt> of the same name. These
override then the defaults.</p>
<ol class="arabic">
<li><p class="first"><tt class="docutils literal"><span class="pre">damped</span></tt> only has one parameter <tt class="docutils literal"><span class="pre">damping-constant</span></tt> and does not check for convergence.</p>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">specific</span></tt> checks for the convergence threshold specified in <tt class="docutils literal"><span class="pre">threshold</span></tt>. For <tt class="docutils literal"><span class="pre">t_rad</span></tt> and <tt class="docutils literal"><span class="pre">w</span></tt> only a given</dt>
<dd><p class="first last">fraction (specified in <tt class="docutils literal"><span class="pre">fraction</span></tt>) has to cross the <tt class="docutils literal"><span class="pre">threshold</span></tt>. Once a convergence  threshold is read, the simulation
needs to hold this state for <tt class="docutils literal"><span class="pre">hold</span></tt> number of iterations.</p>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="spectrum">
<h2>Spectrum<a class="headerlink" href="#spectrum" title="Permalink to this headline">¶</a></h2>
<p>The spectrum section defines the</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">spectrum</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">start</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">500 angstrom</span>
    <span class="l-Scalar-Plain">end</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">20000 angstrom</span>
    <span class="l-Scalar-Plain">bins</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1000</span>
    <span class="l-Scalar-Plain">sn_distance</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">lum_density</span>
    <span class="c1">#sn_distance : 10 Mpc</span>
</pre></div>
</div>
<p>Start and end are given as Quantities with units. If they are given in frequency space they are switched around if
necessary. The number of bins is just an integer. Finally the <tt class="docutils literal"><span class="pre">sn_distance</span></tt> can either be a distance or the special
parameter <tt class="docutils literal"><span class="pre">lum_density</span></tt> which sets the distance to <span class="math">\(\sqrt{\frac{1}{4 \pi}}\)</span> to calculate the luminosity density.</p>
</div>
<div class="section" id="config-reader">
<h2>Config Reader<a class="headerlink" href="#config-reader" title="Permalink to this headline">¶</a></h2>
<p>The YAML file is read by using a classmethod of the <tt class="xref py py-meth docutils literal"><span class="pre">from_yaml()</span></tt>.</p>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, TARDIS team.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>