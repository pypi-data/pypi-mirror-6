<html tal:replace="structure context/manage_page_header"/>
     <span tal:replace="structure context/manage_tabs"/>

  <span tal:replace="structure string:<script type=text/javascript language=javascript><!--"/>
    function doSubType() {
      document.form.subtype.value = document.form.subtype_list[document.form.subtype_list.selectedIndex].value;
    }

    function doSubTypeList() {
       removectr = (document.form.subtype_list.options.length) - 1;
       while (removectr > -1) {
           document.form.subtype_list.options[removectr]=null;
           removectr--;
       }
       switch(document.form.type.value) {<span tal:omit-tag="" tal:repeat="type container/Types">
           case "<span tal:replace="type"/>":<span tal:omit-tag="" tal:repeat="st python: container.subtypes(type)">
              document.form.subtype_list.options[<span tal:replace="repeat/st/index"/>] = new Option("<span tal:replace="st"/>", "<span tal:replace="st"/>", false, false);</span>
	      break;</span>
       }
       <span tal:omit-tag="" tal:condition="container/Types">
       document.form.subtype.value = document.form.subtype_list[document.form.subtype_list.selectedIndex].value;
       </span>
    }
<span tal:replace="structure string://--></script>"/>
        

      <form name="form" action="" tal:attributes="action request/URL1" method="post">
         <table cellspacing="0" cellpadding="2" border="0">
              <tr>
                  <td class="form-label">Currency</td>
                  <td class="form-element" colspan="3">
                       <span tal:replace="context/base_currency"/>
                  </td>
              </tr>
              <tr>
                  <td class="form-label">Title</td>
                  <td class="form-element" colspan="3">
                      <input type="text" class="form-element" name="title" size="35" value=""
                            tal:attributes="value context/title | nothing">
                  </td>
              </tr>
              <tr>
                  <td class="form-label" valign="top">Description</td>
                  <td class="form-element" colspan="3">
                      <textarea rows="5" cols="50" name="description:text"
                            tal:content="context/description | nothing"></textarea>
                  </td>
              </tr>
               <tr>
                  <td class="form-label">Number</td>
                  <td class="form-element">
                      <input type="text" class="form-element" name="accno" size="8" value=""
                            tal:attributes="value context/accno">
                  </td>
              </tr>
             <tr>
                  <td class="form-label">Type</td>
                  <td class="form-element">
                      <select name="type" onchange="doSubTypeList()"> 
                          <option tal:repeat="type context/Types"
                                  tal:content="type" selected 
                                  tal:attributes="selected python: context.type == type and 1 or 0"/>
                      </select>
                  </td>
              </tr>
             <tr>
                  <td class="form-label">Sub-Type</td>
                  <td class="form-element">
                      <input type="text" class="form-element" name="subtype" value=""
                             tal:attributes="value context/subtype"/>
                      &nbsp;<i>in</i>&nbsp;
                      <select name="subtype_list" class="form-element" onchange="doSubType()">
                         <option tal:repeat="st python: container.subtypes(context.type)"
                                 tal:content="st" selected
                                 tal:attributes="selected python: context.subtype == st and 1 or 0"/>
                  </td>
              </tr>
               <tr>
                  <td class="form-label" valign="top">Tags</td>
                  <td class="form-element">
                      <textarea name="tags:lines" rows="4" cols="40" 
                                tal:content="python: '\n'.join(context.tags)"/>
                  </td>
              </tr>
              <tr>
                 <td colspan=2>
                   <input type="submit" class="form-element" name="manage_edit:method" value=" Edit ">
                 </td>
              </tr>
        </table>
      </form>
<html tal:replace="structure context/manage_page_footer"/>




