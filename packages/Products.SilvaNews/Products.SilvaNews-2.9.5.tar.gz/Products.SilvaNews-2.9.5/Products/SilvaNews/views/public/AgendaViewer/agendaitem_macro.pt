<metal:macro define-macro="agendaitem">
 <h3 class="heading newsitemheading" tal:content="structure r/get_title">article title</h3>
 <div class="newsiteminfo">
   <p class="p eventdates"
       tal:define="startdate r/start_datetime;
                   enddate r/end_datetime"
       tal:condition="python: startdate or enddate">
     <tal:if condition="startdate">
       <span tal:omit-tag="" i18n:translate="">Start:</span>
       <tal:insert replace="python: formatdate(startdate, obj.display_time())" />
     </tal:if>
     <tal:if condition="enddate"><br />
       <span tal:omit-tag="" i18n:translate="">End:</span>
       <tal:insert replace="python: formatdate(enddate, obj.display_time())" />
     </tal:if>
   </p>
 </div>
 <div class="newsintro">
   <img 
     tal:define="classname python: 'newsitem-thumbnail-%s'%(repeat['r'].odd() and 'odd' or 'even')"
     tal:replace="structure python: obj.get_thumbnail(classname)"
    />
  <tal:insert replace="structure r/get_intro" />
 </div>

 <p class="p articlelink">
   <a tal:attributes="href python:obj.get_content().absolute_url()" i18n:translate="">
     view article
   </a>
 </p>
</metal:macro>
