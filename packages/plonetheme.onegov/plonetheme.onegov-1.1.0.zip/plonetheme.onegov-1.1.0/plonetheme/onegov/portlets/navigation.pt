<dl class="portlet portletContextNavigation"
    i18n:domain="plonetheme.onegov"
    tal:define="parent nocall:view/parent;
                children view/children;
                siblings view/siblings">

  <dt class="portletHeader hiddenStructure">
    <span class="portletTopLeft"></span>
    <span>Navigation</span>
    <span class="portletTopRight"></span>
  </dt>

  <dd class="portletItem">
    <ul>
      <tal:parent condition="view/show_parent">
        <li class="parent">
          <a tal:attributes="href parent/absolute_url;
                             title parent/Title"
             tal:content="parent/Title"
             />
        </li>
      </tal:parent>

      <li class="sibling beforeContext" tal:repeat="sibling siblings/before_context|nothing">
          <a tal:attributes="href sibling/getURL;
                             title sibling/Title"
             tal:content="sibling/Title"/>
      </li>

      <li class="current" tal:content="context/Title" />

      <tal:children repeat="child children">
        <li class="child">
          <a tal:attributes="href child/getURL;
                             title child/Title"
             tal:content="child/Title"
             />
        </li>
      </tal:children>

      <li class="sibling afterContext" tal:repeat="sibling siblings/after_context|nothing">
          <a tal:attributes="href sibling/getURL;
                             title sibling/Title"
             tal:content="sibling/Title"/>
      </li>

    </ul>
  </dd>

</dl>
