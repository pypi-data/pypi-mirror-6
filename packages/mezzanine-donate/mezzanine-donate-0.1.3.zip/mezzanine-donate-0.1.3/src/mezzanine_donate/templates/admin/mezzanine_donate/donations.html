{% extends "admin/base_site.html" %}

{% load i18n future staticfiles %}

{% block extrahead %}
{{ block.super }}
<link rel="stylesheet" href="{% static "mezzanine/css/admin/form_entries.css" %}">
<script type="text/javascript" src="{% url 'django.views.i18n.javascript_catalog' packages="mezzanine.forms" %}"></script>
<script src="{% static "mezzanine/js/admin/form_entries.js" %}"></script>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
     <a href="../../../../">{% trans "Home" %}</a> &rsaquo;
     <a href="../../../">{{ opts.app_label|capfirst|escape }}</a> &rsaquo;
     <a href="../../">{{ opts.verbose_name_plural|capfirst }}</a> &rsaquo;
     <a href="../">{{ original|truncatewords:"18" }}</a> &rsaquo;
     {{ title }}
</div>
{% endblock %}

{% block content %}
<div id="content-main">
    <input type="submit" name="back" class="button" value="{% trans "Back to form" %}" />
    <div class="clearfix"></div>
    <h1 id="entries-title">Donations</h1>
    <table id="entries-table">
        <tr>
          <th>Donated at</th>
          <th>Name</th>
          <th>Email</th>
          <th>Phone no.</th>
          <th>Amount</th>
          <th>Note</th>
        </tr>
    {% for donation in donations %}
      <tr>
        <td>{{ donation.donated_at|date:"M-d-Y H:m" }}</td>
        <td>{{ donation.name }}</td>
        <td>{{ donation.email }}</td>
        <td>{{ donation.phone }}</td>
        <td>${{ donation.amount }}</td>
        <td>{{ donation.note }}</td>
      </tr>
      {% if forloop.last %}
      <!--
      count is injected into the title here with the :after selector
      to avoid calling the expensive "entries_form.rows" twice.
      -->
      <style>#entries-title:after {content: ' ({{ forloop.counter }})';}</style>
      {% endif %}
    {% endfor %}
    </table>

</div>
{% endblock %}
