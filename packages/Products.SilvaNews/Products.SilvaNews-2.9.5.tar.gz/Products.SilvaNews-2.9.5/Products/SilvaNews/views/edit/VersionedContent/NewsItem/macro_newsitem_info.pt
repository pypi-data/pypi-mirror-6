<metal:newsarticleinfo define-macro="newsitem_info_article">
<div class="info"
  style="float: right; width: 20%; margin: 12px 0.8em 0.8em 0;"
  tal:define="icon python:context.render_icon(model)">
  <h3 i18n:translate="">
    <img tal:replace="structure icon" /> newsitem info
  </h3>
  <p>
    <tal:newsarticlesubject 
      tal:define="subject_ids python: model.get_viewable().subjects();"
      tal:condition="subject_ids">
      <span i18n:translate="" class="subhead">subject</span><br />
      <tal:subjects repeat="sid subject_ids"><tal:sid content="python: model.service_news.subject_title(sid)" /><br /></tal:subjects>
    </tal:newsarticlesubject>
  </p>
  <p>
    <tal:newsarticleaudience
      tal:define="audience_ids python: model.get_viewable().target_audiences();"
      tal:condition="audience_ids">
    <span i18n:translate="" class="subhead">target audience</span><br />
    <tal:audiences repeat="aid audience_ids"><tal:aid content="python: model.service_news.target_audience_title(aid)" /><br /></tal:audiences>
    </tal:newsarticleaudience>
  </p>
  <p tal:define="publicationdate python: mangle.DateTime(model.get_public_version_publication_datetime())"
    tal:condition="publicationdate">
    <span i18n:translate="" class="subhead">publication date</span><br />
    <tal:publicationdate content="publicationdate" />
  </p>
  <p tal:define="displaydate python: mangle.DateTime(model.get_viewable().display_datetime())"
    tal:condition="displaydate">
    <span i18n:translate="" class="subhead">display date</span><br />
    <tal:startdate content="displaydate" />
  </p>
</div>
</metal:newsarticleinfo>

<metal:newsagendaiteminfo define-macro="newsitem_info_agenda_item">
<div class="info" style="float: right; width: 20%; margin: 12px 0.8em 0.8em 0;"
  tal:define="icon python:context.render_icon(model)">
  <h3 i18n:translate="">
    <img tal:replace="structure icon" /> newsitem info
  </h3>
  <p>
    <tal:newsarticlesubject 
      tal:define="subject_ids python: model.get_viewable().subjects();"
      tal:condition="subject_ids">
      <span i18n:translate="" class="subhead">subject</span><br />
      <tal:subjects repeat="sid subject_ids"><tal:sid content="python: model.service_news.subject_title(sid)" /><br /></tal:subjects>
    </tal:newsarticlesubject>
  </p>
  <p>
    <tal:newsarticleaudience
      tal:define="audience_ids python: model.get_viewable().target_audiences();"
      tal:condition="audience_ids">
      <span i18n:translate="" class="subhead">target audience</span><br />
      <tal:audiences repeat="aid audience_ids"><tal:aid content="python: model.service_news.target_audience_title(aid)" /><br /></tal:audiences>
    </tal:newsarticleaudience>
  </p>
  <p tal:define="publicationdate python: mangle.DateTime(model.get_public_version_publication_datetime())"
    tal:condition="publicationdate">
    <span i18n:translate="" class="subhead">publication date</span><br />
    <tal:startdate content="publicationdate" />
  </p>
  <p tal:define="displaydate python: mangle.DateTime(model.get_viewable().display_datetime())"
    tal:condition="displaydate">
    <span i18n:translate="" class="subhead">display date</span><br />
    <tal:startdate content="displaydate" />
  </p>

  <ul>
    <li tal:repeat="occurrence python:model.get_viewable().get_occurrences()">
      <p tal:define="startdate python: mangle.DateTime(occurrence.get_start_datetime())"
         tal:condition="startdate">
        <span i18n:translate="" class="subhead">start</span><br />
        <tal:startdate content="startdate" />
      </p>
      <p tal:define="enddate python: mangle.DateTime(occurrence.get_end_datetime())"
         tal:condition="enddate">
        <span i18n:translate="" class="subhead">end</span><br />
        <tal:enddate content="enddate" />
      </p>
      <p tal:define="location python: occurrence.get_location()"
         tal:condition="location">
        <span i18n:translate="" class="subhead">location</span><br />
        <tal:enddate content="location" />
      </p>
    </li>
  </ul>
</div>
</metal:newsagendaiteminfo>

