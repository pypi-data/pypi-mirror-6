<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is a manual to the Cursgame library. It should get you an idea
how to start.

Copyright (C) 2013 Sven Bartscher.

Licensed under the EUPL, Version 1.1 or - as soon they
will be approved by the European Commission - subsequent
versions of the EUPL (the "Licence");
You may not use this work except in compliance with the
Licence.
You may obtain a copy of the Licence at:
http://ec.europa.eu/idabc/eupl -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Cursgame Manual 0.2.0: Module game</title>

<meta name="description" content="Cursgame Manual 0.2.0: Module game">
<meta name="keywords" content="Cursgame Manual 0.2.0: Module game">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html#Top" rel="up" title="Top">
<link href="Module-map.html#Module-map" rel="next" title="Module map">
<link href="AIs.html#AIs" rel="prev" title="AIs">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Module-game"></a>
<div class="header">
<p>
Next: <a href="Module-map.html#Module-map" accesskey="n" rel="next">Module map</a>, Previous: <a href="Getting-started.html#Getting-started" accesskey="p" rel="prev">Getting started</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Module-game-1"></a>
<h2 class="chapter">2 Module game</h2>
<p>This chapter describes the contents of the game module in detail.<br>
The game module is imported from: <code>cursgame.game</code><br>
The game module is located at: <code>cursgame/game.py</code>
</p>
<a name="The-Game-class"></a>
<h3 class="section">2.1 The Game class</h3>
<a name="index-Game-in-detail"></a>
<a name="index-Game"></a>
<p>The Game class is at the top of the structures holding the data for
the game.  It holds the Map and the InputHandler.  It also provides
access to the log.
</p>
<a name="methods"></a>
<h4 class="subsection">2.1.1 methods</h4>
<p>Here are all methods of the Game class.
</p>
<a name="index-Game_002e_005f_005finit_005f_005f"></a>
<a name="g_t_005f_005finit_005f_005f_002fconstructor"></a>
<h4 class="subsubsection">2.1.1.1 __init__/constructor</h4>
<p>The game class takes at instanciation three arguments. The first is
the map. (See <a href="Module-map.html#Map">Map</a>.)  The second is the InputHandler
(See <a href="Module-inp.html#InputHandler">InputHandler</a>.) Since they are both needed for
creating the Game they need to be instanciated before the Game.  The
third argument is the size the log (see <a href="#log">log</a>) should have.  You can
subclass Game and overwrite methods like described below.
</p>
<a name="index-Game_002elogwrite"></a>
<a name="index-log"></a>
<a name="log"></a><a name="logwrite"></a>
<h4 class="subsubsection">2.1.1.2 logwrite</h4>
<p>This method takes one string and writes it in the log.  You don&rsquo;t need
to worry about scrolling the log manually.  logwrite does everything
that is needed to print the text you gave on the log on the left side
of the screen.  The log has has a size defined by the logsize
argument.  Note that the logsize is substracted from the size of the
screen used for printing the map. If the text is too long to fit in the
log it is splitted in multiple lines.
</p>
<a name="index-Game_002erefresh"></a>
<a name="Game_002erefresh"></a><a name="refresh"></a>
<h4 class="subsubsection">2.1.1.3 refresh</h4>
<p>This function is called once per frame.  It refreshes the physical
screen.  You shouldn&rsquo;t call it yourself except you&rsquo;re overwriting the
main loop of the game.  It takes two arguments.  The screen where the
map is printed on and the full screen.
</p>
<a name="index-Game_002eloop"></a>
<a name="index-The-main-loop"></a>
<a name="index-Main-loop"></a>
<a name="index-gameflow"></a>
<a name="Game_002eloop"></a><a name="loop"></a>
<h4 class="subsubsection">2.1.1.4 loop</h4>
<p>This function is called once per frame and does everything that has to
happen in this frame.  You shouldn&rsquo;t call it directly.  You can
override it in a subclass, but you should be carefull!  Your new loop
should at least do everything in this list:
</p><ul>
<li> Call the print method on the Map. See <a href="Module-map.html#Map">Map</a>.
</li><li> Refresh the screen. See <a href="#Game_002erefresh">Game.refresh</a>.
</li><li> Call get_input. See <a href="Module-inp.html#InputHandler">InputHandler</a>.
</li><li> Call the action-loop. See <a href="Module-map.html#Map">Map</a>.
</li><li> Return wether the game should continue.  True: continue False: end
</li></ul>
<p>Please note that it may not be necessary to override the loop
method. By default loop calls the method subloop
(see <a href="#Game_002esubloop">Game.subloop</a>).  It gets two arguments, the screen wehere the
map is printed on and the full screen.
</p>
<a name="index-subloop"></a>
<a name="index-Game_002esubloop"></a>
<a name="Game_002esubloop"></a><a name="subloop"></a>
<h4 class="subsubsection">2.1.1.5 subloop</h4>
<p>This method is called once per frame.  You can override it in a
subclass and do anything you want.  The return value is (by
default, (see <a href="#Game_002eloop">Game.loop</a>). used to determine wether the game should
continue.  If True is returned the game continues.  If False is
returned the game ends immediately.  This method takes no arguments
</p>
<a name="index-Game-class-setup"></a>
<a name="index-setup-the-Game-class"></a>
<a name="index-Game_002euser_005fsetup"></a>
<a name="user_005fsetup"></a>
<h4 class="subsubsection">2.1.1.6 user_setup</h4>
<p>This method is called at the end of the __init__ function.  You can
use it to initialize the game further, without overriding __init__.
</p>
<a name="index-Game_002erun"></a>
<a name="run"></a>
<h4 class="subsubsection">2.1.1.7 run</h4>
<p>This method is (indirectly) called by the start method
(see <a href="#Game_002estart">Game.start</a>).  It initializes the the game to an running
state.  You shouldn&rsquo;t call or override it.  It takes three arguments.
These are automatically created by padwrap (see <a href="#padwrap">padwrap</a>).  The arguments are in this order: The screen for the map,
the full screen, the screen for the log.
</p>
<a name="index-Game_002estart"></a>
<a name="index-Starting-the-game"></a>
<a name="Game_002estart"></a><a name="start"></a>
<h4 class="subsubsection">2.1.1.8 start</h4>
<p>This method starts the game.  It takes no arguments and starts the
main loop. It runs until the game ends. You shouldn&rsquo;t override, unless
you know what you&rsquo;re doing.
</p>
<a name="index-Game_002eset_005fend"></a>
<a name="index-Ending-the-game"></a>
<a name="index-Set-end-of-game"></a>
<a name="Ending-the-game"></a><a name="set_005fend_002fending-the-game"></a>
<h4 class="subsubsection">2.1.1.9 set_end/ending the game</h4>
<p>If you call this method the attribute Game.end is set to True. This
means that at the end of the running frame the game ends.  This method
takes on optional argument, which is ignored.  This is handy for use
with InputHandler (since the InputHandler gives one argument to the
callbacks).  Note that you can instead of calling this method you can
just set the variable Game.end to True yourself.  Also note that you
can end the game in the subloop, see <a href="#Game_002esubloop">Game.subloop</a>.
</p>
<a name="attributes"></a>
<h4 class="subsection">2.1.2 attributes</h4>
<p>Here are all the important attributes of the Game class.
</p>
<a name="index-Game_002emap"></a>
<a name="map"></a>
<h4 class="subsubsection">2.1.2.1 map</h4>
<p>This is the Map associated to the game.
</p>
<a name="index-Game_002einp"></a>
<a name="inp"></a>
<h4 class="subsubsection">2.1.2.2 inp</h4>
<p>This is the InputHandler associated with the game.
</p>
<a name="index-Game_002eend"></a>
<a name="end"></a>
<h4 class="subsubsection">2.1.2.3 end</h4>
<p>This variable marks wether the game should end at the end of the
running frame.  See <a href="#Ending-the-game">Ending the game</a>, for more on ending the game.
</p>
<a name="index-padwrap"></a>
<a name="padwrap"></a><a name="padwrap-1"></a>
<h3 class="section">2.2 padwrap</h3>

<p>This function is used by the start method of the game.  It&rsquo;s like
curses.wrapper but it is customized for the use with Cursgame.
Normally you don&rsquo;t want to use this function, since the Game class
handles this itself.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Module-map.html#Module-map" accesskey="n" rel="next">Module map</a>, Previous: <a href="Getting-started.html#Getting-started" accesskey="p" rel="prev">Getting started</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
