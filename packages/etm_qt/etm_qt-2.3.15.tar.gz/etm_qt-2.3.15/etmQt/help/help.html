<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>ETM Users Manual</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">ETM Users Manual</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#overview">Overview</a><ul>
<li><a href="#gtd-with-etm">GTD with etm</a></li>
<li><a href="#starting-etm">Starting etm</a></li>
<li><a href="#new-items">New items</a></li>
<li><a href="#details">Details</a></li>
<li><a href="#filtering">Filtering</a></li>
<li><a href="#editing">Editing</a></li>
<li><a href="#working-with-other-applications">Working with other applications</a></li>
<li><a href="#version-numbers">Version numbers</a></li>
</ul></li>
<li><a href="#data">Data</a><ul>
<li><a href="#sample-entries">Sample entries</a></li>
<li><a href="#characters-and-types">Characters and Types</a></li>
<li><a href="#dates">Dates</a></li>
<li><a href="#key-value-pairs"><span class="citation" data-cites="key-value">@key-value</span> pairs</a></li>
<li><a href="#folders">Folders</a></li>
</ul></li>
<li><a href="#views">Views</a><ul>
<li><a href="#day">Day</a></li>
<li><a href="#week">Week</a></li>
<li><a href="#month">Month</a></li>
<li><a href="#now">Now</a></li>
<li><a href="#next">Next</a></li>
<li><a href="#folder">Folder</a></li>
<li><a href="#keyword">Keyword</a></li>
<li><a href="#tag">Tag</a></li>
</ul></li>
<li><a href="#reports">Reports</a><ul>
<li><a href="#groupby">groupby</a></li>
<li><a href="#options">options</a></li>
</ul></li>
<li><a href="#shortcuts">Shortcuts</a><ul>
<li><a href="#general">General</a></li>
<li><a href="#day-view">Day View</a></li>
<li><a href="#week-view">Week View</a></li>
<li><a href="#month-view">Month View</a></li>
<li><a href="#tree-views">Tree Views</a></li>
<li><a href="#details-view">Details view</a></li>
<li><a href="#reports-dialog">Reports dialog</a></li>
<li><a href="#editor">Editor</a></li>
</ul></li>
<li><a href="#preferences">Preferences</a><ul>
<li><a href="#action_interval">action_interval</a></li>
<li><a href="#action_markups">action_markups</a></li>
<li><a href="#action_minutes">action_minutes</a></li>
<li><a href="#action_rates">action_rates</a></li>
<li><a href="#action_template">action_template</a></li>
<li><a href="#action_timer">action_timer</a></li>
<li><a href="#action_status">action_status</a></li>
<li><a href="#agenda">agenda</a></li>
<li><a href="#alert_default">alert_default</a></li>
<li><a href="#alert_displaycmd">alert_displaycmd</a></li>
<li><a href="#alert_soundcmd">alert_soundcmd</a></li>
<li><a href="#alert_template">alert_template</a></li>
<li><a href="#alert_voicecmd">alert_voicecmd</a></li>
<li><a href="#alert_wakecmd">alert_wakecmd</a></li>
<li><a href="#ampm">ampm</a></li>
<li><a href="#auto_completions">auto_completions</a></li>
<li><a href="#calendars">calendars</a></li>
<li><a href="#current-files">current files</a></li>
<li><a href="#datadir">datadir</a></li>
<li><a href="#dayfirst">dayfirst</a></li>
<li><a href="#edit_cmd">edit_cmd</a></li>
<li><a href="#email_template">email_template</a></li>
<li><a href="#etmdir">etmdir</a></li>
<li><a href="#filechange_alert">filechange_alert</a></li>
<li><a href="#fontsize">fontsize</a></li>
<li><a href="#mercurial-commands">Mercurial commands</a></li>
<li><a href="#icalendar-files">iCalendar files</a></li>
<li><a href="#local_timezone">local_timezone</a></li>
<li><a href="#monthly">monthly</a></li>
<li><a href="#report">report</a></li>
<li><a href="#rowsize">rowsize</a></li>
<li><a href="#show_finished">show_finished</a></li>
<li><a href="#smtp">smtp</a></li>
<li><a href="#sms">sms</a></li>
<li><a href="#sundayfirst">sundayfirst</a></li>
<li><a href="#sunmoon_location">sunmoon_location</a></li>
<li><a href="#weather_location">weather_location</a></li>
<li><a href="#weeks_after">weeks_after</a></li>
<li><a href="#window-height-and-width">window height and width</a></li>
<li><a href="#yearfirst">yearfirst</a></li>
</ul></li>
</ul>
</nav>
<h2 id="overview"><a href="#overview">Overview</a></h2>
<p><em>etm</em> is an acronym for event and task manager. It provides a format for using plain text files to store actions, events, notes, and tasks. Items can be created, modified and viewed in a variety of convenient ways using either using the command line or a cross-platform, PyQt based GUI. Available data types are discussed in the <em>Data</em> section. Possible views include <em>Day</em>, <em>Week</em>, <em>Month</em>, <em>Now</em>, <em>Next</em>, <em>Folder</em>, <em>Keyword</em> and <em>Tag</em>. These are discussed in the <em>Views</em> section. Custom, report views that can be exported and printed are discussed in the <em>Reports</em> section. There are keyboard shortcuts for all actions which are discussed in the <em>Shortcuts</em> section. Possible user preference settings are discussed in the <em>Preferences</em> section.</p>
<p>The main window is illustrated below with the <em>Day</em> view selected.</p>
<center>
<img src="images/mainview.png" title="main view" />
</center>

<!-- <center>
<img src="file:///Users/dag/etm-qt/etmQt/help/images/mainview.png" alt="" title="main view" style="max-width: 500px; height: auto; " />
</center>
 -->

<p>Use Control-J to jump to a fuzzy parsed date, e.g., &quot;-1/1&quot; to go the first day of the previous month or &quot;+90&quot; to go to the date that is 90 days from today. The <em>Day</em>, <em>Week</em> and <em>Month</em> views will all change to show the selected date.</p>
<h3 id="gtd-with-etm"><a href="#gtd-with-etm">GTD with etm</a></h3>
<p><em>etm's</em> main goal is to make <em>Getting Things Done</em> easier. Commonly abbreviated as <em>GTD</em>, <em>Getting Things Done</em> is an action management method, and the title of a popular book by <a href="http://www.davidco.com/">David Allen</a>. It rests on the common sense notion that with a complete and current inventory of all commitments, organized and reviewed in a systematic way, the mind is freed from the job of remembering everything that needs to be done, and can focus on actually performing those tasks.</p>
<p>Three observations are critical:</p>
<ol type="1">
<li><p>Projects usually involve a series of steps, some of which must be carried out consecutively, e.g., parts must be acquired before assembly can begin.</p></li>
<li><p>The steps of a project are carried out in a context which may vary from step to step, e.g., parts may be acquired in the context 'errands' but assembly may be in the context 'workshop'.</p></li>
<li><p>While focusing on projects is great for planning, for actually doing things it would be more convenient to focus on context so that, for example, you could see all actions from all projects with context 'errands' before you drive off. To focus on what needs to be done, it would also be useful to be able to deemphasize actions that are not yet <em>available</em> so that, for example, 'assemble parts' is not prominently displayed until 'acquire parts' is complete.</p></li>
</ol>
<p><em>GTD</em> thus requires convenient methods for:</p>
<dl>
<dt>planning</dt>
<dd><p>storing and organizing all the bits.</p>
</dd>
<dt>acting</dt>
<dd><p>displaying just the information you need, when you need it.</p>
</dd>
<dt>reviewing</dt>
<dd><p>checking the status of all items your projects.</p>
</dd>
</dl>
<p>etm allows you to store and organize your commitments using a simple, intuitive format using plain text files. Here, for example, is a simple task</p>
<pre><code>- pay bills @s Oct 25</code></pre>
<p>and here is a task group in which the individual jobs must be finished in <code>@q</code> (queue) order, i.e., assemble is a prerequisite for paint.</p>
<pre><code>+ dog house
  @j pickup lumber and paint      &amp;q 1
  @j cut pieces                   &amp;q 2
  @j assemble                     &amp;q 3
  @j paint                        &amp;q 4</code></pre>
<p>Day view shows your commitments grouped and sorted by date. Now view shows your past due tasks grouped into available, waiting and delegated categories and sorted by due date. Next view shows your undated tasks grouped by context and sorted by priority and estimated completion time. Folder view provides project review in a glance by showing your commitments grouped by project file (folder) and displaying the <em>relevant</em> datetimes, i.e., the past due date for past due tasks, the starting datetime for non-repeating items and the datetime of the next instance for any repeating items. Keyword view provides another heirarchial view of your commitments again displaying relevant datetimes but grouped by keyword rather than folder. Tag view shows your commitments grouped by tag. Within each of these views, a filter can be used to limit the display to items matching a case-insensitive, regular expression.</p>
<p>In addition to these built-in views, report view gives you complete freedom to group, sort and filter your data in any way you wish.</p>
<p>In short, etm makes it easy for you to store and organize all the bits and to display just the information you need, when you need it.</p>
<h3 id="starting-etm"><a href="#starting-etm">Starting etm</a></h3>
<p>etm can be started using the command <code>etm_qt [arguments]</code> in a terminal window. With no arguments, etm will use settings from the configuration file <code>~/.etm/etm.cfg</code> and open the GUI.</p>
<p>If the first argument is the path to a directory which contains a file named <code>etm.cfg</code>, then settings from that file will be used instead.</p>
<p>If the first argument, other than the optional path, is either &quot;a&quot;, &quot;c&quot;, &quot;m&quot;, &quot;n&quot;, &quot;s&quot;, &quot;?&quot; or &quot;l&quot; (lower case L), then the remaining arguments will be executed by etm without opening the GUI.</p>
<ul>
<li>a: display an action report using the remaining arguments as the report specification.</li>
<li>c: display a custom report using the remaining arguments as the report specification.</li>
<li>m: display a report using the remaining argument, which must be a positive integer, to display a report using the corresponding entry from the file given by <code>report_specifications</code> in <code>etm.cfg</code>. Use <code>? m</code> or <code>m ?</code> to display the numbered list of entries from this file.</li>
<li>n: create a new item using the remaining arguments as the item specification.</li>
<li>s: display the next few days from the day view combined with any items in the now and next views.</li>
<li>?: display command line help information or, if followed by a, c, m or s, then display help information about the specified command.</li>
<li>l: begin an interactive shell loop in which the above commands are available and can be adjusted and run again without reloading the data files.</li>
</ul>
<p>See the report help section for details about creating reports and the preferences help section for details about the possible settings for <code>etm.cfg</code>.</p>
<h3 id="new-items"><a href="#new-items">New items</a></h3>
<p>Details about item types and options are available in the <em>Data</em> section.</p>
<ul>
<li><p>To create a new item, either click on the new item button or press Control-N. This will open an edit window for your entry. When done, click on the Save Icon or press Control-S to save your entry and choose a file from the dialog.</p></li>
<li><p>Need to schedule an event? Use the week view to find a free period and then double click on the desired date and time. The editor will open with the date and time you selected already entered.</p></li>
<li><p>To create a new action, either click on the new action button or press Control-T to create a new action timer.</p>
<center>
<img src="images/action_start.png" title="action timer start" />
</center>

<p>Enter a summary of your new action and press Return to start the timer. The display will change to show timer control buttons and elapsed time:</p>
<center>
<img src="images/action_running.png" title="action timer running" />
</center>

<p>When you are finished, either click on the stop timer button or press Shift + Control-T to stop the timer and open an edit window to record the action. Your summary, the date and time you began the action and the elapsed time will automatically be entered:</p>
<center>
<img src="images/action_finish.png" title="action timer finish" />
</center>

</li>
<li><p>Want to work on a task and record the time you spend? Select the task and then click on &quot;create a new action timer based on this item&quot; to start a timer with all the relevant details of the task already entered.</p></li>
<li><p>Need to quickly enter some information before you forget? Press Control-S to open the scratch pad. Type whatever you want to remember. You can either leave the scratch pad open or press Control-Return to close it. When you next open the scratch pad, even if you have closed and restarted etm, your previous entry will be there for you to copy or edit. Additionally, when you are editing a item or an action, you can press Control-I to insert the contents of the scratch pad at the cursor.</p></li>
</ul>
<h3 id="details"><a href="#details">Details</a></h3>
<p>To examine the details of an item, either select it and press <em>Return</em> or double click on it. The details of the selected item will be displayed along with a number of possible actions related to the item:</p>
<center>
<img src="images/detailsview.png" title="details view" />
</center>

<p>With repeating items, choosing either edit or delete entails a further choice of what to change/delete:</p>
<dl>
<dt>Only the datetime of this instance</dt>
<dd>This option only applies to edit. Use it, for example, when you have a repeating event and you want to change the day or time for this instance only. This is a shortcut in which you simply enter the new fuzzy parsed datetime and the change is made without opening the editor.
</dd>
<dt>This instance</dt>
<dd>Use this, for example, if you want to change the summary or add something to the description of this instance of the item or you want to delete this single instance.
</dd>
<dt>This and all subsequent instances</dt>
<dd>Use this, for example, if a repeating event is changing to a new week day or time or a repeating event is ending and you want to remove all the future repetitions.
</dd>
<dt>All instances</dt>
<dd>Use this, for example, to change the summary and have the change apply to all repetitions of the item.
</dd>
</dl>
<h3 id="filtering"><a href="#filtering">Filtering</a></h3>
<p>You can enter an expression, either a plain string or a regular expression, in the pattern filter to limit the display in any of the tree (outline) views to items whose summaries (titles) or branches match the pattern. As each character is entered the display is updated to show only items that still match. Note the effect of changing the pattern from &quot;v&quot; to &quot;vo&quot; in the day view below:</p>
<center>
<img src="images/pattern_filter1.png" title="v entered in pattern filter" /> <img src="images/pattern_filter2.png" title="vo entered in pattern filter" />
</center>

<p>You can identify items with a particular tag by switching to the tag view and then entering a pattern for the tag(s) you want in the pattern filter. Only items from the matching tag branches will be displayed. This approach also works for filtering items in the keyword or folder view, the latter illustrated below. Note that the effect of entering &quot;us&quot; in the pattern filter is to expand the matching branches and summaries:</p>
<center>
<img src="images/folder_view1.png" title="folder view" /> <img src="images/folder_view2.png" title="folder view with pattern filter" />
</center>

<p>Press <em>Escape</em> to clear the filter and activate the <em>Select view</em> menu.</p>
<h3 id="editing"><a href="#editing">Editing</a></h3>
<p>The <em>etm</em> editor supports both syntax highlighting for etm data files and automatic completion. As illustrated below, different colors are provided for different item types and both <code>@key</code> and <code>&amp;key</code> entries are highlighted. Entries using unsupported keys, such as <code>@h</code> below, are also highlighted as errors.</p>
<center>
<img src="images/highlighting.png" title="Editor highlighting" />
</center>

<p>Automatic completion uses a list of possible completions in a text file specified by <code>auto_completions</code> in your <code>etm.cfg</code>. Each line in this file provides a possible completion, for example:</p>
<pre><code>@c computer
@c home
@c errands
@c office
@c phone
@z US/Eastern
@z US/Central
@z US/Mountain
@z US/Pacific
dnlgrhm@gmail.com</code></pre>
<p>As soon as you enter &quot;<span class="citation" data-cites="c">@c</span>&quot;, for example, a list of possible <em>context</em> completions will pop up and then, as you type further characters, the list will shrink to show only those that still match:</p>
<center>
<img src="images/completion.png" title="Completion" />
</center>

<p>Up and down arrow keys change the selection and either <em>Tab</em> or <em>Return</em> inserts the selection.</p>
<h3 id="working-with-other-applications"><a href="#working-with-other-applications">Working with other applications</a></h3>
<p>Pressing <em>Ctrl-S</em> in the etm main window will open a schedule dialog showing items from your day view for the next few days plus items, if any, from your <em>now</em> and <em>next</em> views. This schedule can be printed or sent by email to an address you specify. Using settings for <em>agenda</em> in your <em>etm.cfg</em> the display can be customized to, for example, fit nicely in the display of your mobile phone:</p>
<center>
<img src="images/agenda.png" title="etm schedule" />
</center>

<p>If you set <code>current_htmlfile</code> and/or <code>current_textfile</code> in your <em>etm.cfg</em> then etm will automatically update the contents of the relevant files with with your current schedule. You could then, for example, use the text file with <em>geektool</em> to display your current schedule on your desktop. Another option would be to place <code>current_textfile</code> in your Google Drive or Dropbox and thus have automatic access to your current schedule in your mobile device. Here's mine on my iPhone:</p>
<center>
<img src="images/current.png" title="current_textfile on iPhone" />
</center>


<p>Both the schedule and report dialogs support exporting displayed items in CSV (comma separated values) format to a file you specify. Files in this format can be imported by most spreadsheet programs.</p>
<p>Pressing <em>F8</em> in the main windown will export items in iCalendar format to the file specified by <code>icscal_file</code> in <em>etm.cfg</em>. If <em>calendars</em> is set in your <em>etm.cfg</em>, then only items from selected calendars will be exported, otherwise all items will be exported. This file can be imported by most calendar applications.</p>
<p>Pressing <em>F8</em> in the details view will export the selected item in iCalendar format to the file specified by <code>icsitem_file</code> in <em>etm.cfg</em>. This file can, for example, be attached to an email to share the details of the item. If the item is repeating, you will have the choice of exporting 1) just the selected instance, 2) the selected and all subsequent instances or 3) all instances.</p>
<p>Pressing <em>Shift-F8</em> in the main window will open dialogs first to select an .ics file to import into etm and then to select an etm data file to hold the imported item(s). This file will then be opened for editing with the added item(s) selected.</p>
<p><strong>iCalendar export and import limitations</strong></p>
<p>Although tasks are exported as <em>VTODO</em> elements and notes and actions as <em>VJOURNAL</em> elements, these elements will be ignored by most calendar applications.</p>
<p>Additionally, Apple's iCal does not support some repetition features. Dates added using etm's <code>@+</code>, for example are not recognized by <em>iCal</em> though they are by <em>Google Calendar</em> and most other calendar apps.</p>
<p>Currently, etm <code>@a</code> alerts are not exported. Task groups are exported as standard tasks.</p>
<h3 id="version-numbers"><a href="#version-numbers">Version numbers</a></h3>
<p><em>etm</em>'s version numbering now uses the <code>major.minor.patch</code> format where each of the three components is an integer:</p>
<ul>
<li><p>Major version numbers change whenever there is a large or potentially backward-incompatible change.</p></li>
<li><p>Minor version numbers change when a new, minor feature or a set of smaller features is introduced or when a status change has occured. A change in the minor version from zero to one, for example, indicates a change in the status of the major version from alpha to beta. Minor version numbers greater than one indicate production/stable status.</p></li>
<li><p>Patch numbers change for new builds involving small bugfixes or the like. Some new builds may not be released.</p></li>
</ul>
<p>When the major version number is incremented, both the minor version number and patch number will be reset to zero. Similarly, when the minor version number is incremented, the patch number will be reset to zero. All increments are by one.</p>
<!-- ### License information

Copyright (c) 2009-2013 Daniel Graham, [daniel.graham@duke.edu][]. All rights
reserved.

[daniel.graham@duke.edu]: mailto:daniel.graham@duke.edu

This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation; either version 3 of the License, or (at your option) any later
version. See [GNU License Information][] for details.

[GNU License Information]: http://www.gnu.org/licenses/gpl.html "GNU License Information"

This program is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 -->

<h2 id="data"><a href="#data">Data</a></h2>
<p>Items in <em>etm</em> begin with a type character such as an asterisk (event) and continue on one or more lines either until the end of the file is reached or another line is found that begins with a type character. The beginning type character for each item is followed by the item summary and then, perhaps, by one or more <code>@key value</code> pairs. The order in which such pairs are entered does not matter.</p>
<h3 id="sample-entries"><a href="#sample-entries">Sample entries</a></h3>
<ul>
<li><p>A sales meeting (an event) [s]tarting seven days from today at 9:00am and [e]xtending for one hour with a default [a]lert 5 minutes before the start:</p>
<pre><code>* sales meeting @s +7 9a @e 1h @a 5</code></pre></li>
<li><p>The sales meeting with another [a]lert 2 days before the meeting to (e)mail a reminder to a list of recipients:</p>
<pre><code>* sales meeting @s +7 9a @e 1h @a 5
  @a 2d: e; who@when.com, what@where.org</code></pre></li>
<li><p>Prepare a report (a task) for the sales meeting [b]eginning 3 days early:</p>
<pre><code>- prepare report @s +7 @b 3</code></pre></li>
<li><p>A period [e]xtending 35 minutes (an action) spent working on the report yesterday:</p>
<pre><code>~ report preparation @s -1 @e 35</code></pre></li>
<li><p>Get a haircut (a task) on the 24th of the current month and then [r]epeatedly at (d)aily [i]ntervals of (14) days and, [o]n completion, (r)estart from the completion date:</p>
<pre><code>- get haircut @s 24 @r d &amp;i 14 @o r</code></pre></li>
<li><p>Payday (an occassion) on the last week day of each month. The <code>&amp;s -1</code> part of the entry extracts the last date which is both a weekday and falls within the last three days of the month):</p>
<pre><code>^ payday @s 1/1 @r m &amp;w (MO, TU, WE, TH, FR) &amp;m (-1, -2, -3) &amp;s -1</code></pre></li>
<li><p>Take a prescribed medication daily (a reminder) [s]tarting today and [r]epeating (d)aily at [h]ours 10am, 2pm, 6pm and 10pm [u]ntil (12am on) the fourth day from today. Trigger the default [a]lert zero minutes before each event:</p>
<pre><code>* take Rx @s +0 @r d &amp;h 10, 14, 18, 22 &amp;u +4 @a 0</code></pre></li>
<li><p>Presidential election day (an occasion) every four years on the first Tuesday after a Monday in November:</p>
<pre><code>^ Presidential Election Day @s 2012-11-06
  @r y &amp;i 4 &amp;M 11 &amp;m (2,3,4,5,6,7,8) &amp;w TU</code></pre></li>
<li><p>Join the etm discussion group (a task) [s]tarting on the first day of the next month. Because of the <span class="citation" data-cites="g">@g</span> (goto) link, pressing Ctrl-G when the details of this item are displayed in the gui would open the link using the system default application which, in this case, would be your default browser:</p>
<pre><code>- join the etm discussion group @s +1/1
  @g http://groups.google.com/group/eventandtaskmanager/topics</code></pre></li>
</ul>
<h3 id="characters-and-types"><a href="#characters-and-types">Characters and Types</a></h3>
<h4 id="action"><a href="#action">~ Action</a></h4>
<p>A record of an action involving the expenditure of time (<code>@e</code>) and/or money (<code>@x</code>). Actions are not reminders, they are instead records of how time and/or money was actually spent. Action lines begin with a tilde, <code>~</code>.</p>
<pre><code>    ~ picked up lumber and paint @s mon 3p @e 1h15m @x 127.32</code></pre>
<p>Entries such as <code>@s mon 3p</code>, <code>@e 1h15m</code> and <code>@x 127.32</code> are discussed below under <em>Item details</em>. Action entries form the basis for time and expense billing using action reports - see <em>help/reports</em>.</p>
<h4 id="event"><a href="#event">* Event</a></h4>
<p>Something that will happen on particular day(s) and time(s). Event lines begin with an asterick, <code>*</code>.</p>
<pre><code>    * dinner with Karen and Al @s sat 7p @e 3h</code></pre>
<p>Events have a starting datetime, <code>@s</code> and an extent, <code>@e</code>. The ending datetime is given implicitly as the sum of the starting datetime and the extent. Events that span more than one day are possible, e.g.,</p>
<pre><code>    * Sales conference @s 9a wed @e 2d8h</code></pre>
<p>begins at 9am on Wednesday and ends at 5pm on Friday.</p>
<p>An event without an <code>@e</code> entry or with <code>@e 0</code> is regarded as a <em>reminder</em> and, since there is no extent, will not be displayed in the <em>week view</em>. Additionally, if the reminder is repeated and the repetition uses either <code>&amp;h</code> (byhour) or <code>&amp;n</code> (byminute) so that the reminder repeats more than once on the days it occurs, then only one instance of the reminder will be displayed in <em>day view</em> on each day that it occurs.</p>
<h4 id="occasion"><a href="#occasion">^ Occasion</a></h4>
<p>Holidays, anniversaries, birthdays and the like. Like an event with a date but no starting time and no extent. Occasions begin with a caret sign, <code>^</code>.</p>
<pre><code>    ^ The !1776! Independence Day @s 2010-07-04 @r y &amp;M 7 &amp;m 4</code></pre>
<p>On July 4, 2013, this would appear as <code>The 237th Independence Day</code>.</p>
<h4 id="note"><a href="#note">! Note</a></h4>
<p>A record of some useful information. Note lines begin with an exclamation point, <code>!</code>.</p>
<pre><code>! xyz software @d user: dnlg, pw: abc123def</code></pre>
<h4 id="task"><a href="#task">- Task</a></h4>
<p>Something that needs to be done. It may or may not have a due date. Task lines begin with a minus sign, <code>-</code>.</p>
<pre><code>- pay bills @s Oct 25</code></pre>
<p>A task with an <code>@s</code> entry becomes due on that date and past due when that date has passed. If the task also has an <code>@b</code> begin-by entry, then advance warnings of the task will begin appearing the specified number of days before the task is due. An <code>@e</code> entry in a task is interpreted as an estimate of the time required to finish the task.</p>
<h4 id="delegated-task"><a href="#delegated-task">% Delegated task</a></h4>
<p>A task that is assigned to someone else, usually the person designated in an <code>@u</code> entry. Delegated tasks begin with a percent sign, <code>%</code>.</p>
<pre><code>    % make reservations for trip @u joe @s fri</code></pre>
<h4 id="task-group"><a href="#task-group">+ Task group</a></h4>
<p>A collection of related tasks, some of which may be prerequities for others. Task groups begin with a plus sign, <code>+</code>.</p>
<pre><code>    + dog house
      @j pickup lumber and paint      &amp;q 1
      @j cut pieces                   &amp;q 2
      @j assemble                     &amp;q 3
      @j paint                        &amp;q 4</code></pre>
<p>Note that a task group is a single item and is treated as such. E.g., if any job is selected for editing then the entire group is displayed.</p>
<p>Individual jobs are given by the <code>@j</code> entries. The <em>queue</em> entries, <code>&amp;q</code>, set the order --- tasks with smaller &amp;q values are prerequisites for subsequent tasks with larger &amp;q values. In the example above, neither &quot;pickup lumber&quot; nor &quot;pickup paint&quot; have any prerequisites. &quot;Pickup lumber&quot;, however, is a prerequisite for &quot;cut pieces&quot; which, in turn, is a prerequisite for &quot;assemble&quot;. Both &quot;assemble&quot; and &quot;pickup paint&quot; are prerequisites for &quot;paint&quot;.</p>
The way a task group is displayed is illustrated below. Note that jobs are numbered and that jobs with unfinished prerequisites are labeled with a different icon.
<center>
<img src="images/doghouse1.png" title="no finished jobs" />
</center>

When a job is completed, its icon is changed and it is displayed on the date the job was completed. Note that completing &quot;pickup lumber&quot; makes &quot;cut pieces&quot; available for completion.
<center>
<img src="images/doghouse2.png" title="one finished job" />
</center>

<h4 id="in-basket"><a href="#in-basket">$ In basket</a></h4>
<p>A quick, don't worry about the details item to be edited later when you have the time. In basket entries begin with a dollar sign, <code>$</code>.</p>
<pre><code>    $ joe 919 123-4567</code></pre>
<p>If you create an item using <em>etm</em> and forget to provide a type character, an <code>$</code> will automatically be inserted.</p>
<h4 id="someday-maybe"><a href="#someday-maybe">? Someday maybe</a></h4>
<p>Something are you don't want to forget about altogether but don't want to appear on your next or scheduled lists. Someday maybe items begin with a question mark, <code>?</code>.</p>
<pre><code>    ? lose weight and exercise more</code></pre>
<h4 id="hidden"><a href="#hidden"># Hidden</a></h4>
<p>Hidden items begin with a hash mark, <code>#</code>. Such items are ignored by etm save for appearing in the folder view. Stick a hash mark in front of any item that you don't want to delete but don't want to see in your other views.</p>
<h4 id="defaults"><a href="#defaults">= Defaults</a></h4>
<p>Default entries begin with an equal sign, <code>=</code>. These entries consist of <code>@key value</code> pairs which then become the defaults for subsequent entries in the same file until another <code>=</code> entry is reached.</p>
<p>Suppose, for example, that a particular file contains items relating to &quot;project_a&quot; for &quot;client_1&quot;. Then entering</p>
<pre><code>= @k client_1:project_a</code></pre>
<p>on the first line of the file and</p>
<pre><code>=</code></pre>
<p>on the twentieth line of the file would set the default keyword for entries between the first and twentieth line in the file.</p>
<h3 id="dates"><a href="#dates">Dates</a></h3>
<h4 id="fuzzy-dates-and-time-periods"><a href="#fuzzy-dates-and-time-periods">Fuzzy dates and time periods</a></h4>
<p>When either a <em>datetime</em> or an <em>time period</em> is to be entered, special formats are used in <em>etm</em>. Examples include entering a starting datetime for an item using <code>@s</code>, jumping to a date using Ctrl-J and calculating a date using F5.</p>
<p>Suppose, for example, that it is currently 8:30am on Friday, February 15, 2013. Then, <em>fuzzy dates</em> would expand into the values illustrated below.</p>
<ul>
<li><code>mon 2p</code> or <code>mon 14h</code>: 2:00pm Monday, February 19</li>
<li><code>fri</code>: 12:00am Friday, February 15</li>
<li><code>9a -1/1</code> or <code>9h -1/1</code>: 9:00am Tuesday, January 1</li>
<li><code>+2/15</code>: 12:00am Monday, April 15 2013</li>
<li><code>8p +7</code> or <code>20h +7</code>: 8:00pm Friday, February 22</li>
<li><code>-14</code>: 12:00am Friday, February 1</li>
<li><code>now</code>: 8:30am Friday, February 15</li>
</ul>
<p>Note that 12am is the default time when a time is not explicity entered. E.g., <code>+2/15</code> in the examples above gives 12:00am on April 15.</p>
<p>To avoid ambiguity, always append either 'a', 'p' or 'h' when entering an hourly time, e.g., use <code>1p</code> or <code>13h</code>.</p>
<p>Time periods are entered using the format <code>DdHhMm</code> where D, H and M are integers and d, h and m refer to days, hours and minutes respectively. For example:</p>
<ul>
<li><code>2h30m</code>: 2 hours, 30 minutes</li>
<li><code>7d</code>: 7 days</li>
<li><code>45m</code>: 45 minutes</li>
</ul>
<p>As an example, if it is currently 8:50am on Friday February 15, 2013, then entering <code>now + 2d4h30m</code> into the date calculator would give <code>2013-02-17 1:20pm</code>. If, at the same time, an item were saved on a system in the <code>US/Eastern</code> time zone which contained the entry <code>@s now @z Australia/Sydney</code> then the expanded value would be <code>@s 2013-02-16 12:50am</code>, which is &quot;now&quot; in Sydney.</p>
<p>Dates and times are always stored in <em>etm</em> data files as times in the time zone given by the entry for <code>@z</code>. On the other hand, dates and times are always displayed in <em>etm</em> using the local time zone of the system. In the previous illustration, for example, the data file would contain <code>@s 2013-02-16 12:50am @z Australia/Sydney</code> but this item would be displayed as starting at <code>2013-02-15 8:50am</code> on a system in the <code>US/Eastern</code> time zone.</p>
<h4 id="anniversary-substitutions"><a href="#anniversary-substitutions">Anniversary substitutions</a></h4>
<p>An anniversary substitution is an expression of the form <code>!YYYY!</code> that appears in an item summary. Consider, for example, the occassion</p>
<pre><code>^ !2010! anniversary @s 2011-02-20 @r y</code></pre>
<p>This would appear on Feb 20 of 2011, 2012, 2013 and 2014, respectively, as <em>1st anniversary</em>, <em>2nd anniversary</em>, <em>3rd anniversary</em> and <em>4th anniversary</em>.The suffixes, <em>st</em>, <em>nd</em> and so forth, depend upon the translation file for the locale.</p>
<h3 id="key-value-pairs"><a href="#key-value-pairs"><span class="citation" data-cites="key-value">@key-value</span> pairs</a></h3>
<h4 id="a-alert"><a href="#a-alert"><span class="citation" data-cites="a">@a</span> alert</a></h4>
<p>The specification of the alert(s) to use with the item. One or more alerts can be specified in an item. E.g.,</p>
<pre><code>@a 10m, 5m
@a 1h: s</code></pre>
<p>would trigger the alert(s) specified by <code>default_alert</code> in your <code>etm.cfg</code> at 10 and 5 minutes before the starting time and a (s)ound alert one hour before the starting time.</p>
<p>The alert</p>
<pre><code>@a 2d: e; who@what.com, where2@when.org; filepath1, filepath2</code></pre>
<p>would send an email to the two listed recipients exactly 2 days (48 hours) before the starting time of the item with the item summary as the subject, with file1 and file2 as attachments and with the body of the message composed using <code>email_template</code> from your <code>etm.cfg</code>.</p>
<p>Similarly, the alert</p>
<pre><code>@a 10m: t; 9191234567@vtext.com, 9197654321@txt.att.net</code></pre>
<p>would send a text message 10 minutes before the starting time of the item to the two mobile phones listed (using 10 digit area code and carrier mms extension) together with the settings for <code>sms</code> in <code>etm.cfg</code>. If no numbers are given, the number and mms extension specified in <code>sms.phone</code> will be used. Here are the mms extensions for the major US carriers:</p>
<pre><code>Alltel          @message.alltel.com
AT&amp;T            @txt.att.net
Nextel          @messaging.nextel.com
Sprint          @messaging.sprintpcs.com
SunCom          @tms.suncom.com
T-mobile        @tmomail.net
VoiceStream     @voicestream.net
Verizon         @vtext.com</code></pre>
<p>Finally,</p>
<pre><code>@a 0: p; program_path</code></pre>
<p>would execute <code>program_path</code> at the starting time of the item.</p>
<p>The format for each of these:</p>
<pre><code>@a &lt;trigger times&gt; [: action [; arguments]]</code></pre>
<p>In addition to the default action used when the optional <code>: action</code> is not given, there are the following possible values for <code>action</code>:</p>
<ul>
<li><code>d</code> Execute <code>alert_displaycmd</code> in <code>etm.cfg</code>.</li>
<li><code>e; recipients[;attachments]</code> Send an email to <code>recipients</code> (a comma separated list of email addresses) optionally attaching <code>attachments</code> (a comma separated list of file paths). The item summary is used as the subject of the email and the expanded value of <code>email_template</code> from <code>etm.cfg</code> as the body.</li>
<li><code>m</code> Display an internal etm message box using <code>alert_template</code>.</li>
<li><code>p; process</code> Execute the command given by <code>process</code>.</li>
<li><code>s</code> Execute <code>alert_soundcmd</code> in <code>etm.cfg</code>.</li>
<li><code>t [; phonenumbers]</code> Send text messages to <code>phonenumbers</code> (a comma separated list of 10 digit phone numbers with the sms extension of the carrier appended) with the expanded value of <code>sms.message</code> as the text message.</li>
<li><code>v</code> Execute <code>alert_voicecmd</code> in <code>etm.cfg</code>.</li>
</ul>
<p>Note: either <code>e</code> or <code>p</code> can be combined with other actions in a single alert but not with one another.</p>
<h4 id="b-beginby"><a href="#b-beginby"><span class="citation" data-cites="b">@b</span> beginby</a></h4>
<p>An integer number of days before the starting date time at which to begin displaying <em>begin by</em> notices. When notices are displayed they will be sorted by the item's starting datetime and then by the item's priority, if any.</p>
<h4 id="c-context"><a href="#c-context"><span class="citation" data-cites="c">@c</span> context</a></h4>
<p>Intended primarily for tasks to indicate the context in which the task can be completed. Common contexts include home, office, phone, computer and errands. The &quot;next view&quot; supports this usage by showing undated tasks, grouped by context. If you're about to run errands, for example, you can open the &quot;next view&quot;, look under &quot;errands&quot; and be sure that you will have no &quot;wish I had remembered&quot; regrets.</p>
<h4 id="d-description"><a href="#d-description"><span class="citation" data-cites="d">@d</span> description</a></h4>
<p>An elaboration of the details of the item to complement the summary.</p>
<h4 id="e-extent"><a href="#e-extent"><span class="citation" data-cites="e">@e</span> extent</a></h4>
<p>A time period string such as <code>1d2h</code> (1 day 2 hours). For an action, this would be the elapsed time. For a task, this could be an estimate of the time required for completion. For an event, this would be the duration. The ending time of the event would be this much later than the starting datetime.</p>
<h4 id="f-done-due"><a href="#f-done-due"><span class="citation" data-cites="f">@f</span> done[; due]</a></h4>
<p>Datetimes; tasks, delegated tasks and task groups only. When a task is completed an <code>@f done</code> entry is added to the task. When the task has a due date, <code>; due</code> is appended to the entry. Similarly, when a job from a task group is completed in etm, an <code>&amp;f done</code> or <code>&amp;f done; due</code> entry is appended to the job and it is removed from the list of prerequisites for the other jobs. In both cases <code>done</code> is the completion datetime and <code>due</code>, if added, is the datetime that the task or job was due. The completed task or job is shown as finished on the completion date. When the last job in a task group is finished an <code>@f done</code> or <code>@f done; due</code> entry is added to the task group itself reflecting the datetime that the last job was done and, if the task group is repeating, the <code>&amp;f</code> entries are removed from the individual jobs.</p>
<p>Another step is taken for repeating task groups. When the first job in a task group is completed, the <code>@s</code> entry is updated using the setting for <code>@o</code> (above) to show the next datetime the task group is due and the <code>@f</code> entry is removed from the task group. This means when some, but not all of the jobs for the current repetition have been completed, only these job completions will be displayed. Otherwise, when none of the jobs for the current repetition have been completed, then only that last completion of the task group itself will be displayed.</p>
<p>Consider, for example, the following repeating task group which repeats monthly on the last weekday on or before the 25th.</p>
<pre><code>+ pay bills @s 11/23 @f 10/24;10/25
  @r m &amp;w MO,TU,WE,TH,FR &amp;m 23,24,25 &amp;s -1
  @j organize bills &amp;q 1
  @j pay on-line bills &amp;q 3
  @j get stamps, envelopes, checkbook &amp;q 1
  @j write checks &amp;q 2
  @j mail checks &amp;q 3</code></pre>
<p>Here &quot;organize bills&quot; and &quot;get stamps, envelopes, checkbook&quot; have no prerequisites. &quot;Organize bills&quot;, however, is a prerequisite for &quot;pay on-line bills&quot; and both &quot;organize bills&quot; and &quot;get stamps, envelops, checkbook&quot; are prerequisites for &quot;write checks&quot; which, in turn, is a prerequisite for &quot;mail checks&quot;.</p>
<p>The repetition that was due on 10/25 was completed on 10/24. The next repetition was due on 11/23 and, since none of the jobs for this repetition have been completed, the completion of the group on 10/24 and the list of jobs due on 11/23 will be displayed initially. The following sequence of screen shots show the effect of completing the jobs for the 11/23 repetition one by one on 11/27.</p>
<center>
<img src="images/paybills1.png" title="Completion 1" /> <img src="images/paybills2.png" title="Completion 2" />
</center>

<center>
<img src="images/paybills3.png" title="Completion 1" /> <img src="images/paybills4.png" title="Completion 2" />
</center>

<center>
<img src="images/paybills5.png" title="Completion 1" /> <img src="images/paybills6.png" title="Completion 2" />
</center>



<h4 id="g-goto"><a href="#g-goto"><span class="citation" data-cites="g">@g</span> goto</a></h4>
<p>The path to a file or a URL to be opened using the system default application when the user presses <em>Control-G</em> in the GUI.</p>
<h4 id="j-job"><a href="#j-job"><span class="citation" data-cites="j">@j</span> job</a></h4>
<p>Component tasks or jobs within a task group are given by <code>@j job</code> entries. <code>@key value</code> entries prior to the first <code>@j</code> become the defaults for the jobs that follow. <code>&amp;key value</code> entries given in jobs use <code>&amp;</code> rather than <code>@</code> and apply only to the specific job.</p>
<p>Many key-value pairs can be given either in the group task using <code>@</code> or in the component jobs using <code>&amp;</code>:</p>
<ul>
<li><code>@c</code> or <code>&amp;c</code>: context</li>
<li><code>@d</code> or <code>&amp;d</code>: description</li>
<li><code>@e</code> or <code>&amp;e</code>: extent</li>
<li><code>@f</code> or <code>&amp;f</code>: done[; due] (datetimes)</li>
<li><code>@k</code> or <code>&amp;k</code>: keyword</li>
<li><code>@l</code> or <code>&amp;l</code>: location</li>
</ul>
<p>The key-value pair <code>&amp;q</code> (queue position) can <em>only</em> be given in component jobs where it is required. Key-values other than <code>&amp;q</code> and those listed above, can <em>only</em> be given in the initial group task entry and their values are inherited by the component jobs.</p>
<h4 id="k-keyword"><a href="#k-keyword"><span class="citation" data-cites="k">@k</span> keyword</a></h4>
<p>A heirarchical classifier for the item. Intended for actions to support time billing where a common format would be <code>client:job:category</code>. <em>etm</em> treats such a keyword as a heirarchy so that an action report grouped by month and then keyword might appear as follows</p>
<pre><code>    27.5h) Client 1 (3)
        4.9h) Project A (1)
        15h) Project B (1)
        7.6h) Project C (1)
    24.2h) Client 2 (3)
        3.1h) Project D (1)
        21.1h) Project E (2)
            5.1h) Category a (1)
            16h) Category b (1)
    4.2h) Client 3 (1)
    8.7h) Client 4 (2)
        2.1h) Project F (1)
        6.6h) Project G (1)</code></pre>
<p>An arbitrary number of heirarchical levels in keywords is supported.</p>
<h4 id="l-location"><a href="#l-location"><span class="citation" data-cites="l">@l</span> location</a></h4>
<p>The location at which, for example, an event will take place.</p>
<h4 id="m-memo"><a href="#m-memo"><span class="citation" data-cites="m">@m</span> memo</a></h4>
<p>Further information about the item not included in the summary or the description. Since the summary is used as the subject of an email alert and the descripton is commonly included in the body of an email alert, this field could be used for information not to be included in the email.</p>
<h4 id="o-overdue"><a href="#o-overdue"><span class="citation" data-cites="o">@o</span> overdue</a></h4>
<p>Repeating tasks only. One of the following choices: k) keep, r) restart, or s) skip. Details below.</p>
<h4 id="p-priority"><a href="#p-priority"><span class="citation" data-cites="p">@p</span> priority</a></h4>
<p>Either 0 (no priority) or an intger between 1 (highest priority) and 9 (lowest priority). Primarily used with undated tasks.</p>
<h4 id="r-repetition-rule"><a href="#r-repetition-rule"><span class="citation" data-cites="r">@r</span> repetition rule</a></h4>
<p>The specification of how an item is to repeat. Repeating items <strong>must</strong> have an <code>@s</code> entry as well as one or more <code>@r</code> entries. Generated datetimes are those satisfying any of the <code>@r</code> entries and falling <strong>on or after</strong> the datetime given in <code>@s</code>. Note that the datetime given in <code>@s</code> will only be included if it matches one of the datetimes generated by the <code>@r</code> entry.</p>
<p>A repetition rule begins with</p>
<pre><code>@r frequency</code></pre>
<p>where <code>frequency</code> is one of the following characters:</p>
<ul>
<li><code>y</code>: yearly</li>
<li><code>m</code>: monthly</li>
<li><code>m</code>: weekly</li>
<li><code>d</code>: daily</li>
<li><code>l</code>: list (a list of datetimes will be provided using <code>@+</code>)</li>
</ul>
<p>The <code>@r frequency</code> entry can, optionally, be followed by one or more <code>&amp;key value</code> pairs:</p>
<ul>
<li><code>&amp;i</code>: interval (positive integer, default = 1) E.g, with frequency <code>w</code>, interval 3 would repeat every three weeks.</li>
<li><code>&amp;t</code>: total (positive integer) Include no more than this total number of repetitions.</li>
<li><code>&amp;s</code>: bysetpos (integer) See the payday example below for an illustration of bysetpos.</li>
<li><code>&amp;u</code>: until (datetime) Only include repetitions falling <strong>before</strong> (not including) this datetime.</li>
<li><code>&amp;M</code>: bymonth (1, 2, ..., 12)</li>
<li><code>&amp;m</code>: bymonthday (1, 2, ..., 31) Use, e.g., -1 for the last day of the month.</li>
<li><code>&amp;W</code>: byweekno (1, 2, ..., 53)</li>
<li><code>&amp;w</code>: byweekday (<em>English</em> weekday abbreviation SU ... SA). Use, e.g., 3WE for the 3rd Wednesday or -1FR, for the last Friday in the month.</li>
<li><code>&amp;h</code>: byhour (0 ... 23)</li>
<li><code>&amp;n</code>: byminute (0 ... 59)</li>
</ul>
<p>Repetition examples:</p>
<ul>
<li><p>1st and 3rd Wednesdays of each month.</p>
<pre><code>^ 1st and 3rd Wednesdays
  @r m &amp;w 1WE, 3WE</code></pre></li>
<li><p>Payday (an occasion) on the last week day of each month. (The <code>&amp;s -1</code> entry extracts the last date which is both a weekday and falls within the last three days of the month.)</p>
<pre><code>^ payday @s 2010-07-01
  @r m &amp;w MO, TU, WE, TH, FR &amp;m -1, -2, -3 &amp;s -1</code></pre></li>
<li><p>Take a prescribed medication daily (an event) from the 23rd through the 27th of the current month at 10am, 2pm, 6pm and 10pm and trigger an alert zero minutes before each event.</p>
<pre><code>* take Rx @d 10a 23  @r d &amp;u 11p 27 &amp;h 10, 14 18, 22 @a 0</code></pre></li>
<li><p>Vote for president (an occasion) every four years on the first Tuesday after a Monday in November. (The <code>&amp;m range(2,9)</code> requires the month day to fall within 2 ... 8 and thus, combined with <code>&amp;w TU</code> to be the first Tuesday following a Monday.)</p>
<pre><code>^ Vote for president @s 2012-11-06
  @r y &amp;i 4 &amp;M 11 &amp;m range(2,9) &amp;w TU</code></pre></li>
</ul>
<p>Optionally, <code>@+</code> and <code>@-</code> entries can be given.</p>
<ul>
<li><code>@+</code>: include (comma separated list to datetimes to be <em>added</em> to those generated by the <code>@r</code> entries)</li>
<li><code>@-</code>: exclude (comma separated list to datetimes to be <em>removed</em> from those generated by the <code>@r</code> entries)</li>
</ul>
<p>A repeating <em>task</em> may optionally also include an <code>@o &lt;k|s|r&gt;</code> entry (default = k):</p>
<ul>
<li><p><code>@o k</code>: Keep the current due date if it becomes overdue and use the next due date from the recurrence rule if it is finished early. This would be appropriate, for example, for the task 'file tax return'. The return due April 15, 2009 must still be filed even if it is overdue and the 2010 return won't be due until April 15, 2010 even if the 2009 return is finished early.</p></li>
<li><p><code>@o s</code>: Skip overdue due dates and set the due date for the next repetition to the first due date from the recurrence rule on or after the current date. This would be appropriate, for example, for the task 'put out the trash' since there is no point in putting it out on Tuesday if it's picked up on Mondays. You might just as well wait until the next Monday to put it out. There's also no point in being reminded until the next Monday.</p></li>
<li><p><code>@o r</code>: Restart the repetitions based on the last completion date. Suppose you want to mow the grass once every ten days and that when you mowed yesterday, you were already nine days past due. Then you want the next due date to be ten days from yesterday and not today. Similarly, if you were one day early when you mowed yesterday, then you would want the next due date to be ten days from yesterday and not ten days from today.</p></li>
</ul>
<h4 id="s-starting-datetime"><a href="#s-starting-datetime"><span class="citation" data-cites="s">@s</span> starting datetime</a></h4>
<p>When an action is started, an event begins or a task is due.</p>
<h4 id="t-tags"><a href="#t-tags"><span class="citation" data-cites="t">@t</span> tags</a></h4>
<p>A tag or list of tags for the item.</p>
<h4 id="u-user"><a href="#u-user"><span class="citation" data-cites="u">@u</span> user</a></h4>
<p>Intended to specify the person to whom a delegated task is assigned. Could also be used in actions to indicate the person performing the action.</p>
<h4 id="v-action_rates-key"><a href="#v-action_rates-key"><span class="citation" data-cites="v">@v</span> action_rates key</a></h4>
<p>Actions only. A key from <code>action_rates</code> in your etm.cft to apply to the value of <code>@e</code>. Used in actions to apply a billing rate to time spent in an action. E.g., with</p>
<pre><code>    minutes: 6
    action_rates:
        br1: 45.0
        br2: 60.0</code></pre>
<p>then entries of <code>@v br1</code> and <code>@e 2h25m</code> in an action would entail a value of <code>45.0 * 2.5 = 112.50</code>.</p>
<h4 id="w-action_markups-key"><a href="#w-action_markups-key"><span class="citation" data-cites="w">@w</span> action_markups key</a></h4>
<p>A key from <code>action_markups</code> in your <code>etm.cfg</code> to apply to the value of <code>@x</code>. Used in actions to apply a markup rate to expense in an action. E.g., with</p>
<pre><code>    weights:
        mr1: 1.5
        mr2: 10.0</code></pre>
<p>then entries of <code>@w mr1</code> and <code>@x 27.50</code> in an action would entail a value of <code>27.50 * 1.5 = 41.25</code>.</p>
<h4 id="x-expense"><a href="#x-expense"><span class="citation" data-cites="x">@x</span> expense</a></h4>
<p>Actions only. A currency amount such as <code>27.50</code>. Used in conjunction with <span class="citation" data-cites="w">@w</span> above to bill for action expenditures.</p>
<h4 id="z-time-zone"><a href="#z-time-zone"><span class="citation" data-cites="z">@z</span> time zone</a></h4>
<p>The time zone of the item, e.g., US/Eastern. The starting and other datetimes in the item will be interpreted as belonging to this time zone.</p>
<h4 id="include"><a href="#include">@+ include</a></h4>
<p>A datetime or list of datetimes to be added to the repetitions generated by the <code>@r rrule</code> entry. If only a date is provided, 12:00am is assumed.</p>
<h4 id="exclude"><a href="#exclude">@- exclude</a></h4>
<p>A datetime or list of datetimes to be removed from the repetitions generated by the <code>@r rrule</code> entry. If only a date is provided, 12:00am is assumed.</p>
<p>Note that to exclude a datetime from the recurrence rule, the @- datetime <em>must exactly match both the date and time</em> generated by the recurrence rule.</p>
<h3 id="folders"><a href="#folders">Folders</a></h3>
<p><em>etm</em> offers two heirarchical ways of organizing your data: by folder (file path) and by keyword. There are no hard and fast rules about how to use these heirarchies but the goal is a system that makes complementary uses of folder and keyword and fits your needs. As with any filing system, planning and consistency are paramount.</p>
<p>For example, one pattern of use for a business would be to use folders for people and keywords for client-project-category.</p>
<p>Similarly, a family could use folders to separate personal and shared items for family members, for example:</p>
<pre><code>root etm data directory
    dag
    erp
    shared
        holidays
        birthdays
        events</code></pre>
<p>Here</p>
<pre><code>~dag/.etm/etm.cfg
~erp/.etm/etm.cfg</code></pre>
<p>would both contain <code>datadir</code> entries specifying the common root data directory. Additionally, if these configuration files contained, respectively, the entries</p>
<pre><code>calendars
- [dag, true, dag]
- [erp, false, erp]
- [shared, true, shared]</code></pre>
<p>and</p>
<pre><code>calendars
- [erp, true, erp]
- [dag, false, dag]
- [shared, true, shared]</code></pre>
<p>then, by default, both dag and erp would see the entries from their personal files as well as the shared entries and each could optionally view the entries from the other's personal files as well. See the <em>Preferences</em> tab for details on the <code>calendars</code> entry.</p>
<h2 id="views"><a href="#views">Views</a></h2>
<h3 id="day"><a href="#day">Day</a></h3>
<p>All scheduled (dated) items appear in this view, grouped by date and sorted by starting time and item type. Hovering the mouse over an item brings up a tooltip with details.</p>
<center>
<img src="images/day_view.png" title="day view" />
</center>

<p>Double clicking on an item or pressing <em>Return</em> with an item selected opens a details dialog for the item with further options. Press F1 when the details dialog is active for help information on that view.</p>
<center>
<img src="images/details_view.png" title="details view" />
</center>

<p>Begin by warnings for upcoming events and tasks also appear in this view on the current date when the current date falls within the range of the begin by warning.</p>
<h3 id="week"><a href="#week">Week</a></h3>
<p>A graphical view of a week showing scheduled events and free periods. The background for the current date is highlighted and a bar shows the current time. Dates with scheduled occasions are also highlighted and hovering over a free period on such a date brings up a tooltip listing the occasions.</p>
<center>
<img src="images/week_view.png" title="week view" />
</center>

<p>Hovering over a busy period brings up a tooltip with the details of the event. Double clicking on a busy period opens the details dialog for the item. Double clicking on a free period opens a dialog to create a new event for that date and time.</p>
<p>This view conforms to the iso standard in which weeks begin on Monday and the first week in a year is the week that contains the first Thursday. This first week is assigned number 1 and the last week number in the year will then either be 52 or 53. E.g., in 2015, week number 1 is December 29, 2014 --- January 4, 2015 and week number 53 is December 28, 2015 --- January 3, 2016.</p>
<p>If you have an entry for <code>calendars</code> in your <code>etm.cfg</code>, then busy times from your default calendars will appear in one color and busy times from your non-default calendars will appear in another color.</p>
<p>Need to tell someone when you are available during a given week? Select the week in this view, press Control-B to display the periods during the week when you are busy and then copy and paste these into an email.</p>
<center>
<img src="images/busy_times.png" title="scheduled times" />
</center>


<h3 id="month"><a href="#month">Month</a></h3>
<p>A monthly calendar view with the date numbers colored to indicate the amount of scheduled time for events for that date.</p>
<center>
<img src="images/month_view.png" title="month view" />
</center>

<p>Double clicking on a date, switches to the week view for that date and scrolls the day view to that date as well. Month view also conforms to the iso standard in which weeks begin on Monday.</p>
<h3 id="now"><a href="#now">Now</a></h3>
<p>Tasks requiring attention now. All <em>scheduled</em> (dated) tasks whose due dates have passed including delegated tasks and waiting tasks (tasks with unfinished prerequisites) grouped by available, delegated and waiting and, within each group, by the due date.</p>
<p>When there are tasks in this view, a red warning button appears in the lower, right-hand corner of the main display --- see, for example, the week and month view screen shots above. This button disappears when there are no tasks in this view.</p>
<h3 id="next"><a href="#next">Next</a></h3>
<p>All <em>unscheduled</em> (undated) tasks grouped by context (home, office, phone, computer, errands and so forth) and sorted by priority and extent. These tasks correspond to GTD's <em>next actions</em>. These are tasks which don't really have a deadline and can be completed whenever a convenient opportunity arises. Check this view, for example, before you leave to run errands for opportunities to clear other errands.</p>
<p>Items without contexts are automatically assigned the context &quot;none&quot;.</p>
<p>&quot;In basket&quot; and &quot;someday maybe&quot; items are also displayed in this view.</p>
<h3 id="folder"><a href="#folder">Folder</a></h3>
<p>All items grouped by folder (project file path) and sorted by type and <em>relevant datetime</em>. Use this view to review the status of your projects.</p>
<p>The <em>relevant datetime</em> is the past due date for any past due tasks, the starting datetime for any non-repeating items and the datetime of the next instance for any repeating items.</p>
<h3 id="keyword"><a href="#keyword">Keyword</a></h3>
<p>All items grouped by keyword and sorted by type and <em>relevant datetime</em>.</p>
<p>Items without keywords are automatically assigned the keyword &quot;none&quot;.</p>
<h3 id="tag"><a href="#tag">Tag</a></h3>
<p>All items with tag entries grouped by tag and sorted by type and <em>relevant datetime</em>. Note that items with multiple tags will be listed under each tag.</p>
<h2 id="reports"><a href="#reports">Reports</a></h2>
<p><em>etm</em> supports creating, printing and exporting reports. Either click on the report icon in the main window or press <em>Control-R</em> to open the report dialog.</p>
<p>A <em>report specification</em> is created by entering a report <em>type character</em> followed by a <em>groupby setting</em> and, perhaps, by one or more <em>report options</em>. Together, the type character, groupby setting and options determine which items will appear in the report and how they will be organized and displayed.</p>
<p>There are two possible report type characters, <em>a</em> and <em>c</em>:</p>
<ul>
<li><p><strong>a</strong>: action or accounting report. A report of expenditures of time and money recorded in actions with output formatted using <code>action_template</code> computations and expansions.</p></li>
<li><p><strong>c</strong>: custom report. Any item types but without <code>action_template</code> computations and expansions.</p></li>
</ul>
<p>Available <code>action_template</code> expansions for <em>action</em> reports include:</p>
<ul>
<li><code>!label!</code> the item or group label.</li>
<li><code>!count!</code> the number of children represented in the reported item or group.</li>
<li><code>!minutes!</code> the total time from <code>@e</code> entries in minutes rounded up using the setting for <code>action_minutes</code>.</li>
<li><code>!hours!</code> if action_minutes = 1, the time in hours and minutes. Otherwise, the time in floating point hours.</li>
<li><code>!value!</code> the billing value of the rounded total time. Requires an action entry such as <code>@v br1</code> and a setting for <code>action_rates</code>.</li>
<li><code>!expense!</code> the total expense from <code>@x</code> entries.</li>
<li><code>!charge!</code> the billing value of the total expense. Requires an action entry such as <code>@w mu1</code> and a setting for <code>action_markups</code>.</li>
<li><code>!total!</code> the sum of <code>!value!</code> and <code>!charge!</code>.</li>
</ul>
<p>Note: when aggregating amounts in action reports, billing and markup rates are applied first to times and expenses for individual actions and the resulting amounts are then aggregated. Similarly, when times are rounded up, the rounding is done for individual actions and the results are then aggregated.</p>
<p>See <em>help/preferences</em> for further details about setting <code>action_template</code>.</p>
<p>You can select a report specification from a list of saved specifications, modify an existing specification or create an entirely new specification. Clicking on the <em>create report</em> icon or pressing <em>Control-R</em> will create a report based on the current specification.</p>
<p>When you edit an existing specification, the background color of the entry field will change to yellow to indicate that this is a new, as yet unsaved specification. Pressing <em>Return</em> will add the new specification temporarily to the list without affecting the original specification.</p>
<p>If the current specification has been modified, then deleting it by clicking on the <em>delete</em> icon or pressing <em>Control-D</em> will replace the modified specification with the original. If the current specification has not been modified, then deleting it will temporarily remove it from the list.</p>
<p>When temporary changes have been made to the list, the <em>save</em> button will be enabled and you can either click on this button or press <em>Control-S</em> to save the changes. If you attempt to close the reports dialog while there are unsaved changes, you will be given the opportunity to save them.</p>
<h3 id="groupby"><a href="#groupby">groupby</a></h3>
<p>A semicolon separated list that determines how items will be grouped and sorted. Possible elements include <em>date specifications</em> and elements from</p>
<dl>
<dt>c</dt>
<dd>context
</dd>
<dt>f</dt>
<dd>file path
</dd>
<dt>k</dt>
<dd>keyword
</dd>
<dt>t</dt>
<dd>tag
</dd>
<dt>u</dt>
<dd>user
</dd>
</dl>
<p>A <em>date specification</em> is a combination of one or more of the following:</p>
<dl>
<dt>yy</dt>
<dd>2-digit year
</dd>
<dt>yyyy</dt>
<dd>4-digit year
</dd>
<dt>M</dt>
<dd>month: 1 - 12
</dd>
<dt>MM</dt>
<dd>month: 01 - 12
</dd>
<dt>MMM</dt>
<dd>locale specific abbreviated month name: Jan - Dec
</dd>
<dt>MMMM</dt>
<dd>locale specific month name: January - December
</dd>
<dt>d</dt>
<dd>month day: 1 - 31
</dd>
<dt>dd</dt>
<dd>month day: 01 - 31
</dd>
<dt>ddd</dt>
<dd>locale specific abbreviated week day: Mon - Sun
</dd>
<dt>dddd</dt>
<dd>locale specific week day: Monday - Sunday
</dd>
</dl>
<p>For example, <code>c ddd, MMM d yyyy</code> would group by year, month and day together to give output such as</p>
<pre><code>Fri, Apr 1 2011
    items for April 1
Sat, Apr 2 2011
    items for April 2
...</code></pre>
<p>As another example, <code>c t -t tag 1, !tag 3</code> would group by tag showing items that have a tag matching <code>tag 1</code> but not one matching <code>tag 3</code>.</p>
<p>With the heirarchial elements, file path and keyword, it is possible to use parts of the element as well as the whole. Consider, for example, the file path <code>A/B/C</code> with the components <code>[A, B, C]</code>. Then for this file path:</p>
<pre><code>f[0] = A
f[:2] = A/B
f[2:] = C
f = A/B/C</code></pre>
<p>Suppose that keywords have the format <code>client:project</code>. Then <code>c MMM yyyy; k[0]; k[1]</code> would group by year and month, then client and finally project to give output such as</p>
<pre><code>Apr 2011
    client a
        project 1
            items for client a project 1 for April
        project 2
            items for client a project 2 for April
    client b
        project i
            items for client b project i for April
...</code></pre>
<p>Items that are missing an element specified in <code>groupby</code> will be omitted from the output. E.g., undated tasks and notes will be omitted when a date specification is included, items without keywords will be omitted when <code>k</code> is included and so forth.</p>
<p>When a date specification is not included in <code>groupby</code>, undated notes and tasks will be potentially included, but only those instances of dated items that correspond to the <em>relevant datetime</em> of the item of the item will be included, where the <em>relevant datetime</em> is the past due date for any past due tasks, the starting datetime for any non-repeating item and the datetime of the next instance for any repeating item.</p>
<p>Within groups, items are automatically sorted by date, type and time.</p>
<h3 id="options"><a href="#options">options</a></h3>
<p>Report options are listed below. Report types <code>c</code> supports all options except <code>-d</code>. Report type <code>a</code> supports all options except <code>-o</code> and <code>-h</code>.</p>
<h4 id="b-begin_date"><a href="#b-begin_date">-b BEGIN_DATE</a></h4>
<p>Fuzzy parsed date. Limit the display of dated items to those with datetimes falling <em>on or after</em> this datetime. Relative day and month expressions can also be used so that, for example, <code>-b -14</code> would begin 14 days before the current date and <code>-b -1/1</code> would begin on the first day of the previous month. It is also possible to add (or subtract) a time period from the fuzzy date, e.g., <code>-b mon + 7d</code> would begin with the second Monday falling on or after today. Default: None.</p>
<h4 id="c-context-1"><a href="#c-context-1">-c CONTEXT</a></h4>
<p>Regular expression. Limit the display to items with contexts matching CONTEXT (ignoring case). Prepend an exclamation mark, i.e., use !CONTEXT rather than CONTEXT, to limit the display to items which do NOT have contexts matching CONTEXT.</p>
<h4 id="d-depth"><a href="#d-depth">-d DEPTH</a></h4>
<p>The default, <code>-d 0</code>, includes all outline levels. Use <code>-d 1</code> to include only level 1, <code>-d 2</code> to include levels 1 and 2 and so forth. For example, a report that appears as follows with the default, <code>-d 0</code>:</p>
<center>
<img src="images/action_report0.png" title="v entered in pattern filter" />
</center>

<p>Exporting this report (CSV format) would give:</p>
<center>
<img src="images/action_export0.png" title="vo entered in pattern filter" />
</center>


<p>With <code>-d 3</code>, these would change to</p>
<center>
<img src="images/action_report3.png" title="v entered in pattern filter" /> <img src="images/action_export3.png" title="vo entered in pattern filter" />
</center>

<p>and, with <code>-d 2</code> to</p>
<center>
<img src="images/action_report2.png" title="v entered in pattern filter" /> <img src="images/action_export2.png" title="vo entered in pattern filter" />
</center>

<p>In this example, the relevant settings from <code>etm.cfg</code> are</p>
<pre><code>action_minutes: 6
action_rates:
    default: 100.0
    br1:    125.0
    br2:    150.0
action_template: &#39;!hours!h $!value! !label! (!count!)&#39;</code></pre>
<p>The <em>default</em> <code>action_rate</code> is used for client 1, <em>br1</em> for client 2 and <em>br3</em> for client 3.</p>
<h4 id="e-end_date"><a href="#e-end_date">-e END_DATE</a></h4>
<p>Fuzzy parsed date. Limit the display of dated items to those with datetimes falling <em>before</em> this datetime. As with BEGIN_DATE relative month expressions can be used so that, for example, <code>-b -1/1  -e 1</code> would include all items from the previous month. As with <code>-b</code>, period strings can be appended, e.g., <code>-b mon -e mon + 7d</code> would include items from the week that begins with the first Monday falling on or after today. Default: None.</p>
<h4 id="f-file"><a href="#f-file">-f FILE</a></h4>
<p>Regular expression. Limit the display to items from files whose paths match FILE (ignoring case). Prepend an exclamation mark, i.e., use !FILE rather than FILE, to limit the display to items from files whose path does NOT match FILE.</p>
<h4 id="h-hue"><a href="#h-hue">-h HUE</a></h4>
<p>0, 1 or 2. <code>-h 2</code> uses all possible colors for leaf fonts, <code>-h 1</code> uses red for past due items and black for everything else and <code>-h 0</code> uses black for everything. The default is taken from the setting for <code>colors</code> in <code>emt.cfg</code>.</p>
<h4 id="k-keyword-1"><a href="#k-keyword-1">-k KEYWORD</a></h4>
<p>Regular expression. Limit the display to items with contexts matching KEYWORD (ignoring case). Prepend an exclamation mark, i.e., use !KEYWORD rather than KEYWORD, to limit the display to items which do NOT have keywords matching KEYWORD.</p>
<h4 id="l-location-1"><a href="#l-location-1">-l LOCATION</a></h4>
<p>Regular expression. Limit the display to items with location matching LOCATION (ignoring case). Prepend an exclamation mark, i.e., use !LOCATION rather than LOCATION, to limit the display to items which do NOT have a location that matches LOCATION.</p>
<h4 id="o-omit"><a href="#o-omit">-o OMIT</a></h4>
<p>String. Show/hide a)ctions, d)elegated tasks, e)vents, g)roup tasks, n)otes, o)ccasions and/or other t)asks. For example, <code>-o on</code> would show everything except occasions and notes and <code>-o !on</code> would show only occasions and notes.</p>
<h4 id="s-summary"><a href="#s-summary">-s SUMMARY</a></h4>
<p>Regular expression. Limit the display to items containing SUMMARY (ignoring case) in the item summary. Prepend an exclamation mark, i.e., use !SUMMARY rather than SUMMARY, to limit the display to items which do NOT contain SUMMARY in the summary.</p>
<h4 id="t-tags-1"><a href="#t-tags-1">-t TAGS</a></h4>
<p>Comma separated list of case insensitive regular expressions. E.g., use</p>
<pre><code>-t tag1, !tag2</code></pre>
<p>to display items with one or more tags that match 'tag1' but none that match 'tag2'.</p>
<h4 id="u-user-1"><a href="#u-user-1">-u USER</a></h4>
<p>Regular expression. Limit the display to items with user matching USER (ignoring case). Prepend an exclamation mark, i.e., use !USER rather than USER, to limit the display to items which do NOT have a user that matches USER.</p>
<h4 id="w-width1"><a href="#w-width1">-w WIDTH1</a></h4>
<p>Integer. Limit the first column display width to this number of characters. Default: <code>report_width1</code> in etm.cfg.</p>
<h4 id="w-width2"><a href="#w-width2">-W WIDTH2</a></h4>
<p>Integer. Limit the second column display width to this number of characters. Default: <code>report_width2</code> in etm.cfg.</p>
<h2 id="shortcuts"><a href="#shortcuts">Shortcuts</a></h2>
<p>Note: On Mac OS X, use the <em>Command</em> key instead of the <em>Control</em> key.</p>
<h3 id="general"><a href="#general">General</a></h3>
<dl>
<dt>F1</dt>
<dd>Show this help information.
</dd>
<dt>F2</dt>
<dd>Show information about etm.
</dd>
<dt>F3</dt>
<dd>Check for a newer version of etm.
</dd>
<dt>F4</dt>
<dd>Display a twelve month calendar. Use <em>Left</em> and <em>Right</em> cursor keys to change years and <em>Space</em> to return to the current year.
</dd>
</dl>
<center>
<img src="images/12monthcalendar.png" title="12 month calendar" />
</center>

<dl>
<dt>F5</dt>
<dd>Open the datetime calculator.
</dd>
</dl>
<center>
<img src="images/date_calculator1.png" title="date calculator" /> <img src="images/date_calculator2.png" title="date calculator" />
</center>

<center>
<img src="images/date_calculator3.png" title="date calculator" /> <img src="images/date_calculator4.png" title="date calculator" />
</center>

<dl>
<dt>F6</dt>
<dd>Show local Yahoo weather information. (Requires &quot;weather_location&quot; in <code>etm.cfg</code>.)
</dd>
</dl>
<center>
<img src="images/weather.png" title="weather information" />
</center>

<dl>
<dt>F7</dt>
<dd>Show local USNO sun and moon data. (Requires &quot;sunmoon_location&quot; in <code>etm.cfg</code>.)
</dd>
</dl>
<center>
<img src="images/sunmoon.png" title="sun and moon information" />
</center>

<dl>
<dt>F8</dt>
<dd><p>Export items in iCalendar format to the file specified by <code>icscal_file</code> in <em>etm.cfg</em>. If <code>calendars</code> is set in your <em>etm.cfg</em>, only items in selected calendars will be exported, otherwise all items will be exported.</p>
</dd>
<dt>Shift-F8</dt>
<dd><p>Import an iCalendar (ics) file into etm using dialogs to select the ics file and the etm data file to which the added item(s) will be appended. This data file will be opened for editing with the added items selected.</p>
</dd>
<dt>Comma</dt>
<dd>Switch to the <em>day</em> view.
</dd>
<dt>Period</dt>
<dd>Switch to the <em>week due</em> view.
</dd>
<dt>Slash</dt>
<dd>Switch to the <em>month</em> view.
</dd>
<dt>Semicolon</dt>
<dd>Switch to the <em>now</em> view.
</dd>
<dt>Apostrophe</dt>
<dd>Switch to the <em>next</em> view.
</dd>
<dt>Left Bracket</dt>
<dd>Switch to the <em>folder</em> view.
</dd>
<dt>Right Bracket</dt>
<dd>Switch to the <em>keyword</em> view.
</dd>
<dt>Back Slash</dt>
<dd>Switch to the <em>tag</em> view.
</dd>
<dt>Escape</dt>
<dd>In the main window, clear the pattern filter and activate the view menu.
</dd>
<dd>In dialogs, cancel any changes and close the dialog.
</dd>
<dt>Tab</dt>
<dd>Toggle the focus between the view menu and the main window.
</dd>
<dt>Space</dt>
<dd>Display the current date in the day, week and month views. See also <em>Control-J</em> below.
</dd>
<dt>Control-A</dt>
<dd>Show the remaining alerts for today, if any.
</dd>
<dt>Control-C</dt>
<dd><p>If you have a entry for <em>calendars</em> in your <em>etm.cfg</em> file, then open a dialog to choose which calendars to display.</p>
</dd>
</dl>
<center>
<img src="images/calendar_selection.png" title="calendar selection" />
</center>
<dl>
<dt>Control-E</dt>
<dd>Show the list of file loading error messages.
</dd>
<dt>Control-F</dt>
<dd>Enter an expression in the pattern filter to limit the display to items with matching summaries (titles) or branches. See <em>Filtering</em> in the <em>Overview</em> tab.
</dd>
<dt>Control-J</dt>
<dd>Jump to a fuzzy parsed date in the day, week and month views. Relative days and months can be entered in this dialog. E.g., <em>+21</em> to go forward 21 days or <em>-1/1</em> to go to the first day of the previous month. See also <em>Space</em> above. <em>If nothing is scheduled for the specified date, the last date with scheduled items before the specified date will be selected in the day view.</em>
</dd>
<dt>Control-L</dt>
<dd>Activate the view menu pop up list. You can then select a view using the up and down arrow keys or the first letter of the view name.
</dd>
<dt>Control-N</dt>
<dd>Create a new event, note or task.
</dd>
<dt>Control-P</dt>
<dd>Open the etm scratch pad.
</dd>
<dt>Control-R</dt>
<dd>Create a custom report.
</dd>
<dt>Control-S</dt>
<dd>Show the current schedule.
</dd>
<dt>Control-T</dt>
<dd>If the action timer is inactive, create a new action timer. Otherwise toggle the timer between paused and running.
</dd>
<dt>Shift Control-H</dt>
<dd>Select a file to edit from a list of those most recently modified in the current session.
</dd>
<dt>Shift Control-O</dt>
<dd>Open <em>etm.cfg</em> for editing.
</dd>
<dt>Shift Control-C</dt>
<dd>Open your <em>auto_completions</em> file for editing.
</dd>
<dt>Shift Control-R</dt>
<dd>Open your <em>report_specifications</em> file for editing.
</dd>
<dt>Shift Control-T</dt>
<dd>If the action timer is active, stop the timer and record the action.
</dd>
</dl>
<h3 id="day-view"><a href="#day-view">Day View</a></h3>
<dl>
<dt>Return</dt>
<dd>If a leaf is selected, open the details view for the leaf.
</dd>
<dt>LeftArrow</dt>
<dd>Display the last date with scheduled items before the current. Display the week containing this date in week view and the month containing this date in month view.
</dd>
<dt>RightArrow</dt>
<dd>Display the first date with scheduled items after the current. Display the week containing this date in week view and the month containing this date in month view.
</dd>
</dl>
<h3 id="week-view"><a href="#week-view">Week View</a></h3>
<dl>
<dt>Double-Click</dt>
<dd>In a busy time slot, open the details dialog for the relevant event.
</dd>
<dd>In an empty time slot, open a dialog to create a new event for the relevant date and time.
</dd>
<dt>LeftArrow</dt>
<dd>Display the previous week.
</dd>
<dt>RightArrow</dt>
<dd>Display the next week.
</dd>
<dt>Control-B</dt>
<dd>Open a display showing the periods during the week when you are busy.
</dd>
</dl>
<h3 id="month-view"><a href="#month-view">Month View</a></h3>
<dl>
<dt>Double-Click</dt>
<dd>Make the selected date visible in both the day and week views and switch to the week view.
</dd>
<dt>LeftArrow</dt>
<dd>Move the selection to the previous month.
</dd>
<dt>RightArrow</dt>
<dd>Move the selection to the next month.
</dd>
<dt>UpArrow</dt>
<dd>Move the selection to the previous week.
</dd>
<dt>DownArrow</dt>
<dd>Move the selection to the next week.
</dd>
</dl>
<h3 id="tree-views"><a href="#tree-views">Tree Views</a></h3>
<p>The following apply to all views other than the week and month views. Hovering the mouse over a leaf displays a tooltip with the details of the relevant item.</p>
<dl>
<dt>Double-Click</dt>
<dd>On a branch, toggle between expanded and collapsed.
</dd>
<dd>On a leaf, open the details dialog for the selected item.
</dd>
<dt>Return</dt>
<dd>When a leaf is selected, open the details dialog for the selected item.
</dd>
<dt>Control-/</dt>
<dd>Open a dialog to choose the level of expansion for the tree.
</dd>
<dt>UpArrow</dt>
<dd>Moves the cursor to the item in the same column on the previous row. If the parent of the current item has no more rows to navigate to, the cursor moves to the relevant item in the last row of the sibling that precedes the parent.
</dd>
<dt>DownArrow</dt>
<dd>Moves the cursor to the item in the same column on the next row. If the parent of the current item has no more rows to navigate to, the cursor moves to the relevant item in the first row of the sibling that follows the parent.
</dd>
<dt>LeftArrow</dt>
<dd>Hides the children of the current item (if present) by collapsing a branch.
</dd>
<dt>Minus</dt>
<dd>Same as LeftArrow.
</dd>
<dt>RightArrow</dt>
<dd>Reveals the children of the current item (if present) by expanding a branch.
</dd>
<dt>Plus</dt>
<dd>Same as RightArrow.
</dd>
<dt>Asterisk</dt>
<dd>Expands all children of the current item (if present).
</dd>
<dt>PageUp</dt>
<dd>Moves the cursor up one page.
</dd>
<dt>PageDown</dt>
<dd>Moves the cursor down one page.
</dd>
<dt>Home</dt>
<dd>Moves the cursor to an item in the same column of the first row of the first top-level item in the model.
</dd>
<dt>End</dt>
<dd><p>Moves the cursor to an item in the same column of the last row of the last top-level item in the model.</p>
</dd>
<dt>Alphabetic and/or numeric character(s)</dt>
<dd><p>Jump to the next appearance of the character(s).</p>
</dd>
</dl>
<h3 id="details-view"><a href="#details-view">Details view</a></h3>
<dl>
<dt>Return</dt>
<dd>Edit this item.
</dd>
<dt>Control-C</dt>
<dd>Edit a copy of this item.
</dd>
<dt>Control-D</dt>
<dd>Delete this item.
</dd>
<dt>Control-E</dt>
<dd>Edit the file containing this item.
</dd>
<dt>Control-F</dt>
<dd>If the selected item is a task, enter a finish date.
</dd>
<dt>Control-G</dt>
<dd>If the item has an <em><span class="citation" data-cites="g">@g</span></em> entry, open it using the system default application.
</dd>
<dt>Shift Control-H</dt>
<dd>Show the history of changes to this item's file.
</dd>
<dt>Control-M</dt>
<dd>Move this item to a different file.
</dd>
<dt>Control-P</dt>
<dd>Print.
</dd>
<dt>Control-R</dt>
<dd>If this is a repeating item, show its repetitions.
</dd>
<dt>Control-T</dt>
<dd>Start the timer for a new action based on the selected item.
</dd>
<dt>Space</dt>
<dd>In the &quot;edit which instance&quot; dialog, move the selection to the next alernative.
</dd>
<dt>F8</dt>
<dd>Export this item in iCalendar format to the file specified by <code>icsitem_file</code> in <em>etm.cfg</em>. If the item is repeating, you can choose whether to export just the selected instance, the selected and all subsequent instances or all instances.
</dd>
</dl>
<h3 id="reports-dialog"><a href="#reports-dialog">Reports dialog</a></h3>
<dl>
<dt>Escape</dt>
<dd>If the list of report specifications is open, close it.
</dd>
<dt>Return</dt>
<dd>In the report specification field, add the current specification to the list if it is not already included. Use Control-S to save such changes to the list.
</dd>
<dt>Control-D</dt>
<dd>Remove the current report specification from the list if it is included. Use Control-S to save such changes to the list.
</dd>
<dt>Control-E</dt>
<dd>Export the current report in CSV format.
</dd>
<dt>Control-L</dt>
<dd>Open the list of report specifications.
</dd>
<dt>Control-P</dt>
<dd>Print.
</dd>
<dt>Control-R</dt>
<dd>Refresh the report using the selected report options setting.
</dd>
<dt>Control-S</dt>
<dd>Save changes to the list of report options settings.
</dd>
</dl>
<h3 id="editor"><a href="#editor">Editor</a></h3>
<dl>
<dt>Control-Return</dt>
<dd>Save changes if modified and close the editor.
</dd>
<dt>Control-C</dt>
<dd>Copy selection to clipboard.
</dd>
<dt>Control-I</dt>
<dd>Insert the contents of the <em>etm</em> scratch pad at the cursor position.
</dd>
<dt>Control-P</dt>
<dd>Print.
</dd>
<dt>Control-S</dt>
<dd>Save changes.
</dd>
<dt>Control-V</dt>
<dd>Paste clipboard at cursor position.
</dd>
<dt>Control-W</dt>
<dd>Close the editor, prompting to save changes if modified.
</dd>
<dt>Control-X</dt>
<dd>Delete selection and copy to clipboard.
</dd>
<dt>Control-Z</dt>
<dd>Undo.
</dd>
<dt>Shift Control-Z</dt>
<dd>Redo.
</dd>
</dl>
<h2 id="preferences"><a href="#preferences">Preferences</a></h2>
<p>Each configuration option is listed below with an illustrative entry and a brief discussion. These entries are stored, by default, in <code>~/.etm/etm.cfg</code>. When this file is edited in <em>etm</em> (Shift Ctrl-O), your changes become effective as soon as they are saved --- you do not need to restart <em>etm</em>.</p>
<p>The following template expansions can be used in <code>alert_displaycmd</code>, <code>alert_template</code>, <code>alert_voicecmd</code>, <code>email_template</code>, <code>sms_message</code> and <code>sms_subject</code> below.</p>
<ul>
<li><code>!summary!</code>: the item's summary (this will be used as the subject of email and message alerts)</li>
<li><code>!start_date!</code>: the starting date of the event</li>
<li><code>!start_time!</code>: the starting time of the event</li>
<li><code>!time_span!</code>: the time span of the event (see below)</li>
<li><code>!alert_time!</code>: the time the alert is triggered</li>
<li><code>!time_left!</code>: the time remaining until the event starts</li>
<li><code>!when!</code>: the time remaining until the event starts as a sentence (see below)</li>
<li><code>!d!</code>: the item's <code>@d</code> (description)</li>
<li><code>!l!</code>: the item's <code>@l</code> (location)</li>
</ul>
<p>The value of <code>!time_span!</code> depends on the starting and ending datetimes. Here are some examples:</p>
<ul>
<li><p>if the start and end <em>datetimes</em> are the same (zero extent): <code>10am Wed, Aug 4</code></p></li>
<li><p>else if the times are different but the <em>dates</em> are the same: <code>10am - 2pm Wed, Aug 4</code></p></li>
<li><p>else if the dates are different: <code>10am Wed, Aug 4 - 9am Thu, Aug 5</code></p></li>
<li><p>additionally, the year is appended if a date falls outside the current year:</p>
<pre><code>10am - 2pm Thu, Jan 3 2013
10am Mon, Dec 31 - 2pm Thu, Jan 3 2013</code></pre></li>
</ul>
<p>Here are values of <code>!time_left!</code> and <code>!when!</code> for some illustrative periods:</p>
<ul>
<li><p><code>2d3h15m</code></p>
<pre><code>time_left : &#39;2 days 3 hours 15 minutes&#39;
when      : &#39;2 days 3 hours 15 minutes from now&#39;</code></pre></li>
<li><p><code>20m</code></p>
<pre><code>time_left : &#39;20 minutes&#39;
when      : &#39;20 minutes from now&#39;</code></pre></li>
<li><p><code>0m</code></p>
<pre><code>time_left : &#39;&#39;
when      : &#39;now&#39;</code></pre></li>
</ul>
<p>Note that 'now', 'from now', 'days', 'day', 'hours' and so forth are determined by the translation file in use.</p>
<p>Available template expansions for <code>action_template</code> (below) include:</p>
<ul>
<li><code>!label!</code> the item or group label.</li>
<li><code>!count!</code> the number of children represented in the reported item or group.</li>
<li><code>!minutes!</code> the total time from <code>@e</code> entries in minutes rounded up using the setting for <code>action_minutes</code>.</li>
<li><code>!hours!</code> if action_minutes = 1, the time in hours and minutes. Otherwise, the time in floating point hours.</li>
<li><code>!value!</code> the billing value of the rounded total time. Requires an action entry such as <code>@v br1</code> and a setting for <code>action_rates</code>.</li>
<li><code>!expense!</code> the total expense from <code>@x</code> entries.</li>
<li><code>!charge!</code> the billing value of the total expense. Requires an action entry such as <code>@w mu1</code> and a setting for <code>action_markups</code>.</li>
<li><code>!total!</code> the sum of <code>!value!</code> and <code>!charge!</code>.</li>
</ul>
<p>Note: when aggregating amounts in action reports, billing and markup rates are applied first to times and expenses for individual actions and the resulting amounts are then aggregated. Similarly, when times are rounded up, the rounding is done for individual actions and the results are then aggregated.</p>
<h3 id="action_interval"><a href="#action_interval">action_interval</a></h3>
<pre><code>action_interval: 1</code></pre>
<p>Every <code>action_interval</code> minutes, execute <code>action_timercmd</code> when the timer is running and <code>action_pausecmd</code> when the timer is paused. Choose zero to disable executing these commands.</p>
<h3 id="action_markups"><a href="#action_markups">action_markups</a></h3>
<pre><code>action_markups:
    default: 1.0
    mu1: 1.5
    mu2: 2.0</code></pre>
<p>Possible markup rates to use for <code>@x</code> expenses in actions. An arbitrary number of rates can be entered using whatever labels you like. These labels can then be used in actions in the <code>@w</code> field so that, e.g.,</p>
<pre><code>... @x 25.80 @w mu1 ...</code></pre>
<p>in an action would give this expansion in an action template:</p>
<pre><code>!expense! = 25.80
!charge! = 38.70</code></pre>
<h3 id="action_minutes"><a href="#action_minutes">action_minutes</a></h3>
<pre><code>action_minutes: 6</code></pre>
<p>Round action times up to the nearest <code>action_minutes</code> in action reports. Possible choices are 1, 6, 12, 15, 30 and 60. With 1, no rounding is done and times are reported as integer minutes. Otherwise, the prescribed rounding is done and times are reported as floating point hours.</p>
<h3 id="action_rates"><a href="#action_rates">action_rates</a></h3>
<pre><code>&lt;!-- action_rates: --&gt;
    default: 30.0
    br1: 45.0
    br2: 60.0</code></pre>
<p>Possible billing rates to use for <code>@e</code> times in actions. An arbitrary number of rates can be entered using whatever labels you like. These labels can then be used in the <code>@v</code> field in actions so that, e.g., with <code>action_minutes: 6</code> then:</p>
<pre><code>... @e 75m @v br1 ...</code></pre>
<p>in an action would give these expansions in an action template:</p>
<pre><code>!hours! = 1.3
!value! = 58.50</code></pre>
<p>If the label <code>default</code> is used, the corresponding rate will be used when <code>@v</code> is not specified in an action.</p>
<p>Note that etm accumulates group totals from the <code>time</code> and <code>value</code> of individual actions. Thus</p>
<pre><code>... @e 75m @v br1 ...
... @e 60m @v br2 ...</code></pre>
<p>would aggregate to</p>
<pre><code>!hours!  = 2.3     (= 1.3 + 1)
!value! = 118.50   (= 1.3 * 45.0 + 1 * 60.0)</code></pre>
<h3 id="action_template"><a href="#action_template">action_template</a></h3>
<pre><code>action_template: &#39;!hours!h) !label! (!count!)&#39;</code></pre>
<p>Used for action reports. With the above settings for <code>action_minutes</code> and <code>action_template</code>, a report might appear as follows:</p>
<pre><code>27.5h) Client 1 (3)
    4.9h) Project A (1)
    15h) Project B (1)
    7.6h) Project C (1)
24.2h) Client 2 (3)
    3.1h) Project D (1)
    21.1h) Project E (2)
        5.1h) Category a (1)
        16h) Category b (1)
4.2h) Client 3 (1)
8.7h) Client 4 (2)
    2.1h) Project F (1)
    6.6h) Project G (1)</code></pre>
<h3 id="action_timer"><a href="#action_timer">action_timer</a></h3>
<pre><code>action_timer:
    paused: &#39;/usr/bin/play /home/dag/.etm/sounds/timer_paused.wav&#39;
    running: &#39;/usr/bin/play /home/dag/.etm/sounds/timer_running.wav&#39;</code></pre>
<p>The command <code>running</code> is executed every <code>action_interval</code> minutes whenever the action timer is running and <code>paused</code> every minute when the action timer is paused.</p>
<h3 id="action_status"><a href="#action_status">action_status</a></h3>
<pre><code>action_status:
    paused:    &#39;echo !summary! !time! paused &gt; ~/.etm/status.text&#39;
    running:   &#39;echo !summary! !time! running &gt; ~/.etm/status.text&#39;
    stopped:   &#39;echo  &gt; ~/.etm/status.text&#39;</code></pre>
<p>The expansion of the appropriate command will be executed whenever the status of the action timer changes.</p>
<p>Available expansions for <code>paused</code>, <code>running</code> and <code>stopped</code> include:</p>
<ul>
<li><code>!summary!</code> the action summary.</li>
<li><code>!time!</code> the current value of timer in H:MM format.</li>
</ul>
<p>The illustrative <code>running</code> might, for example, expand as follows:</p>
<pre><code>jones deposition 0:27 running</code></pre>
<p>With the above example, note that an application such as <em>conky</em> or <em>geektool</em> could be used to display the contents of <code>~/.etm/status.text</code> on the user's desktop.</p>
<h3 id="agenda"><a href="#agenda">agenda</a></h3>
<pre><code>agenda_colors:  2
agenda_days:    4
agenda_indent:  2
agenda_width1: 24
agenda_width2:  8</code></pre>
<p>The agenda setup. With <code>colors</code> 2, all colors are used, with 1 only red is used (past due tasks) and with 0 no colors are used. <code>days</code> is the number of active days to display. <code>indent</code> gives the indentation for each level of the tree. <code>width1</code> and <code>width2</code> give, respectively, the maximum width for columns 1 and 2.</p>
<h3 id="alert_default"><a href="#alert_default">alert_default</a></h3>
<pre><code>alert_default: [m]</code></pre>
<p>The alert or list of alerts to be used when an alert is specified for an item but the type is not given. Possible values for the list include: - d: display (requires <code>alert_displaycmd</code>) - m: message (using <code>alert_template</code>) - s: sound (requires <code>alert_soundcmd</code>) - v: voice (requires <code>alert_voicecmd</code>)</p>
<h3 id="alert_displaycmd"><a href="#alert_displaycmd">alert_displaycmd</a></h3>
<pre><code>alert_displaycmd: /usr/local/bin/growlnotify -t !summary! -m &#39;!time_span!&#39;</code></pre>
<p>The command to be executed when <code>d</code> is included in an alert. Possible template expansions are discussed at the beginning of this tab.</p>
<h3 id="alert_soundcmd"><a href="#alert_soundcmd">alert_soundcmd</a></h3>
<pre><code>alert_soundcmd: &#39;/usr/bin/play /home/dag/.etm/sounds/etm_alert.wav&#39;</code></pre>
<p>The command to execute when <code>s</code> is included in an alert. Possible template expansions are discussed at the beginning of this tab.</p>
<h3 id="alert_template"><a href="#alert_template">alert_template</a></h3>
<pre><code>alert_template: &#39;!time_span!\n!l!\n\n!d!&#39;</code></pre>
<p>The template to use for the body of <code>m</code> (message) alerts. See the discussion of template expansions at the beginning of this tab for other possible expansion items.</p>
<h3 id="alert_voicecmd"><a href="#alert_voicecmd">alert_voicecmd</a></h3>
<pre><code>alert_voicecmd: /usr/bin/say -v &#39;Alex&#39; &#39;!summary! begins !when!.&#39;</code></pre>
<p>The command to be executed when <code>v</code> is included in an alert. Possible expansions are are discussed at the beginning of this tab.</p>
<h3 id="alert_wakecmd"><a href="#alert_wakecmd">alert_wakecmd</a></h3>
<pre><code>alert_wakecmd: /Users/dag/bin/SleepDisplay -w</code></pre>
<p>If given, this command will be issued to &quot;wake up the display&quot; before executing <code>alert_displaycmd</code>.</p>
<h3 id="ampm"><a href="#ampm">ampm</a></h3>
<pre><code>ampm: true</code></pre>
<p>Use ampm times if true and twenty-four hour times if false. E.g., 2:30pm (true) or 14:30 (false).</p>
<h3 id="auto_completions"><a href="#auto_completions">auto_completions</a></h3>
<pre><code>    auto_completions: ~/.etm/completions.cfg</code></pre>
<p>The absolute path to the file to be used for autocompletions. Each line in the file provides a possible completion. E.g.</p>
<pre><code>@c computer
@c home
@c errands
@c office
@c phone
@z US/Eastern
@z US/Central
@z US/Mountain
@z US/Pacific
dnlgrhm@gmail.com</code></pre>
<p>As soon as you enter, for example, &quot;<span class="citation" data-cites="c">@c</span>&quot; in the editor, a list of possible completions will pop up and then, as you type further characters, the list will shrink to show only those that still match:</p>
<center>
<img src="images/completion.png" title="Completion" />
</center>

<p>Up and down arrow keys change the selection and either <em>Tab</em> or <em>Return</em> inserts the selection.</p>
<h3 id="calendars"><a href="#calendars">calendars</a></h3>
<pre><code>calendars:
- [dag, true, personal/dag]
- [erp, false, personal/erp]
- [shared, true, shared]</code></pre>
<p>These are (label, default, path relative to <code>datadir</code>) tuples to be interpreted as separate calendars. Those for which default is <code>true</code> will be displayed as default calendars. E.g., with the <code>datadir</code> below, <code>dag</code> would be a default calendar and would correspond to the absolute path <code>/Users/dag/.etm/data/personal/dag</code>. With this setting, the calendar selection dialog would appear as follows:</p>
<center>
<img src="images/calendar_selection.png" title="available calendars" />
</center>

<p>When non-default calendars are selected, busy times in the &quot;week view&quot; will appear in one color for events from default calendars and in another color for events from non-default calendars.</p>
<p><em>Note that the calendar icon only appears in the main gui if this setting is provided.</em></p>
<h3 id="current-files"><a href="#current-files">current files</a></h3>
<pre><code>current_htmlfile:  &#39;&#39;
current_textfile:  &#39;&#39;
current_indent:    3
current_opts:      &#39;&#39;
current_width1:    40
current_width2:    17</code></pre>
<p>If absolute file paths are entered for <code>current_textfile</code> and/or <code>current_htmlfile</code>, then these files will be created and automatically updated by etm as as plain text or html files, respectively. If <code>current_opts</code> is given then the file will contain a report using these options; otherwise the file will contain an agenda. Indent and widths are taken from these setting with other settings, including color, from <em>report</em> or <em>agenda</em>, respectively.</p>
<p>Hint: fans of geektool can use the shell command <code>cat &lt;current_textfile&gt;</code> to have the current agenda displayed on their desktops.</p>
<h3 id="datadir"><a href="#datadir">datadir</a></h3>
<pre><code>datadir: ~/.etm/data</code></pre>
<p>All etm data files are in this directory.</p>
<h3 id="dayfirst"><a href="#dayfirst">dayfirst</a></h3>
<pre><code>dayfirst: false</code></pre>
<p>If dayfirst is False, the MM-DD-YYYY format will have precedence over DD-MM-YYYY in an ambiguous date. See also <code>yearfirst</code>.</p>
<h3 id="edit_cmd"><a href="#edit_cmd">edit_cmd</a></h3>
<pre><code>edit_cmd: ~/bin/vim !file! +!line!</code></pre>
<p>This command is used in the command line version of etm to create and edit items. When the command is expanded, <code>!file!</code> will be replaced with the complete path of the file to be edited and <code>!line!</code> with the starting line number in the file. If the editor will open a new window, be sure to include the command to wait for the file to be closed before returning, e.g., with vim:</p>
<pre><code>edit_cmd: ~/bin/gvim -f !file! +!line!</code></pre>
<p>or with sublime text:</p>
<pre><code>edit_cmd: ~/bin/subl -n -w !file!:!line!</code></pre>
<h3 id="email_template"><a href="#email_template">email_template</a></h3>
<pre><code>email_template: &#39;Time: !time_span!
Locaton: !l!


!d!&#39;</code></pre>
<p>Note that two newlines are required to get one empty line when the template is expanded. This template might expand as follows:</p>
<pre><code>    Time: 1pm - 2:30pm Wed, Aug 4
    Location: Conference Room

    &lt;contents of @d&gt;</code></pre>
<p>See the discussion of template expansions at the beginning of this tab for other possible expansion items.</p>
<h3 id="etmdir"><a href="#etmdir">etmdir</a></h3>
<pre><code>etmdir: ~/.etm</code></pre>
<p>Absolute path to the directory for etm.cfg and other etm configuration files.</p>
<h3 id="filechange_alert"><a href="#filechange_alert">filechange_alert</a></h3>
<pre><code>filechange_alert: &#39;/usr/bin/play /home/dag/.etm/sounds/etm_alert.wav&#39;</code></pre>
<p>The command to be executed when etm detects an external change in any of its data files. Leave this command empty to disable the notification.</p>
<h3 id="fontsize"><a href="#fontsize">fontsize</a></h3>
<pre><code>fontsize: 13</code></pre>
<p>Use this font size in the gui treeviews.</p>
<h3 id="mercurial-commands"><a href="#mercurial-commands">Mercurial commands</a></h3>
<p>If <em>Mercurial</em> is installed on your system, then the default versions of the <code>hg</code> commands given below should work without modification. If you want to use another version control system, then enter the commands for your version control system. <code>{repo}</code> will be replaced with the internally generated name of the repository in <code>hg_commit</code> and <code>hg_history</code>, <code>{file}</code> with the internally generated file name in <code>hg_history</code>, <code>{mesg}</code> with the internally generated commit message in <code>hg_commit</code> and <code>{0}</code> with the name of the repository in <code>hg_init</code>.</p>
<h4 id="hg_commit"><a href="#hg_commit">hg_commit</a></h4>
<p>The command to commit changes to the repository.</p>
<pre><code>hg_commit: /usr/local/bin/hg commit -A -R {repo} -m &#39;{mesg}&#39;</code></pre>
<h4 id="hg_history"><a href="#hg_history">hg_history</a></h4>
<p>The command to show the history of changes for a particular data file.</p>
<pre><code>hg_history: &#39;/usr/local/bin/hg log --style compact \
    --template `{rev}: {desc}\n` \
    -R {repo} -p -r `tip`:0 {file}&#39;</code></pre>
<h4 id="hg_init"><a href="#hg_init">hg_init</a></h4>
<p>The command to initialize or create a repository.</p>
<pre><code>hg_init: /usr/local/bin/hg init {0}</code></pre>
<h3 id="icalendar-files"><a href="#icalendar-files">iCalendar files</a></h3>
<h4 id="icscal_file"><a href="#icscal_file">icscal_file</a></h4>
<p>Pressing F8 in the gui main window will export the selected calendars in iCalendar format to this file.</p>
<pre><code>icscal_file: ~/.etm/etmcal.ics</code></pre>
<h4 id="icsitem_file"><a href="#icsitem_file">icsitem_file</a></h4>
<p>Pressing F8 in the gui detail view will export the selected item in iCalendar format to this file.</p>
<pre><code>icsitem_file: ~/.etm/etmitem.ics</code></pre>
<h3 id="local_timezone"><a href="#local_timezone">local_timezone</a></h3>
<pre><code>local_timezone: US/Eastern</code></pre>
<p>This timezone will be used as the default when a value for <code>@z</code> is not given in an item.</p>
<h3 id="monthly"><a href="#monthly">monthly</a></h3>
<pre><code>monthly: monthly</code></pre>
<p>Relative path from <code>datadir</code>. With the settings above and for <code>datadir</code> the suggested location for saving new items in, say, October 2012, would be the file:</p>
<pre><code>~/.etm/data/monthly/2012/10.txt</code></pre>
<p>The directories <code>monthly</code> and <code>2012</code> and the file <code>10.txt</code> would, if necessary, be created. The user could either accept this default or choose a different file.</p>
<h3 id="report"><a href="#report">report</a></h3>
<pre><code>report_begin:           &#39;1&#39;
report_end:             &#39;+1/1&#39;
report_colors:          2
report_specifications:  ~/.etm/reports.cfg
report_width:           54</code></pre>
<p>Report begin and end are fuzzy parsed dates specifying the default period for reports that group by dates. Each line in the file specified by <code>report_specifications</code> provides a possible specification for a report. E.g.</p>
<pre><code>a MMM yyyy; k[0]; k[1:] -b -1/1 -e 1
a k, MMM yyyy -b -1/1 -e 1
c ddd MMM d yyyy
c f</code></pre>
<p>In the reports dialog these appear in the report specifications pop-up list. A specification from the list can be selected and, perhaps, modified or an entirely new specification can be entered. See the <em>Reports</em> tab for details. See also the <em>agenda</em> settings above.</p>
<h3 id="rowsize"><a href="#rowsize">rowsize</a></h3>
<pre><code>rowsize: 18</code></pre>
<p>If positive, use this vertical size in GUI tree views.</p>
<h3 id="show_finished"><a href="#show_finished">show_finished</a></h3>
<pre><code>show_finished: 1</code></pre>
<p>Show this many of the most recent completions of repeated tasks or, if 0, show all completions.</p>
<h3 id="smtp"><a href="#smtp">smtp</a></h3>
<pre><code>smtp_from: dnlgrhm@gmail.com
smtp_id: dnlgrhm
smtp_pw: **********
smtp_server: smtp.gmail.com</code></pre>
<p>Required settings for the smtp server to be used for email alerts.</p>
<h3 id="sms"><a href="#sms">sms</a></h3>
<pre><code>sms_message: &#39;!summary!&#39;
sms_subject: &#39;!time_span!&#39;
sms_from: dnlgrhm@gmail.com
sms_pw:  **********
sms_phone: 0123456789@vtext.com
sms_server: smtp.gmail.com:587</code></pre>
<p>Required settings for text messaging in alerts. Enter the 10-digit area code and number and mms extension for the mobile phone to receive the text message when no numbers are specified in the alert. The illustrated phone number is for Verizon. Here are the mms extensions for the major carriers:</p>
<pre><code>Alltel          @message.alltel.com
AT&amp;T            @txt.att.net
Nextel          @messaging.nextel.com
Sprint          @messaging.sprintpcs.com
SunCom          @tms.suncom.com
T-mobile        @tmomail.net
VoiceStream     @voicestream.net
Verizon         @vtext.com</code></pre>
<h3 id="sundayfirst"><a href="#sundayfirst">sundayfirst</a></h3>
<pre><code>sundayfirst: false</code></pre>
<p>The setting affects only the twelve month calendar display. The first column in each month is Sunday if <code>true</code> and Monday otherwise. Both the week and month views list Monday first regardless of this setting since both reflect the iso standard for week numbering in which weeks begin with Monday.</p>
<h3 id="sunmoon_location"><a href="#sunmoon_location">sunmoon_location</a></h3>
<pre><code>sunmoon_location: [Chapel Hill, NC]</code></pre>
<p>The USNO location for sun/moon data. Either a US city-state 2-tuple such as <code>[Chapel Hill, NC]</code> or a placename-longitude-latitude 7-tuple such as <code>[Home, W, 79, 0, N, 35, 54]</code>.</p>
<p>Enter a blank value to disable sunmoon information.</p>
<h3 id="weather_location"><a href="#weather_location">weather_location</a></h3>
<pre><code>weather_location: w=615702</code></pre>
<p>To get the yahoo weather location code (WOEID) go to http://weather.yahoo.com/, enter your location and hit return. When the weather page for your location opens, the WOEID will be in the url for your location, e.g., for Paris, FR the url is</p>
<pre><code>http://weather.yahoo.com/france/ile-de-france/paris-615702/</code></pre>
<p>and the WOEID is 615702. For US locations you can us the US 5-digit zip code for your location. E.g. my zip code in Chapel Hill, NC is 27517 and I would enter</p>
<pre><code>weather_location: p=27517</code></pre>
<p>Note that <code>p=</code> replaces <code>w=</code> when using a zip code instead of a WOEID. By default temperatures are given in degrees Farenheit. If you would prefer Celcius append <code>&amp;u=c</code> to either the WOEID or the zip code in your <code>weather_location</code>. Note that choosing Celsius degree units changes all the weather units to metric, for example, wind speed will be reported as kilometers per hour and barometric pressure as millibars.</p>
<p>Enter a blank value to disable weather information.</p>
<h3 id="weeks_after"><a href="#weeks_after">weeks_after</a></h3>
<pre><code>weeks_after: 52</code></pre>
<p>In the day view, all non-repeating, dated items are shown. Additionally all repetitions of repeating items with a finite number of repetitions are shown. This includes 'list-only' repeating items and items with <code>&amp;u</code> (until) or <code>&amp;t</code> (total number of repetitions) entries. For repeating items with an infinite number of repetitions, those repetitions that occur within the first <code>weeks_after</code> weeks after the current week are displayed along with the first repetition after this interval. This assures that for infrequently repeating items such as voting for president, at least one repetition will be displayed.</p>
<h3 id="window-height-and-width"><a href="#window-height-and-width">window height and width</a></h3>
<pre><code>window_height: 428
window_width: 464</code></pre>
<p>The height and width for the GUI main window.</p>
<h3 id="yearfirst"><a href="#yearfirst">yearfirst</a></h3>
<pre><code>yearfirst: true</code></pre>
<p>If yearfirst is true, the YY-MM-DD format will have precedence over MM-DD-YY in an ambiguous date. See also <code>dayfirst</code>.</p>
</body>
</html>
