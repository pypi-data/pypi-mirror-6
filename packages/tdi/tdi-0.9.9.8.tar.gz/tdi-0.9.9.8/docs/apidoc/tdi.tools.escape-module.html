<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>tdi.tools.escape</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="tdi-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a href="http://opensource.perlig.de/tdi/" target="_top">Visit TDI Online</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="tdi-module.html">Package&nbsp;tdi</a> ::
        <a href="tdi.tools-module.html" onclick="show_private();">Package&nbsp;tools</a> ::
        Module&nbsp;escape
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="tdi.tools.escape-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module escape</h1><p class="nomargin-top"><span class="codelink"><a href="tdi.tools.escape-pysrc.html">source&nbsp;code</a></span></p>
<div class="rst-section" id="rst-this-module-is-deprecated">
<h1 class="heading">This module is deprecated.</h1>
<p>This module is deprecated and going to be removed. All code has been moved
elsewhere.</p>
</div>

<hr />
<div class="fields">      <p><strong>Copyright:</strong>
        Copyright 2006 - 2013
Andr&#233; Malo or his licensors, as applicable
      </p>
      <p><strong>License:</strong>
        <p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<a class="rst-reference external" href="http://www.apache.org/licenses/LICENSE-2.0" target="_top">http://www.apache.org/licenses/LICENSE-2.0</a></blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
      </p>
      <p><strong>Author:</strong>
        Andr&#233; Malo
      </p>
</div><!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Functions</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">unicode</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tdi.tools.escape-module.html#decode_html" class="summary-sig-name">decode_html</a>(<span class="summary-sig-arg">value</span>,
        <span class="summary-sig-arg">encoding</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">latin-1</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">errors</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">strict</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">entities</span>=<span class="summary-sig-default">None</span>)</span><br />
      Decode HTML encoded text</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tdi.tools.escape-pysrc.html#decode_html">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">str</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tdi.tools.escape-module.html#escape_js" class="summary-sig-name">escape_js</a>(<span class="summary-sig-arg">toescape</span>,
        <span class="summary-sig-arg">inlined</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">encoding</span>=<span class="summary-sig-default">None</span>)</span><br />
      Escape a string for JS output (to be inserted into a JS string)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tdi.tools.escape-pysrc.html#escape_js">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">str</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tdi.tools.escape-module.html#multiline_to_html" class="summary-sig-name">multiline_to_html</a>(<span class="summary-sig-arg">content</span>,
        <span class="summary-sig-arg">encoding</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">ascii</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">tabwidth</span>=<span class="summary-sig-default">8</span>,
        <span class="summary-sig-arg">xhtml</span>=<span class="summary-sig-default">True</span>)</span><br />
      Encode multiline content to HTML, assignable to <tt class="rst-docutils literal">node.raw.content</tt></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tdi.tools.escape-pysrc.html#multiline_to_html">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="tdi.tools.escape-module.html#__package__" class="summary-name">__package__</a> = <code title="None">None</code><br />
      hash(x)
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Function Details</span></td>
</tr>
</table>
<a name="decode_html"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">decode_html</span>(<span class="sig-arg">value</span>,
        <span class="sig-arg">encoding</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">latin-1</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">errors</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">strict</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">entities</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tdi.tools.escape-pysrc.html#decode_html">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Decode HTML encoded text
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>value</code></strong> (<tt class="rst-docutils literal">basestring</tt>) - HTML content to decode</li>
        <li><strong class="pname"><code>encoding</code></strong> (<tt class="rst-docutils literal">str</tt>) - Unicode encoding to be applied before value is being processed
further. If value is already a unicode instance, the encoding is
ignored. If omitted, 'latin-1' is applied (because it can't fail
and maps bytes 1:1 to unicode codepoints).</li>
        <li><p><strong class="pname"><code>errors</code></strong> (<tt class="rst-docutils literal">str</tt>) - Error handling, passed to .decode() and evaluated for entities.
If the entity name or character codepoint could not be found or
not be parsed then the error handler has the following semantics:</p>
<dl class="rst-docutils">
<dt><tt class="rst-docutils literal">strict</tt> (or anything different from the other tokens below)</dt>
<dd>A <tt class="rst-docutils literal">ValueError</tt> is raised.</dd>
<dt><tt class="rst-docutils literal">ignore</tt></dt>
<dd>The original entity is passed through</dd>
<dt><tt class="rst-docutils literal">replace</tt></dt>
<dd>The character is replaced by the replacement character
(U+FFFD)</dd>
</dl></li>
        <li><p><strong class="pname"><code>entities</code></strong> (<tt class="rst-docutils literal">dict</tt>) - Entity name mapping (unicode(name) -&gt; unicode(value)). If
omitted or <tt class="rst-docutils literal">None</tt>, the <a class="rst-reference external" href="http://www.w3.org/TR/html5/syntax.html#named-character-references" target="_top">HTML5 entity list</a> is applied.</p></li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">unicode</tt></dt>
        <dd>The decoded content</dd>
  </dl>
</td></tr></table>
</div>
<a name="escape_js"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">escape_js</span>(<span class="sig-arg">toescape</span>,
        <span class="sig-arg">inlined</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">encoding</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tdi.tools.escape-pysrc.html#escape_js">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Escape a string for JS output (to be inserted into a JS string)</p>
<p>This function is one of the building blocks of the
<a href="tdi.tools.javascript-module.html#replace" class="link">tdi.tools.javascript.replace</a> function. You probably shouldn't
use it directly in your rendering code.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>toescape</code></strong> (<tt class="rst-docutils literal">basestring</tt>) - The string to escape</li>
        <li><strong class="pname"><code>inlined</code></strong> (<tt class="rst-docutils literal">bool</tt>) - Do additional escapings (possibly needed for inlining the script
within a HTML page)?</li>
        <li><strong class="pname"><code>encoding</code></strong> (<tt class="rst-docutils literal">str</tt>) - Encoding in case that toescape is a <tt class="rst-docutils literal">str</tt>. If omitted or
<tt class="rst-docutils literal">None</tt>, no encoding is applied and <code class="link">toescape</code> is expected to be
ASCII compatible.</li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">str</tt></dt>
        <dd>The escaped string (ascii)</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <ul class="rst-simple">
<li><a href="tdi.tools.javascript-module.html#fill" class="link">tdi.tools.javascript.fill</a></li>
<li><a href="tdi.tools.javascript-module.html#fill_attr" class="link">tdi.tools.javascript.fill_attr</a></li>
<li><a href="tdi.tools.javascript-module.html#replace" class="link">tdi.tools.javascript.replace</a></li>
</ul>
      </p>
</div></td></tr></table>
</div>
<a name="multiline_to_html"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">multiline_to_html</span>(<span class="sig-arg">content</span>,
        <span class="sig-arg">encoding</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">ascii</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">tabwidth</span>=<span class="sig-default">8</span>,
        <span class="sig-arg">xhtml</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tdi.tools.escape-pysrc.html#multiline_to_html">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Encode multiline content to HTML, assignable to <tt class="rst-rst-docutils literal rst-docutils literal">node.raw.content</tt>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>content</code></strong> (<tt class="rst-docutils literal">unicode</tt>) - Content to encode</li>
        <li><strong class="pname"><code>encoding</code></strong> (<tt class="rst-docutils literal">str</tt>) - Target encoding</li>
        <li><strong class="pname"><code>tabwidth</code></strong> (<tt class="rst-docutils literal">int</tt>) - Tab width? Used to expand tabs. If <tt class="rst-docutils literal">None</tt>, tabs are not
expanded.</li>
        <li><strong class="pname"><code>xhtml</code></strong> (<tt class="rst-docutils literal">bool</tt>) - XHTML? Only used to determine if &lt;br&gt; or &lt;br /&gt; is emitted.</li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">str</tt></dt>
        <dd>The multilined content</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Variables Details</span></td>
</tr>
</table>
<a name="__package__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">__package__</h3>
  <pre class="literalblock">
hash(x)

</pre>
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
None
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="tdi-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a href="http://opensource.perlig.de/tdi/" target="_top">Visit TDI Online</a></th>
          </tr></table></th>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
