<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is a manual to the Cursgame library. It should get you an idea
how to start.

Copyright (C) 2013 Sven Bartscher.

Licensed under the EUPL, Version 1.1 or - as soon they
will be approved by the European Commission - subsequent
versions of the EUPL (the "Licence");
You may not use this work except in compliance with the
Licence.
You may obtain a copy of the Licence at:
http://ec.europa.eu/idabc/eupl -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Cursgame Manual 0.2.0: AIs</title>

<meta name="description" content="Cursgame Manual 0.2.0: AIs">
<meta name="keywords" content="Cursgame Manual 0.2.0: AIs">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Getting-started.html#Getting-started" rel="up" title="Getting started">
<link href="Module-game.html#Module-game" rel="next" title="Module game">
<link href="Filling-the-game.html#Filling-the-game" rel="prev" title="Filling the game">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="AIs"></a>
<div class="header">
<p>
Previous: <a href="Filling-the-game.html#Filling-the-game" accesskey="p" rel="prev">Filling the game</a>, Up: <a href="Getting-started.html#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="AIs-1"></a>
<h3 class="section">1.3 AIs</h3>
<a name="index-write-AIs"></a>
<a name="index-make-AIs"></a>
<a name="index-how-to-make-an-AI"></a>
<p>This section describes how to use the AI-loop and what it is.  This
section only describes where Cursgame gives you space for AIs. This
chapter does NOT describe how to write good AIs. Cursgame does not
contain an AI.
</p>
<a name="index-action_002dloop-introduction"></a>
<a name="The-action_002dloop"></a>
<h4 class="subsection">1.3.1 The action-loop</h4>
<p>Cursgame contains a so called &ldquo;action-loop&rdquo;. The action-loop is a
list of objects that need to do stuff every frame.  At every
frame/round the game calls the loop method on every Obj in the
action-loop.  It&rsquo;s most often used for giving AI-controlled Objs the
possibility to do stuff.
</p>
<a name="action_002dloop-example"></a>
<h4 class="subsubsection">1.3.1.1 action-loop example</h4>
<p>For using the action-loop we first need an Obj that uses the ai-loop.
What&rsquo;s better for that purpose than an enemy?  (Suggestions please to
the maintainer!)  So let&rsquo;s make an enemy:
</p><div class="example">
<pre class="example">class Enemy(chatacter.Obj):
    def __str__(self):
        return &quot;e&quot;

    def color(self):
        return cursgame.color.RED

    def aloop(self):
        # The following code references the global variable player.
        # Please note that i don't consider this good style.
        # If you write your own Cursgame-based programs i suggest
        # keeping your variables somewhere else.
        px, py = player.pos
        sx, sy = self.pos
        if px &gt; sx:
            x = 1
        elif px &lt; sx:
            x = -1
        else:
            x = 0
        if py &gt; sy:
            y = 1
        elif py &lt; sy:
            y = -1
        else:
            y = 0
        self.move(x, y)
</pre></div>
<p>So this is our whole AI, for this very simple Enemy.  The important
part of the Enemy class is the aloop method.  It&rsquo;s very simple, so i
don&rsquo;t describe it in detail.  It just makes the enemy move one step
towards the player.  Now we need to place our enemy:
</p><div class="example">
<pre class="example">enemy = Enemy()
mp.place(enemy, 20, 20, True)
</pre></div>
<p>So at first this might doesn&rsquo;t look different from placing a wall or
something else, but it is different!  Note the fourth argument to
mp.place!  It says that our enemy should be placed on the
action-loop.  When we used place before we omitted this argument.  It
defaults to False, so if we don&rsquo;t give it Obj.aloop isn&rsquo;t called!
Please note that the player doesn&rsquo;t need to be on the action-loop for
controlling him.  The InputHandler has other ways to do stuff.
</p>
<hr>
<div class="header">
<p>
Previous: <a href="Filling-the-game.html#Filling-the-game" accesskey="p" rel="prev">Filling the game</a>, Up: <a href="Getting-started.html#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
