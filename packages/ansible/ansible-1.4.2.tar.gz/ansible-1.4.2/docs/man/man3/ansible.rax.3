.TH ANSIBLE.RAX 3 "2013-12-18" "1.4.2" "ANSIBLE MODULES"
.\" generated from library/cloud/rax
.SH NAME
rax \- create / delete an instance in Rackspace Public Cloud
.\" ------ DESCRIPTION
.SH DESCRIPTION
.PP
creates / deletes a Rackspace Public Cloud instance and optionally waits for it to be 'running'. 
.\" ------ OPTIONS
.\"
.\"
.SH OPTIONS
   
.IP api_key
Rackspace API key (overrides \fIcredentials\fR)   
.IP count
number of instances to launch (default: yes(Added in Ansible version 1.4.)
   
.IP count_offset
number count to start at (default: yes(Added in Ansible version 1.4.)
   
.IP credentials
File to find the Rackspace credentials in (ignored if \fIapi_key\fR and \fIusername\fR are provided)   
.IP disk_config
Disk partitioning strategy
.IR Choices :
auto,manual. (default: auto)(Added in Ansible version 1.4.)
   
.IP exact_count
Explicitly ensure an exact count of instances, used with state=active/present(Added in Ansible version 1.4.)
   
.IP files
Files to insert into the instance. remotefilename:localcontent   
.IP flavor
flavor to use for the instance   
.IP group
host group to assign to server, is also used for idempotent operations to ensure a specific number of instances(Added in Ansible version 1.4.)
   
.IP image
image to use for the instance. Can be an \fCid\fR, \fChuman_id\fR or \fCname\fR   
.IP instance_ids
list of instance ids, currently only used when state='absent' to remove instances(Added in Ansible version 1.4.)
   
.IP key_name
key pair to use on the instance   
.IP meta
A hash of metadata to associate with the instance   
.IP name
Name to give the instance   
.IP networks
The network to attach to the instances. If specified, you must include ALL networks including the public and private interfaces. Can be \fCid\fR or \fClabel\fR. (default: ['public', 'private'])(Added in Ansible version 1.4.)
   
.IP region
Region to create an instance in (default: DFW)   
.IP state
Indicate desired state of the resource
.IR Choices :
present,absent. (default: present)   
.IP username
Rackspace username (overrides \fIcredentials\fR)   
.IP wait
wait for the instance to be in state 'running' before returning
.IR Choices :
yes,no. (default: no)   
.IP wait_timeout
how long before wait gives up, in seconds (default: 300).\"
.\"
.\" ------ NOTES
.SH NOTES
.PP
The following environment variables can be used, \fCRAX_USERNAME\fR, \fCRAX_API_KEY\fR, \fCRAX_CREDS_FILE\fR, \fCRAX_CREDENTIALS\fR, \fCRAX_REGION\fR. 
.PP
\fCRAX_CREDENTIALS\fR and \fCRAX_CREDS_FILE\fR points to a credentials file appropriate for pyrax. See \fIhttps://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#authenticating\fR 
.PP
\fCRAX_USERNAME\fR and \fCRAX_API_KEY\fR obviate the use of a credentials file 
.PP
\fCRAX_REGION\fR defines a Rackspace Public Cloud region (DFW, ORD, LON, ...) 
.\"
.\"
.\" ------ EXAMPLES
.\" ------ PLAINEXAMPLES
.SH EXAMPLES
.nf
- name: Build a Cloud Server
  gather_facts: False
  tasks:
    - name: Server build request
      local_action:
        module: rax
        credentials: ~/.raxpub
        name: rax-test1
        flavor: 5
        image: b11d9567-e412-4255-96b9-bd63ab23bcfe
        files:
          /root/.ssh/authorized_keys: /home/localuser/.ssh/id_rsa.pub
          /root/test.txt: /home/localuser/test.txt
        wait: yes
        state: present
        networks:
          - private
          - public

.fi

.\" ------- AUTHOR
.SH AUTHOR
Jesse Keating, Matt Martz
.SH SEE ALSO
.IR ansible (1),
.I http://ansible.github.com/modules.html#rax