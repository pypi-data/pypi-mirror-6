<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <title>Ajenti</title>
        <link rel="stylesheet" href="/ajenti:static/resources.css" />
        <link rel="icon" type="image/png" href="/ajenti:static/main/favicon.png" />
        <script src="/ajenti:static/resources.js"></script>
    </head>

    <body class="auth">
        <div id="content-root">
            <div id="ssl-alert">
                <i class="icon-white icon-unlock"></i>
                &nbsp;<b>Insecure communication</b>
                &nbsp;<span>Your credentials will be transmitted in plain text!</span>
            </div>

            <div class="page auth">
                <div class="content content-gradient">
                    <img class="logo" src="/ajenti:static/main/icon.png" />
                    <form action="/ajenti:auth" method="POST">
                        <div class="form-upper">
                            <div class="row">
                                <div class="l control label">Username</div>
                                <div><input class="control textbox" name="username" /></div>
                            </div>
                            <div class="row">
                                <div class="l control label">Password</div>
                                <div><input class="control textbox" type="password" name="password" /></div>
                            </div>
                        </div>
                        <div class="control licensebar">
                            <span id="license-company">Ajenti</span>: <span id="license-type">Personal license</span>
                        </div>
                        <div class="form-lower">
                            <button class="control button style-normal" href="#" id="login">
                                <i class="icon-chevron-right"></i> Log in
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <style>
            #content-root-no-css {
                font-family: sans-serif;
                color: #888;
                text-align: center;
            }

            #content-root-no-css code {
                font-family: monospace;
            }
        </style>

        <script>
            licenseStatus = %(license)s;
            license = licenseStatus.license;
            $($('input')[0]).focus();
            $(function () {
                if (licenseStatus.status) {
                    if (license) {
                        $('#license-type').text({
                            'hosting': 'Hosting license',
                            'hosting-custom': 'Hosting license',
                            'web-hosting': 'Web hosting license',
                            'appliance': 'Appliance license',
                            'appliance-lifetime': 'Appliance license',
                        }[license.type]);
                        $('#license-company').text(license.company);
                        $('.licensebar').css({background: '#6c0'});
                    } else {
                        var status = {
                            'invalid-key': 'Invalid license',
                            'invalid-ip': 'Invalid license',
                            'expired': 'License expired',
                        }[licenseStatus.status];
                        $('#license-type').text(status);
                        $('.licensebar').css({background: '#f00'});
                    }
                } else {
                    $('.licensebar').css({background: '#f90'});
                }
            });
        </script>

        <div id="content-root-no-css">
            <img src="/ajenti:static/main/error.jpeg" />
            <br/>
            <p>
                Your Ajenti instance is missing compiled CSS files.
            </p>
            <p>
                If you are running Ajenti in a development environment, run <code>make run</code>.
            </p>
            <p>
                If not, your installation package was probably broken.
            </p>
        </div>
    </body>
</html>
