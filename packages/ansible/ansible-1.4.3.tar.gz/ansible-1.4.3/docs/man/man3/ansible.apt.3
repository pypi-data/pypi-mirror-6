.TH ANSIBLE.APT 3 "2013-12-20" "1.4.3" "ANSIBLE MODULES"
.\" generated from library/packaging/apt
.SH NAME
apt \- Manages apt-packages
.\" ------ DESCRIPTION
.SH DESCRIPTION
.PP
Manages \fIapt\fR packages (such as for Debian/Ubuntu). 
.\" ------ OPTIONS
.\"
.\"
.SH OPTIONS
   
.IP cache_valid_time
If \fCupdate_cache\fR is specified and the last run is less or equal than \fIcache_valid_time\fR seconds ago, the \fCupdate_cache\fR gets skipped.   
.IP default_release
Corresponds to the \fC-t\fR option for \fIapt\fR and sets pin priorities   
.IP dpkg_options
Add dpkg options to apt command. Defaults to '-o "Dpkg::Options::=--force-confdef" -o "Dpkg::Options::=--force-confold"'Options should be supplied as comma separated list (default: force-confdef,force-confold)   
.IP force
If \fCyes\fR, force installs/removes.
.IR Choices :
yes,no. (default: no)   
.IP install_recommends
Corresponds to the \fC--no-install-recommends\fR option for \fIapt\fR, default behavior works as apt's default behavior, \fCno\fR does not install recommended packages. Suggested packages are never installed.
.IR Choices :
yes,no. (default: yes   
.IP pkg
A package name or package specifier with version, like \fCfoo\fR or \fCfoo=1.0\fR. Shell like wildcards (fnmatch) like apt* are also supported.   
.IP purge
Will force purging of configuration files if the module state is set to \fIabsent\fR.
.IR Choices :
yes,no.   
.IP state
Indicates the desired package state
.IR Choices :
latest,absent,present. (default: present)   
.IP update_cache
Run the equivalent of \fCapt-get update\fR before the operation. Can be run as part of the package installation or as a separate step
.IR Choices :
yes,no.   
.IP upgrade
If yes or safe, performs an aptitude safe-upgrade.If full, performs an aptitude full-upgrade.If dist, performs an apt-get dist-upgrade.Note: This does not upgrade a specific package, use state=latest for that.
.IR Choices :
yes,safe,full,dist. (default: yes)(Added in Ansible version 1.1.)
.\"
.\"
.\" ------ NOTES
.SH NOTES
.PP
Three of the upgrade modes (\fCfull\fR, \fCsafe\fR and its alias \fCyes\fR) require \fCaptitude\fR, otherwise \fCapt-get\fR suffices. 
.\"
.\"
.\" ------ EXAMPLES
.\" ------ PLAINEXAMPLES
.SH EXAMPLES
.nf
# Update repositories cache and install "foo" package
- apt: pkg=foo update_cache=yes

# Remove "foo" package
- apt: pkg=foo state=absent

# Install the package "foo"
- apt: pkg=foo state=present

# Install the version '1.00' of package "foo"
- apt: pkg=foo=1.00 state=present

# Update the repository cache and update package "nginx" to latest version using default release squeeze-backport
- apt: pkg=nginx state=latest default_release=squeeze-backports update_cache=yes

# Install latest version of "openjdk-6-jdk" ignoring "install-recommends"
- apt: pkg=openjdk-6-jdk state=latest install_recommends=no

# Update all packages to the latest version
- apt: upgrade=dist

# Run the equivalent of "apt-get update" as a separate step
- apt: update_cache=yes

# Only run "update_cache=yes" if the last one is more than more than 3600 seconds ago
- apt: update_cache=yes cache_valid_time=3600

# Pass options to dpkg on run
- apt: upgrade=dist update_cache=yes dpkg_options='force-confold,force-confdef'

.fi

.\" ------- AUTHOR
.SH AUTHOR
Matthew Williams
.SH SEE ALSO
.IR ansible (1),
.I http://ansible.github.com/modules.html#apt