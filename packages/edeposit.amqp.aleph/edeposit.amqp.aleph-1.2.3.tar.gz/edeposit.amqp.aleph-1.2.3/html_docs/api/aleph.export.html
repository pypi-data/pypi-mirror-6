<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>aleph.export module</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="../_static/nkp_logo.png" alt="Logo"/><h1 class="heading"><a href="../index.html">
          <span></span></a></h1>
        <h2 class="heading"><span>aleph.export module</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-aleph.export">
<span id="aleph-export-module"></span><h1>aleph.export module<a class="headerlink" href="#module-aleph.export" title="Permalink to this headline">¶</a></h1>
<p>This module is used to put data to Aleph. It is based on custom made webform,
which is currently used to report new books by publishers.</p>
<p>Most important function from this module is <a class="reference internal" href="#aleph.export.exportEPublication" title="aleph.export.exportEPublication"><tt class="xref py py-func docutils literal"><span class="pre">exportEPublication()</span></tt></a>,
which will do everything, that is needed to do, to export
<a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><tt class="xref py py-class docutils literal"><span class="pre">aleph.datastructures.epublication.EPublication</span></tt></a> structure to the Aleph.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This whole module is highly dependent on processes, which are defined as
import processes at the Czech National Library.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you want to use export ability in your library, you should rewrite this
and take care, that you are sending data somewhere, where someone will
process them. Otherwise, you can fill your library&#8217;s database with crap.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Source code of the webform is not available at this moment (it was created
by third party), but it is possible, that it will be in future. This will
highly depend on number of people, which will use this project.</p>
</div>
<dl class="exception">
<dt id="aleph.export.ExportException">
<em class="property">exception </em><tt class="descclassname">aleph.export.</tt><tt class="descname">ExportException</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#ExportException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.ExportException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="aleph.export.ExportRejectedException">
<em class="property">exception </em><tt class="descclassname">aleph.export.</tt><tt class="descname">ExportRejectedException</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#ExportRejectedException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.ExportRejectedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#aleph.export.ExportException" title="aleph.export.ExportException"><tt class="xref py py-class docutils literal"><span class="pre">aleph.export.ExportException</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="aleph.export.InvalidISBNException">
<em class="property">exception </em><tt class="descclassname">aleph.export.</tt><tt class="descname">InvalidISBNException</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#InvalidISBNException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.InvalidISBNException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#aleph.export.ExportException" title="aleph.export.ExportException"><tt class="xref py py-class docutils literal"><span class="pre">aleph.export.ExportException</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="aleph.export.PostData">
<em class="property">class </em><tt class="descclassname">aleph.export.</tt><tt class="descname">PostData</tt><big>(</big><em>epub</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#PostData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.PostData" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used to transform data from
<a class="reference internal" href="aleph.datastructures.epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><tt class="xref py py-class docutils literal"><span class="pre">aleph.datastructures.epublication.EPublication</span></tt></a> to dictionary,
which is sent as POST request to Aleph third-party <a class="reference external" href="http://aleph.nkp.cz/F/?func=file&amp;file_name=service-isbn">webform</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Class is used instead of simple function, because there is 29 POST
parameters with internal dependencies, which need to be processed and
validated before they can be passed to webform.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epub</strong> (<em>EPublication</em>) &#8211;
structure, which will be converted</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="aleph.export.PostData._POST">
<tt class="descname">_POST</tt><em class="property"> dict</em><a class="headerlink" href="#aleph.export.PostData._POST" title="Permalink to this definition">¶</a></dt>
<dd><p>dictionary with parsed data</p>
</dd></dl>

<dl class="attribute">
<dt id="aleph.export.PostData.mapping">
<tt class="descname">mapping</tt><em class="property"> dict</em><a class="headerlink" href="#aleph.export.PostData.mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>dictionary with some of mapping, which are aplied to
<tt class="docutils literal"><span class="pre">_POST</span></tt> dict in postprocessing</p>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Don&#8217;t manipulate <tt class="docutils literal"><span class="pre">_POST</span></tt> property directly, if you didn&#8217;t really know
the&#8217;internal structure and how the <tt class="docutils literal"><span class="pre">mapping</span></tt> is aplied.</p>
</div>
<dl class="method">
<dt id="aleph.export.PostData.get_POST_data">
<tt class="descname">get_POST_data</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#PostData.get_POST_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.PostData.get_POST_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><em>dict</em> &#8211;
POST data, which can be sent to webform using urllib,                   or similar library</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="aleph.export.exportEPublication">
<tt class="descclassname">aleph.export.</tt><tt class="descname">exportEPublication</tt><big>(</big><em>epub</em><big>)</big><a class="reference internal" href="../_modules/aleph/export.html#exportEPublication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.exportEPublication" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <cite>epub</cite> EPublication object to Aleph, where it will be processed by
librarians.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epub</strong> (<em>EPublication</em>) &#8211;
structure for export</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2014 E-deposit team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>