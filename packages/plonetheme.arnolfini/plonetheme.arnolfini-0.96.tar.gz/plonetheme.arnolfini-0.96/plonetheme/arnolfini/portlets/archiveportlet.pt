<dl class="portlet portlet-archiveportlet"
    i18n:domain="plone"
    tal:define="showall python:request.get('showallyears', False)">

    <dt class="portletHeader" tal:condition="nothing">
        <span class="portletTopLeft"></span>
        Years:
        <span class="portletTopRight"></span>
    </dt>
    
    <a class="portletButton visible" href="" tal:attributes="href python:here.restrictedTraverse('archive').absolute_url()">Archive</a>

    <tal:block define="years view/getYears">
        <dd class="portletItem" tal:repeat="year years">
            <ul tal:attributes="class python:view.isCurrentYear(year) and 'currentYear' or ''">
                <li class="yearItem" tal:attributes="class python: view.yearIsDocumented(year) and 'yearItem' or 'yearItem undocYear'">
                    <a href="" tal:attributes="href python: '%s'%year" tal:content="year">2012</a>
                </li>
            </ul>
        </dd>
        <!-- tal:buttons>
            <a class="portletButton" href="archive?showallyears=true" tal:condition="not: showall">Show all</a>
            <a class="portletButton" href="archive" tal:condition="showall">Documented only</a>
        </tal:buttons -->
    </tal:block>
</dl>
