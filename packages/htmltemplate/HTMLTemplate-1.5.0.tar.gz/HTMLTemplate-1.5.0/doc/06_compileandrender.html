<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>HTMLTemplate | 6. Compiling and rendering templates</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<style type="text/css" media="all"><!--@import url(full.css);--></style>

</head>
<body>

<h1>6. Compiling and rendering templates</h1>

<!-- top navigation -->
<div class="navbar">
	<a href="05_objectmodel.html">Previous</a> | <a href="index.html">Up</a> | <a href="07_classes.html">Next</a>
	
</div>

<!-- content -->
<div id="content">


<h2>Controlling template rendering</h2>

<p>Template rendering is controlled by a user-defined function, typically named <code>render_template</code>, that's attached to the <code>Template</code> object as it's created and triggered automatically each time the <code>Template</code> object's <code>render</code> method is called.</p>

<p>When the template's <code>render</code> method is called, the <code>Template</code> object calls its attached <code>render_template</code> function, passing it a copy of itself along with any additional arguments passed via the <code>render</code> call. This allows the renderTemplate function to manipulate this object model - inserting the user-supplied data into nodes as tag attributes and content, omitting unwanted sections, even rearranging the object model itself(!). Once the <code>render_template</code> function returns, the now-modified object model is rendered to text and returned.</p>

<p>It's also possible to manipulate the template object model directly, prior to calling its <code>render</code> method. This can be useful if you have some data you want to appear in every rendered page but don't wish to re-render it each time for efficiency's sake.</p>


<h2>Compiling a template</h2>

<p>A single <code>Template</code> object can be used to render any number of pages.</p>

<p>To compile a template, create a new instance of HTMLTemplate's <code>Template</code> class with the main callback function and the HTML text as arguments:</p>

<pre><code>template = HTMLTemplate.Template(render_template, html)</code></pre>

<p>Two optional arguments may also be provided:</p>

<dl>
<dt>node</dt>
<dd>The name of the tag attributes used to hold compiler directives. The default is <code>node</code>, but may be changed to any other valid attribute name; e.g. <code>id</code>, <code>obj</code>, <code>foo:bar</code>. This can be useful if, for example, you have to edit or process your templates in an application that automatically rejects all non-valid HTML attribute names.</dd>

<dt>codecs</dt>
<dd>Allows the default HTML entity encoding/decoding functions to be replaced. These functions are applied when getting or setting the value of a <code>Container</code> or <code>Repeater</code> node's content property. By default, only the four markup characters, <code>&lt;&gt;&amp;&quot;</code> are converted. This minimal level of conversion is provided for security's sake, but you may want to replace these functions with your own if you need also to escape non-ASCII or other characters as standard.</dd>
</dl>


</div>

<!-- bottom navigation -->
<div class="navbar">
	<a href="05_objectmodel.html">Previous</a> | <a href="index.html">Up</a> | <a href="07_classes.html">Next</a>
	
</div>

<!--footer-->
<p class="footer">&copy; 2008 HAS</p>
</body>
</html>