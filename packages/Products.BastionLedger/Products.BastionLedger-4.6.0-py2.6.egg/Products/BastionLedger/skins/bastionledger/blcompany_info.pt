<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="bastionledger">

   <metal:border fill-slot="top_slot">
    <tal:border define="dummy python:request.set('enable_border',1)" />
  </metal:border>

<body>
  <div metal:fill-slot="main"
       tal:define="utool context/@@plone_portal_state/portal_url">
      <h1 class="documentFirstHeading"><img src="" alt="" 
               tal:define="icon python:context.getIcon(1)" 
               tal:attributes="src string:${utool}/${icon}">&nbsp;<span tal:replace="context/Title | context/getId"/></h1>


      <div class="documentDescription" tal:content="context/description | nothing"/>

      <div class="label">Company Name</div>
      <div class="field" tal:content="context/title | nothing"/>

      <div class="label">Registered Office</div>
      <div class="field" tal:content="context/address"/>

      <div class="label">Incorporation Date</div>
      <div class="field" tal:content="python: context.toLocalizedTime(context.incorporation_date)"/>

      <div class="label">Company Number</div>
      <div class="field" tal:content="context/company_number"/>

      <div class="label">Tax Number</div>
      <div class="field" tal:content="context/tax_number"/>

      <div class="label">Directors</div>
      <div class="field">
           <ul style="list-style: none;">
              <li tal:repeat="director context/directorInfo">
                   <tal:member tal:define="member director/member" tal:condition="member">
                         <img src="" tal:attributes="src string:${utool}/user.gif" alt="Member">
                         &nbsp;
                         <a href="" id="user-name" tal:attributes="href string:${utool}/prefs_user_details?userid=${member/id}"
                                    tal:content="python: member.getProperty('fullname', member.getId())"/>
                   </tal:member>
                   <span tal:condition="not: director/member" tal:replace="director/id"/>
              </li>
           </ul>
      </div>

      <tal:secretary define="secretary context/secretaryInfo" tal:condition="secretary">
         <div class="label">Secretary</div>
         <div class="field">
           <ul style="list-style: none;">
              <li tal:repeat="director secretary">
                   <tal:member tal:define="member director/member" tal:condition="member">
                         <img src="" tal:attributes="src string:${utool}/user.gif" alt="Member">
                         &nbsp;
                         <a href="" id="user-name" tal:attributes="href string:${utool}/prefs_user_details?userid=${member/id}"
                                    tal:content="python: member.getProperty('fullname', director['id'])"/>
                   </tal:member>
                   <span tal:condition="not: director/member" tal:replace="director/id"/>
              </li>
           </ul>
         </div>
      </tal:secretary>

      <div tal:replace="structure provider:plone.belowcontentbody">
           Document actions (print, sendto etc)
      </div>

  </div>
 
</body>
</html>
