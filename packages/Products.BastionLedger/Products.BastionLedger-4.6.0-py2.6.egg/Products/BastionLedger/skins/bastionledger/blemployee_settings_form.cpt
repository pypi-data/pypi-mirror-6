<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="bastionledger">
 
<body>
 
    <div metal:fill-slot="main"
         tal:define="errors options/state/getErrors;
                     member context/@@plone_portal_state/member;
                     editor python:member.getProperty('wysiwyg_editor',None);
                     wysiwyg python:editor and editor!=None and 'editor' or 'None';
                     utool context/@@plone_portal_state/portal_url;
                     lockable python:hasattr(context, 'wl_isLocked');
                     isLocked python:lockable and context.wl_isLocked();">


      <h1><img src="" alt="" tal:define="icon python:context.getIcon(1)" 
               tal:attributes="src string:${utool}/${icon}">&nbsp;<span tal:replace="context/prettyTitle"/></h1>

      <form name="edit_form"  action="."  method="post"  enctype="multipart/form-data"
            tal:attributes="action string:${context/getId}/${template/getId}" >

        <fieldset>

          <legend i18n:translate="legend_document_details">Account Parameters</legend>

          <div class="field"
               tal:define="error errors/department|nothing;
                           Department request/department | context/department;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label for="department" i18n:translate="label_department">Department</label>

            <span class="fieldRequired" title="Required"
                  i18n:attributes="department"
                  i18n:translate="label_required">(Required)</span>

            <div tal:content="error">Validation error output</div>

            <input type="text" id="department" name="department" value="" size="40"
                    tal:attributes="value Department;"/>

          </div>


          <div class="field"
               tal:define="error errors/start_day|nothing;
                           Start_Day request/start_day | context/start_day;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label>Start_Day</label>

            <span class="fieldRequired" title="Required"
                  i18n:attributes="number"
                  i18n:translate="label_required">(Required)</span>

            <div tal:content="error">Validation error output</div>

            <input type="text" id="start_day" name="start_day" value="" size="12"
                    tal:attributes="value Start_Day;"/>

          </div>

          <div class="field"
               tal:define="error errors/salary|nothing;
                           Salary request/salary | context/salary;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label for="salary" i18n:translate="label_salary">Salary</label>

            <span class="fieldRequired" title="Required"
                  i18n:attributes="salary"
                  i18n:translate="label_required">(Required)</span>

            <div tal:content="error">Validation error output</div>
            <input type="text" id="salary" align="right" name="salary:currency" value="" size="15"
                    tal:attributes="value Salary;"/>

           </div>

          <div class="field"
               tal:define="error errors/hourly_rate|nothing;
                           Hourly_Rate request/hourly_rate | context/hourly_rate;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label for="hourly_rate" i18n:translate="label_hourly_rate">Hourly Rate</label>

            <span class="fieldRequired" title="Required"
                  i18n:attributes="hourly_rate"
                  i18n:translate="label_required">(Required)</span>

            <div tal:content="error">Validation error output</div>

            <input type="text" align="right" name="hourly_rate" value="" size="15"
                         tal:attributes="value Hourly_Rate"/>
           </div>

          <div class="field"
               tal:define="error errors/basis|nothing;
                           Basis request/basis | context/basis;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label for="basis" i18n:translate="label_basis">Basis</label>

            <div tal:content="error">Validation error output</div>

            <div class="formHelp" i18n:translate="help_shortname">
                  Basis for calculation of payments
            </div>
            <select name="basis">
                 <option tal:repeat="basis context/Basis"
                         tal:content="basis"
                         tal:attributes="selected python: Basis == basis"/>
            </select>
           </div>

          <div class="field"
               tal:define="error errors/tax_code|nothing;
                           Tax_Code request/tax_code | context/tax_code;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label for="tax_code" i18n:translate="label_tax_code">Tax Code</label>

            <div tal:content="error">Validation error output</div>

            <div class="formHelp" i18n:translate="help_shortname">
                   The code your taxation authority associates with this type of employee.
            </div>
            <input type="text" name="tax_code" value="" size="3"
                         tal:attributes="value Tax_Code"/>

           </div>

          <div class="field"
               tal:define="error errors/accrued_leave|nothing;
                           Accrued_Leave request/accrued_leave | context/accrued_leave;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label for="accrued_leave" i18n:translate="label_accrued_leave">Accrued Leave</label>

            <div tal:content="error">Validation error output</div>

            <div class="formHelp" i18n:translate="help_shortname">
                   Number of holiday days outstanding for this employee
            </div>
            <input type="text" name="accrued_leave:float" value="" size="3"
                         tal:attributes="value Accrued_Leave"/>

           </div>

          <div class="field"
               tal:define="error errors/sick_days|nothing;
                           Sick_Days request/sick_days | context/sick_days;"
               tal:attributes="class python:error and 'field error' or 'field'">

            <label for="sick_days" i18n:translate="label_sick_days">Sick Days Owed</label>

            <div tal:content="error">Validation error output</div>

            <div class="formHelp" i18n:translate="help_shortname">
                   Number of sickness days available for this employee
            </div>

            <input type="text" name="sick_days:float" value="" size="3"
                         tal:attributes="value Sick_Days"/>

           </div>
          <div class="formControls"
               tal:define="process_creation request/process_creation|nothing;">

            <img src="" class="context"
                   tal:define="portal context/portal_url/getPortalObject; locked portal/lock_icon.png;"
                   tal:condition="isLocked"
                   tal:replace="structure python:locked.tag(title='This item is locked')"
                   alt="Object locked"
                   i18n:attributes="alt"/>

            <input class="context"
                   
                   type="submit"
                   name="form.button.Edit"
                   value="Edit"
                   i18n:attributes="value"
                   tal:attributes="disabled python:isLocked and 'disabled' or None;" />

          </div>
        </fieldset>

        <input type="hidden" name="form.submitted" value="1" />

      </form>

      <!--div tal:replace="structure provider:plone.belowcontenttitle">
        Get the byline - contains details about author and modification date.
      </div-->

    </div>
 
</body>
</html>
