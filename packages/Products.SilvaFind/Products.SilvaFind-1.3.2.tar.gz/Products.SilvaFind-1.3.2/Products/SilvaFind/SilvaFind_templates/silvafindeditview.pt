<html tal:omit-tag=""
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="silva">

  <form name="silva_find_edit" action="#" method="post"
        tal:attributes="action request/URL">
    <table class="listing">
      <thead>
        <tr>
          <td class="top" colspan="4">
            <h2>
              <img tal:replace="structure python:context.render_icon(context)" />
              <tal:block i18n:translate="">silva find
                &#xab;<tal:block tal:content="view/title"
                                 i18n:name="title_or_id"/>&#xbb;</tal:block>
            </h2>
          </td>
        </tr>
        <tr class="top-controls">
          <td colspan="4">
            <h3 i18n:translate="">search content for
              &#xab;<tal:block tal:content="view/title"
                               i18n:name="title_or_id"/>&#xbb;
            </h3>
          </td>
        </tr>
        <tr>
          <th width="2%"></th>
          <th class="align-right"
              width="12%"
              i18n:translate="">
            element
          </th>
          <th i18n:translate="">
            content
          </th>
          <th width="25%"
              i18n:translate="">
            note
          </th>
        </tr>
      </thead>
      <tbody>
        <tal:block tal:repeat="field view/widgets">
          <tr tal:define="iterate repeat/field/odd"
              tal:attributes="class python:iterate and 'odd' or 'even'">
            <td class="align-center">
              <input type="checkbox"
                     tal:condition="field/canBeShown"
                     tal:attributes="name string:show_${field/getName}:bool;
                                     checked python:context.isCriterionShown(field.getName());" />
            </td>
            <td class="align-right">
              <label tal:content="field/getTitle">
                a search object
              </label>
            </td>
            <td tal:content="structure field/renderEditWidget">
              a search object
            </td>
            <td tal:content="structure field/getDescription">
              element description
            </td>
          </tr>
        </tal:block>
        <tr class="controls">
          <td class="align-right" colspan="4">
            <input type="submit" value="save" name="silvafind_save"
                   class="button" accesskey="s" title="access key: alt-s"
                   i18n:attributes="value; title" />
          </td>
        </tr>
        <tr>
          <td class="divider" colspan="4" style="background-color:#c5d4ca;">
          </td>
        </tr>
        <tr class="top-controls">
          <td colspan="4">
            <h3 i18n:translate="">search results for
              &#xab;<tal:block tal:content="view/title"
                               i18n:name="title_or_id"/>&#xbb;
            </h3>
          </td>
        </tr>
        <tr>
          <th i18n:translate="" width="2%"></th>
          <th class="align-right"
              width="12%"
              i18n:translate="">
            element
          </th>
          <th i18n:translate="">
            metadata set and field id
          </th>
          <th width="25%"
              i18n:translate="">
            note
          </th>
        </tr>
        <tal:block tal:repeat="result context/getResultFields">
          <tr tal:define="iterate repeat/result/odd;
                          name result/getName"
              tal:attributes="class python:iterate and 'odd' or 'even'">
            <td>
              <input type="checkbox"
                     tal:attributes="name string:show_result_${name}:bool;
                                     checked python:context.isResultShown(name);
                                     id string:show_result_${name};" />
            </td>
            <td class="align-right">
              <label tal:content="result/getTitle"
                     tal:attributes="for string:show_result_${name}">
                a search object
              </label>
            </td>
            <td tal:content="result/getId">
              a search object
            </td>
            <td tal:content="structure result/getDescription">
              element description
            </td>
          </tr>
        </tal:block>
      </tbody>

      <tfoot>
        <!--
        <tr>
          <th colspan="4" tal:define="select_id string:show_result_">
            <metal:plug use-macro="here/macro_select_all/macros/select_all"/>
            &nbsp;Show the content of the checked fields in the search results.
          </th>
        </tr>
        -->
        <tr class="controls">
          <td class="align-right" colspan="4">
            <input type="submit" value="save" name="silvafind_save"
                   class="button" title="access key: alt-s"
                   i18n:attributes="value; title" />
          </td>
        </tr>
      </tfoot>
    </table>
  </form>

</html>
