


Template base
    # all useful attributes that will be inherited later


    output dir ./
    output format png
    output mask _%(width)ix%(height)i
    
    size 400x100
    


Template disk-usage
    # template for collectd-generated stats for plugin df
    
    use base
    
    input name used         file df_complex-used.rrd        ds value cf AVERAGE
    input name reserved     file df_complex-reserved.rrd    ds value cf AVERAGE
    input name free         file df_complex-free.rrd        ds value cf AVERAGE
    
    output prefix disk-usage
    option lower-limit 0
    
    area use used color ff0000                      text "Used disk space        "
    gprint get AVERAGE with used,1024,/,1024,/      text "%8.2lf MB\n"
    area use reserved color ffff00                  text "Reserved disk space    " stack
    gprint get AVERAGE with reserved,1024,/,1024,/  text "%8.2lf MB\n"
    area use free color 00ff00                      text "Free space             " stack
    gprint get AVERAGE with free,1024,/,1024,/      text "%8.2lf MB\n"


    
Template disk-load
    use base
    
    input name=rx   file=disk_octets.rrd ds=read  cf=AVERAGE
    input name=wx   file=disk_octets.rrd ds=write cf=AVERAGE
    
    output prefix=disk-load
    
    comment text "                  Min         Max         Avg\n"
    area use rx color 00ff0050 text "Read bytes"
    line1 use rx color 00ff00
    gprint with rx,1024,/ get MINIMUM text "    %6.2lf"
    gprint with rx,1024,/ get MAXIMUM text "    %6.2lf"
    gprint with rx,1024,/ get AVERAGE text "    %6.2lf"
    comment text "[KB/s]\n"
    area with wx,-1,* color 0000ff50 text "Write bytes"
    line1 with wx,-1,* color 0000ff
    gprint with wx,1024,/ get MINIMUM text "    %6.2lf"
    gprint with wx,1024,/ get MAXIMUM text "    %6.2lf"
    gprint with wx,1024,/ get AVERAGE text "    %6.2lf"
    comment text "[KB/s]\n"
    
    

Template bandwidth
    # interface bandwidth usage
    use base
    
    input name rx file if_octets.rrd ds rx cf AVERAGE
    input name tx file if_octets.rrd ds tx cf AVERAGE
    
    output prefix bandwidth

    comment text "                  Min       Max       Avg\n"
    area use rx color 00ff0050 text "RX octets"
    line1 use rx color 00ff00
    gprint with rx,1024,/ get MINIMUM text "    %4.0lf"
    gprint with rx,1024,/ get MAXIMUM text "    %4.0lf"
    gprint with rx,1024,/ get AVERAGE text "    %4.0lf"
    comment text "[KB/s]\n"
    area with tx,-1,* color 0000ff50 text "TX octets"
    line1 with tx,-1,* color 0000ff
    gprint with tx,1024,/ get MINIMUM text "    %4.0lf"
    gprint with tx,1024,/ get MAXIMUM text "    %4.0lf"
    gprint with tx,1024,/ get AVERAGE text "    %4.0lf"
    comment text "[KB/s]\n"


Template ping
    use base
    
    input name rtt  ds value cf AVERAGE
    input name lost ds value cf AVERAGE
    output prefix ping
    
    comment text "                   Min         Max         Avg\n"
    line1 use rtt color 0000ff text "Ping RTT"
    gprint use rtt get MINIMUM text "    %6.0lf"
    gprint use rtt get MAXIMUM text "    %6.0lf"
    gprint use rtt get AVERAGE text "    %6.0lf"
    comment text " [ms]\n"
    
    line1 use lost color ff0000 text "Ping LOST"
    gprint use lost get MINIMUM text "   %6.0lf"
    gprint use lost get MAXIMUM text "    %6.0lf"
    gprint use lost get AVERAGE text "    %6.0lf"
    comment text " [packets]\n"
    
    
Template memory
    use base
    
    input name=free file=memory-free.rrd ds=value cf=AVERAGE
    input name=cached file=memory-cached.rrd ds=value cf=AVERAGE
    input name=used file=memory-used.rrd ds=value cf=AVERAGE
    
    output prefix=memory

    
    comment text "              Min         Max         Avg\n"    
    
    area use=used color=ff0000 text="Used   "
    gprint  with=used,1024,/,1024,/ get MINIMUM text "%8.1lf"
    gprint  with=used,1024,/,1024,/ get MAXIMUM text "  %8.1lf"
    gprint  with=used,1024,/,1024,/ get AVERAGE text "  %8.1lf"
    comment text "   [MB]\n"
    
    area use=cached color=ffff00 stack text="Cached "
    gprint  with=cached,1024,/,1024,/ get MINIMUM text "%8.1lf"
    gprint  with=cached,1024,/,1024,/ get MAXIMUM text "  %8.1lf"
    gprint  with=cached,1024,/,1024,/ get AVERAGE text "  %8.1lf"
    comment text "   [MB]\n"

    area use=free color=00ff00 stack text="Free   "
    gprint  with=free,1024,/,1024,/ get MINIMUM text "%8.1lf"
    gprint  with=free,1024,/,1024,/ get MAXIMUM text "  %8.1lf"
    gprint  with=free,1024,/,1024,/ get AVERAGE text "  %8.1lf"
    comment text "   [MB]\n"
    
    


Template load
    use base
    
    input name=shortterm file=load.rrd ds=shortterm cf=AVERAGE
    input name=midterm file=load.rrd ds=midterm cf=AVERAGE
    input name=longterm file=load.rrd ds=longterm cf=AVERAGE
    
    output prefix=load
    
    comment text "              Min       Max       Avg\n"
    
    line    use=shortterm color=ff000040 text=" 1 min    "
    gprint  use=shortterm get MINIMUM text "%6.4lf"
    gprint  use=shortterm get MAXIMUM text "  %6.4lf"
    gprint  use=shortterm get AVERAGE text "  %6.4lf"
    comment text "\n"

    line use=midterm   color=00ff0090 text=" 5 min    "
    gprint  use=midterm get MINIMUM text "%6.4lf"
    gprint  use=midterm get MAXIMUM text "  %6.4lf"
    gprint  use=midterm get AVERAGE text "  %6.4lf"
    comment text "\n"

    line use=longterm  color=0000ffff text="15 min    "
    gprint  use=longterm get MINIMUM text "%6.4lf"
    gprint  use=longterm get MAXIMUM text "  %6.4lf"
    gprint  use=longterm get AVERAGE text "  %6.4lf"
    comment text "\n"
    
    
Template cpu
    use base
    
    input name=system file=cpu-system.rrd ds=value cf=AVERAGE
    input name=user   file=cpu-user.rrd   ds=value cf=AVERAGE
    input name=nice   file=cpu-nice.rrd   ds=value cf=AVERAGE
    input name=idle   file=cpu-idle.rrd   ds=value cf=AVERAGE
    
    output prefix=cpu
    
    area use=system color=ff000050       text="system"
    area use=user   color=ffff0050 stack text="user  "
    area use=nice   color=00ff0050 stack text="nice  "
    area use=idle   color=eeeeee50 stack text="idle  "
    
    line use=system color=ff0000
    line use=user   color=ffff00 stack
    line use=nice   color=00ff00 stack
    line use=idle   color=cccccc stack
    

Template processes
    use base
    
    input name=processes    file=ps_state-running.rrd   ds=value  cf=AVERAGE
    input name=sleeping     file=ps_state-sleeping.rrd  ds=value  cf=AVERAGE
    
    output prefix=processes
    
    comment text "                            Min      Max      Avg\n"
    
    line    use=processes color=ff0000  text="Running processes    "
    gprint  use=processes get MINIMUM   text "%4.0lf"
    gprint  use=processes get MAXIMUM   text "   %4.0lf"
    gprint  use=processes get AVERAGE   text "   %4.0lf"
    comment text "\n"
    
    line    use=sleeping  color=dddddd text="Sleeping processes    "
    gprint  use=sleeping  get MINIMUM text " %4.0lf"
    gprint  use=sleeping  get MAXIMUM text "   %4.0lf"
    gprint  use=sleeping  get AVERAGE text "   %4.0lf"
    comment text "\n"

    
Template temperature
    use base
    
    input name=temperature file=temperature-temp1.rrd ds=value cf=AVERAGE
    
    output prefix=temperature
    
    line use=temperature color=ff0000
