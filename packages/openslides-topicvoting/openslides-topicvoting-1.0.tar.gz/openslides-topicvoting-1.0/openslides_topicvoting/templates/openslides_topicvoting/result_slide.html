{% extends 'base-projector.html' %}

{% load i18n %}
{% load tags %}

{% block title %}{% trans 'Topicvoting' %} – {% trans 'Results' %} – {{ block.super }}{% endblock %}

{% block content %}
    <h1>{% trans 'Results' %}</h1>
{% endblock %}

{% block scrollcontent %}
<table>
    <tr>
        <th>{% trans 'Divisor' %}</th>
        {% for divisor in divisors %}
            <th>{{ divisor }}</th>
        {% endfor %}
    </tr>
    {% for row in result_table %}
        {% if row.0.hoechstzahl %}
        <tr>
            <td>
                {{ row.0.hoechstzahl.topic.category }}
                ({{ row.0.hoechstzahl.topic.category.get_votes_string }})
            </td>
            {% for entry in row %}
                <td{% if entry.winner %} style="font-weight:bold"{% endif %}>
                    {{ entry.hoechstzahl.topic.get_title_with_votes }}<br />{{ entry.hoechstzahl.value|floatformat:2 }}
                </td>
            {% endfor %}
        </tr>
        {% endif %}
    {% endfor %}
</table>
{% if topic_post_warning %}
    <p><strong>{% trans 'Attention: There are less topics than posts.' %}</strong></p>
{% endif %}
{% if runoff_poll_warning %}
    <p><strong>{% trans 'Attention: There is a runoff poll necessary.' %}</strong></p>
{% endif %}
{% endblock %}
