<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title>My Newspaper</title>
<meta name="author" content="Iñigo Serna, inigoserna AT gmail DOT com" />
<meta content="MyNewspaper is a web-based personal RSS/ATOM news aggregator and feeds reader written in Python 3" name="description" />
<meta content="MyNewspaper, RSS, ATOM, feeds, aggregator, python" name="keywords" />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:date: $Date: 2003/06/28 22:18:49 $
:version: $Revision: 1.2 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/

@import url("http://fonts.googleapis.com/css?family=Droid+Sans|Open+Sans");

body {
  background-color: #eeeeee;
  font-family: 'Open Sans', 'Droid Sans', Arial, sans-serif;
  font-size: 15px;
}

em {
  font-family: Times New Roman, Times, serif;
}

a {
  color: #003399;
  text-decoration: none }

a:hover {
  color: #339900;
  text-decoration: underline }

a.toc-backref {
  text-decoration: none ;
  color: black }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning {
  /* margin: 2em ; */
  background-color: #dddddd;
  align: center;
  width: 20%;
  border: medium outset ;
  padding: 1em;
  float: right;
 }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif;
  text-align: center;
  display: block;
  /* background-color: #999999; */
  margin: 0; }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif;
  text-align: center;
  display: block;
  /* background-color: #999999; */
  margin: 0; }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em }

div.footer, div.header {
  font-size: smaller }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1, h2, h3, h4, h5, h6 {
  font-family: Helvetica, Arial, sans-serif;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 10px;
  padding-right: 10px;
  color: #000000;
 }

h1 {
  background-color: #6699dd;
  border: thin solid black;
}

h2 {
  background-color: #777777;
  border-top: 2px solid #444444;
  border-bottom: 2px solid #444444;
}

h3 {
  background-color: #aaaaaa;
  border-top: 2px solid #777777;
  border-bottom: 2px solid #777777;
}

h4, h5, h6 {
  background-color: #cccccc;
  border-top: 1px solid #999999;
  border-bottom: 1px solid #999999;
}

h1.title {
  text-align: center;
  background-color: #000000;
  color: #ffffff;
  padding: 10px;
 }

h2.subtitle {
  text-align: center }

hr {
  width: 75% }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.first {
  margin-top: 0 }

p.label {
  white-space: nowrap }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 80% }

pre.line-block {
  font-family: serif ;
  font-size: 80% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #ffffff;
  border: thin black solid;
  padding: 5px;
  font-size: 80% }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  border-collapse: collapse;
  margin-top: 0.5em ;
  margin-bottom: 0.5em;
  border-style: none }

table.citation {
  border-left: solid thin gray ;
  padding-left: 0.5em }

table.docinfo {
  margin: 2em 4em }

table.footnote {
  border-left: solid thin black ;
  padding-left: 0.5em }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top;
  border-style: none ;
  border-bottom: solid thin #eee }

td > p:first-child, th > p:first-child {
  margin-top: 0em }

th.docinfo-name, th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

tt {
  font-size: 80%;
  background-color: #dddddd;
  color: #333333 }

ul.auto-toc {
  list-style-type: none }

// Highlighting:

.function {color: #000077; font-weight: bold}
.keyword {color: #004444;}
.comment {color: #770000; font-style: italic}
.normal {color: #000000;}
.string {color: #006600;}
.symbol {color: #000000;}

.htmltag {color: #000077;}
.htmlsymbol {color: #000000;}
.htmlnormal {color: #000000;}
.htmlcomment {color: #770000; font-style: italic}
.htmlstring {color: #006600;}
.htmlattr {color: #000000;}

.stmlfunction {color: #000077; font-weight: bold}
.stmlattr {color: #000000;}
.stmlstring {color: #006600;}
.stmlexpr {color: #004444;}
</style>
</head>
<body>
<div class="document" id="my-newspaper">
<h1 class="title">My Newspaper</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Iñigo Serna, inigoserna AT gmail DOT com</td></tr>
<tr><th class="docinfo-name">Version:</th>
<td>4.0, April 13th. 2014</td></tr>
<tr class="field"><th class="docinfo-name">Home page:</th><td class="field-body"><a class="reference external" href="http://inigo.katxi.org/devel/mynewspaper/">http://inigo.katxi.org/devel/mynewspaper/</a></td>
</tr>
<tr class="field"><th class="docinfo-name">License:</th><td class="field-body"><div class="first last line-block">
<div class="line">Copyright © 2005-14, Iñigo Serna</div>
<div class="line">This software has been released under the <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero GPL License</a> version 3
or later, see the <a class="reference external" href="COPYING">COPYING</a> file that comes with this package.</div>
<div class="line">There is NO WARRANTY.</div>
</div>
</td>
</tr>
<tr class="field"><th class="docinfo-name">Last update:</th><td class="field-body">Sun Apr 13 13:18:26 2014</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id4">Introduction</a><ul>
<li><a class="reference internal" href="#a-bit-of-history" id="id5">A bit of history</a></li>
<li><a class="reference internal" href="#technically" id="id6">Technically…</a></li>
<li><a class="reference internal" href="#dependencies" id="id7">Dependencies</a></li>
<li><a class="reference internal" href="#license" id="id8">License</a></li>
<li><a class="reference internal" href="#contact" id="id9">Contact</a></li>
</ul>
</li>
<li><a class="reference internal" href="#download-and-installation" id="id10">Download and Installation</a><ul>
<li><a class="reference internal" href="#easy-way-uncompress-run" id="id11">Easy way: uncompress &amp; run</a></li>
<li><a class="reference internal" href="#production-guru-s-way" id="id12">Production: guru's way</a><ul>
<li><a class="reference internal" href="#run-behind-a-web-server" id="id13">Run behind a web server</a></li>
<li><a class="reference internal" href="#automatic-updates-with-cron" id="id14">Automatic updates with cron</a></li>
<li><a class="reference internal" href="#running-as-a-system-service" id="id15">Running as a system service</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#using-mynewspaper" id="id16">Using MyNewspaper</a><ul>
<li><a class="reference internal" href="#first-steps" id="id17">First steps</a><ul>
<li><a class="reference internal" href="#initial-wizard" id="id18">Initial wizard</a></li>
<li><a class="reference internal" href="#main-screen" id="id19">Main screen</a></li>
</ul>
</li>
<li><a class="reference internal" href="#user-interface" id="id20">User Interface</a><ul>
<li><a class="reference internal" href="#the-header" id="id21">The Header</a></li>
<li><a class="reference internal" href="#the-sidebar" id="id22">The Sidebar</a></li>
<li><a class="reference internal" href="#the-body" id="id23">The Body</a><ul>
<li><a class="reference internal" href="#home-view" id="id24">Home view</a></li>
<li><a class="reference internal" href="#folders-view" id="id25">Folders view</a></li>
<li><a class="reference internal" href="#group-view" id="id26">Group view</a></li>
<li><a class="reference internal" href="#feed-view" id="id27">Feed view</a></li>
<li><a class="reference internal" href="#articles-view" id="id28">Articles view</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#keyboard-navigation" id="id29">Keyboard navigation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mynewspaper-mobile" id="id30">MyNewspaper Mobile</a><ul>
<li><a class="reference internal" href="#summary" id="id31">Summary</a></li>
<li><a class="reference internal" href="#articles-list" id="id32">Articles list</a></li>
<li><a class="reference internal" href="#article-contents" id="id33">Article contents</a></li>
</ul>
</li>
<li><a class="reference internal" href="#faq" id="id34">FAQ</a></li>
<li><a class="reference internal" href="#changelog-todo" id="id35">ChangeLog &amp; TODO</a><ul>
<li><a class="reference internal" href="#releases" id="id36">Releases</a></li>
<li><a class="reference internal" href="#todo" id="id37">TODO</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id4">Introduction</a></h1>
<p>This is the documentation for <em>MyNewspaper</em>, a web-based personal RSS/ATOM
news aggregator and feeds reader written in Python 3.</p>
<p>It incorporates its own web server and store all the information in a database;
but don't be afraid, it's very easy to install and use, and powerful enough for most users.</p>
<p>Can be completely controlled with the keyboard.
It even has an adapted web interface for mobile devices.</p>
<p>Code and development is publically available in the <a class="reference external" href="https://bitbucket.org/inigoserna/mynewspaper4">BitBucket repository</a>.</p>
<p>Want to know how it looks like?</p>
<table border="1" class="docutils">
<caption><strong>Web interface on Firefox 28 on Fedora Linux 20</strong></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><img alt="ss1.jpeg" class="first last" src="ss1.jpeg" />
</td>
<td><img alt="ss2.jpeg" class="first last" src="ss2.jpeg" />
</td>
</tr>
<tr><td><em>Home</em></td>
<td><em>Folders</em></td>
</tr>
<tr><td><img alt="ss3.jpeg" class="first last" src="ss3.jpeg" />
</td>
<td><img alt="ss4.jpeg" class="first last" src="ss4.jpeg" />
</td>
</tr>
<tr><td><em>Reading articles 1</em></td>
<td><em>Reading articles 2</em></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<caption><strong>Mobile web interface on an Android smartphone with Firefox 28</strong></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr><td><img alt="ss5.jpeg" class="first last" src="ss5.jpeg" />
</td>
<td><img alt="ss6.jpeg" class="first last" src="ss6.jpeg" />
</td>
<td><img alt="ss7.jpeg" class="first last" src="ss7.jpeg" />
</td>
</tr>
<tr><td><em>Summary</em></td>
<td><em>List of articles</em></td>
<td><em>Reading an article</em></td>
</tr>
</tbody>
</table>
<div class="section" id="a-bit-of-history">
<h2><a class="toc-backref" href="#id5">A bit of history</a></h2>
<p><em>MyNewspaper</em> can be considered an old project, as first version dates from 2005,
and since then it has adopted and adapted different web paradigms: CGI running
on a web server in v1.0, pure web app in v2.0, javascript and AJAX for v3.0.</p>
<p>A couple of years after v3.0 release I abandoned it to join Google Reader wave,
but since the announce of its shutdown I turned to <em>MyNewspaper</em> as I didn't like
any of the alternatives. Thus I rewrote from scratch all the code. It was fast,
I had a working version in a month, many weeks before Google Reader closed,
but then it took about 10 months more to write the documentation…</p>
<p>Anyway, this is now version 4.0, a very fast and nice web-based feeds reader
for personal use.</p>
</div>
<div class="section" id="technically">
<h2><a class="toc-backref" href="#id6">Technically…</a></h2>
<p><em>MyNewspaper</em> is a web application and, as such, it has backend and frontend code.</p>
<p>Backend is written in <a class="reference external" href="http://www.python.org">Python</a> and based upon <a class="reference external" href="http://bottlepy.org">BottlePy</a> web microframework,
and frontend use HTML and JavaScript with the help of <a class="reference external" href="http://jquery.com">jQuery</a> library.</p>
<p>Permanent storage is saved in a <a class="reference external" href="http://sqlite.org">SQLite</a> DB, without any abstraction modules or
ORMs to speed up DB interaction.</p>
<p>It uses <a class="reference external" href="https://pypi.python.org/pypi/feedparser">Mark Pilgrim's Universal FeedParser</a> module to download and
handle feeds in RSS, Atom and other popular formats.</p>
<p>All the needed modules are already included within the package.
More information can be found in the <a class="reference internal" href="#dependencies">Dependencies</a> section.</p>
</div>
<div class="section" id="dependencies">
<h2><a class="toc-backref" href="#id7">Dependencies</a></h2>
<p>All the required dependencies are already packed within <em>MyNewspaper</em> so you
don't need to download and install any module.</p>
<p>I specify the versions I currently use, note different versions could
not work.</p>
<ul class="simple">
<li><a class="reference external" href="http://inigo.katxi.org/devel/mynewspaper">MyNewspaper</a>, you can download it from <a class="reference external" href="http://inigo.katxi.org/devel/mynewspaper/mynewspaper-4.0.tar.gz">here</a></li>
<li><a class="reference external" href="http://www.python.org">Python</a> &gt;= v3.2 (v2.x doesn't work)</li>
<li><a class="reference external" href="http://bottlepy.org">BottlePy</a> (v0.12.5, included)</li>
<li><a class="reference external" href="https://pypi.python.org/pypi/feedparser">Mark Pilgrim's Universal FeedParser</a> (v5.1.2, included)</li>
<li><a class="reference external" href="http://labix.org/python-dateutil">DateUtil</a> (v2.1, included)</li>
<li><a class="reference external" href="http://jquery.com">jQuery</a> (v2.1.0, included), <a class="reference external" href="http://jqueryui.com">jQueryUI</a> (v1.10.2, included)</li>
<li>modern web browser with javascript support enabled</li>
<li>cron, to periodically update RSS feeds (optional)</li>
<li>a web server, as frontend to <em>MyNewspaper</em> (optional)</li>
</ul>
<p>JavaScript code minimized with <a class="reference external" href="http://closure-compiler.appspot.com/home">Closure Compiler</a>.</p>
</div>
<div class="section" id="license">
<h2><a class="toc-backref" href="#id8">License</a></h2>
<p><em>MyNewspaper</em> has been released under the <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero GPL License</a> version 3
or later, read the <a class="reference external" href="COPYING">COPYING</a> file that comes with this package.
There is NO WARRANTY.</p>
</div>
<div class="section" id="contact">
<h2><a class="toc-backref" href="#id9">Contact</a></h2>
<p>In case you have any criticism, comment, suggestion, etc you can use
the <a class="reference external" href="https://bitbucket.org/inigoserna/mynewspaper4/issues">BitBucket Issue Tracker</a> or send me an email to the address stated above.</p>
</div>
</div>
<div class="section" id="download-and-installation">
<h1><a class="toc-backref" href="#id10">Download and Installation</a></h1>
<p>First of all, download <em>MyNewspaper</em> from <a class="reference external" href="http://inigo.katxi.org/devel/mynewspaper/mynewspaper-4.0.tar.gz">here</a>. It's all you need to do,
no additional modules or libraries to install, only Python 3.2+.</p>
<p>You can run <em>MyNewspaper</em> in different ways. I'll show you different methods
as examples, simple and more elaborated, but note that you can also mix
from both approaches.</p>
<div class="section" id="easy-way-uncompress-run">
<h2><a class="toc-backref" href="#id11">Easy way: uncompress &amp; run</a></h2>
<p>This is an easy and fast way to get <em>MyNewspaper</em> running, but it's not
the proper method if you want to keep it running permanently.</p>
<p>Uncompress source package in a directory of your choice and go there.
You don't need to configure anything. Just be sure you have Python
version 3.2 or upper installed on your machine.</p>
<p>Now run the application:</p>
<pre class="literal-block">
$ python3 ./mynewspaper.py
Bottle v0.12.5 server starting up (using WSGIRefServer())...
Listening on http://127.0.0.1:8887/
Hit Ctrl-C to quit.
</pre>
<p>It will automatically start its own web server on IP 127.0.0.1 and port 8887,
then you can open a web browser to that URL in the same computer.
You can change both IP and port editing the function <cite>run_standalone()</cite>
at the end of <cite>src/web.py</cite> file.</p>
<p>This method is convenient for testing or taking a look at the program
but consider a more robust approach for production.</p>
</div>
<div class="section" id="production-guru-s-way">
<h2><a class="toc-backref" href="#id12">Production: guru's way</a></h2>
<p>If you want to install <em>MyNewspaper</em> as a system service this is the right
choice.</p>
<p>We will configure a running web server as a frontend for <em>MyNewspaper</em>,
install a cron recipe to update feeds periodically in an automatic and
transparent  way and finally install an init.d script to make <em>MyNewspaper</em>
start with your system.</p>
<ol class="arabic simple">
<li>As before, uncompress package in a directory of your choice. In
this case it is a good idea to use a subdirectory under your web
documents hierarchy</li>
<li>Then change the ownership of the whole directory to that user of
your web server</li>
</ol>
<p>For example:</p>
<pre class="literal-block">
# cd /var/www
# tar xvfx path_to/mynewspaper-X.Y.tar.gz
# chown -R &lt;www_user&gt; mynewspaperX
</pre>
<p>Note that depending on your distribution, web documents root path could be
other than <em>/var/www</em>.</p>
<p>Next, let's study how to do some advanced configurations.</p>
<div class="section" id="run-behind-a-web-server">
<h3><a class="toc-backref" href="#id13">Run behind a web server</a></h3>
<p>Note <em>MyNewspaper</em> (in fact the micro web framework it's based on, <a class="reference external" href="http://bottlepy.org">BottlePy</a>)
does not directly provide user authentication, ssl or traffic compression
on his own.
Thus it's a worth idea to run behind a web server, specially if you want to
deploy it on a internet accessible computer.
You will get many other advantages as well:</p>
<ul class="simple">
<li>use the public URL you like, and let the web server map it to the program
internal URL</li>
<li>run under SSL transparently</li>
<li>use transparent authentication for the program</li>
<li>compress traffic between <em>MyNewspaper</em> and the web browser</li>
<li>integrate visits information with your site logs</li>
</ul>
<p><strong>With nginx</strong></p>
<p><a class="reference external" href="http://nginx.org">nginx</a> is the web server I use nowdays, fast and powerful.</p>
<p>Example 1: use a virtual host: <em>https://mynewspaper.domain.com</em></p>
<pre class="literal-block">
[...]
# enable and configure SSL and gzip compression
[...]
server {
    listen       443;
    server_name  mynewspaper.domain.com;
    ssl          on;
    access_log   /var/log/nginx/mynewspaper-access.log  main;

    location / {
        auth_basic            &quot;My Newspaper&quot;;
        auth_basic_user_file  &quot;/etc/nginx/domain.com.users&quot;;
        proxy_pass            http://127.0.0.1:8887;
    }
    location /images {
        disable_symlinks  off;
        alias /var/www/mynewspaper4/images;
    }
    location /static {
        disable_symlinks  off;
        alias /var/www/mynewspaper4/static;
    }
    location /docs {
        disable_symlinks  off;
        alias /var/www/mynewspaper4/docs;
    }
}
[...]
</pre>
<p><strong>With lighttpd</strong></p>
<p><a class="reference external" href="http://www.lighttpd.net">lighttpd</a> is a fast, powerful web server with lot of features.</p>
<p>Example 1: use a virtual host: <em>http://mynewspaper.domain.com</em></p>
<pre class="literal-block">
[...]
server.modules = ( ..., &quot;mod_proxy&quot;, &quot;mod_simple_vhost&quot;, ... )
[...]
$HTTP[&quot;host&quot;] == &quot;mynewspaper.domain.com&quot; {
  server.document-root = &quot;/var/www/mynespaper/&quot;
  accesslog.filename = &quot;/var/log/lighttpd/mynewspaper-access_log&quot;
  proxy.server = ( &quot;&quot; =&gt; ((&quot;host&quot; =&gt; &quot;127.0.0.1&quot;, &quot;port&quot; =&gt; 8887)) )
}
[...]
</pre>
<p>Example 2: rewrite url: <em>http://www.domain.com/mynewspaper</em> <a class="footnote-reference" href="#id2" id="id1">[1]</a></p>
<pre class="literal-block">
[...]
server.modules = ( ..., &quot;mod_rewrite&quot;, &quot;mod_proxy&quot;, ... )
[...]
$HTTP[&quot;host&quot;] == &quot;www.domain.com&quot; {
  [...]
  $HTTP[&quot;url&quot;] =~ &quot;^/mynewspaper&quot; {
    server.document-root = &quot;/var/www/mynewspaper2&quot;
    url.rewrite-once = ( &quot;^/mynewspaper(.*)$&quot; =&gt; &quot;/$1&quot; )
    proxy.server = ( &quot;&quot; =&gt; ((&quot;host&quot; =&gt; &quot;127.0.0.1&quot;, &quot;port&quot; =&gt; 8887)) )
  }
  [...]
}
[...]
</pre>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>This doesn't work in some lighttpd v1.4.x versions due to a bug
in lighttpd code, see <a class="reference external" href="http://trac.lighttpd.net/trac/ticket/164">http://trac.lighttpd.net/trac/ticket/164</a></td></tr>
</tbody>
</table>
<p><strong>With apache</strong></p>
<p><a class="reference external" href="http://www.apache.org">apache</a>, the most popular web server.</p>
<p>The concepts are quite similar to any other web server.</p>
<p><strong>Other</strong></p>
<p>There are other alternatives: FCGI, WSGI, running as CGI, etc.
More ideas in <a class="reference external" href="http://bottlepy.org/docs/dev/deployment.html">BottlePy_ documentation</a>.</p>
</div>
<div class="section" id="automatic-updates-with-cron">
<h3><a class="toc-backref" href="#id14">Automatic updates with cron</a></h3>
<ol class="arabic simple">
<li>Copy <em>tools/mynewspaper.cron</em> file to <em>/etc/cron.d</em> with the name
<em>mynewspaper</em></li>
<li>Uncomment the proper line depending on how you want to access the application:
internal web or web front. By default, it will update feeds each 30 minutes</li>
<li>Finally, restart cron daemon</li>
</ol>
<pre class="literal-block">
# cp tools/mynewspaper.cron /etc/cron.d/mynewspaper
# [edit] /etc/cron.d/mynewspaper
# systemctl restart crond # or /etc/init.d/crond restart
</pre>
<p>If you don't understand anything, consult your <em>cron</em> documentation.</p>
<p>Of course, you can fetch new articles from the web UI too.</p>
</div>
<div class="section" id="running-as-a-system-service">
<h3><a class="toc-backref" href="#id15">Running as a system service</a></h3>
<p>Nowdays I use <a class="reference external" href="http://supervisord.org/">supervisor</a> to start, run and control my python web applications.</p>
<p>This is the configuration file I use, from <em>/etc/supervisor.d/web_mynewspaper.ini</em>:</p>
<pre class="literal-block">
[program:web_mynewspaper]
command=/home/www/mynewspaper4/mynewspaper.py
directory=/home/www/mynewspaper4
priority=100
autostart=true
autorestart=true
user=www
log_stdout=true
log_stderr=true
logfile=/var/log/supervisord/web_mynewspaper.log
logfile_maxbytes=1MB
logfile_backups=5
</pre>
<p>Anyway you could easily create your own <em>systemctl</em> or <em>init.d</em> scripts.</p>
</div>
</div>
</div>
<div class="section" id="using-mynewspaper">
<h1><a class="toc-backref" href="#id16">Using MyNewspaper</a></h1>
<div class="section" id="first-steps">
<h2><a class="toc-backref" href="#id17">First steps</a></h2>
<div class="section" id="initial-wizard">
<h3><a class="toc-backref" href="#id18">Initial wizard</a></h3>
<p>Once you have the application installed and running, open your web
browser and navigate to the URL shown on the terminal,
<a class="reference external" href="http://127.0.0.1:8887">http://127.0.0.1:8887</a> by default. If you run <em>MyNewspaper</em> behind a web server
and use url rewriting you could use that public URL too.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">You can also manually upgrade a  <em>MyNewspaper</em> v3 database from
command line using the <em>migrate_db_from_v3_to_v4.py</em> shell script
in <em>tools</em> directory. Remember to backup the database file before.</p>
</div>
<img alt="ss-tut-wizard.jpeg" class="align-right" src="ss-tut-wizard.jpeg" />
<p>First time you will be redirected to the initial wizard where you will
be able to import feeds from an <em>OPML File</em>, import feeds from <em>Google
Reader Takeout</em> file, migrate data from a <em>MyNewspaper v3 database</em> or start
without feeds.</p>
</div>
<div class="section" id="main-screen">
<h3><a class="toc-backref" href="#id19">Main screen</a></h3>
<p>After you have completed the wizard, the application will download the
new articles for the feeds you have defined (if any) and then you will
be redirected to the summary screen of the application. This could
take some time if there are a lot of feeds or you have a slow internet
connection.</p>
<img alt="ss-tut-main.jpeg" class="align-right" src="ss-tut-main.jpeg" />
<p>Once the database is properly configured and application is running
you can always go to <a class="reference external" href="http://127.0.0.1:8887">http://127.0.0.1:8887</a> (or configured URL) to see
the summary page.</p>
<p>Now your are ready to enjoy <em>MyNewspaper</em>.</p>
</div>
</div>
<div class="section" id="user-interface">
<h2><a class="toc-backref" href="#id20">User Interface</a></h2>
<p>As you can see in the image above, the screen is divided into 3
parts:</p>
<ul class="simple">
<li>at the top, there is the header</li>
<li>at the left, the sidebar</li>
<li>at the right, the body of the application</li>
</ul>
<div class="section" id="the-header">
<h3><a class="toc-backref" href="#id21">The Header</a></h3>
<p>Logo with a couple of buttons:</p>
<ul class="simple">
<li>hide/show sidebar toggle button, at the left</li>
<li>refresh view button, at the right of logo</li>
</ul>
</div>
<div class="section" id="the-sidebar">
<h3><a class="toc-backref" href="#id22">The Sidebar</a></h3>
<p>The sidebar is placed at the left of the page.
It can be hidden and showed clicking the button on the header or with <cite>ESC</cite>
key shortcut.</p>
<p>It contains some links: <em>Home view</em>, <em>Folders view</em>, <em>Archive</em>, <em>Search</em>.</p>
<p>Below them there is the list with feeds folders, and the count if there are
unread articles.
The groups can be expanded or collapsed to show or hide feeds in the folder.
Clicking on folders or feeds will lead you to the <a class="reference internal" href="#articles-view">Articles view</a>.</p>
</div>
<div class="section" id="the-body">
<h3><a class="toc-backref" href="#id23">The Body</a></h3>
<p>It can contain different pages:</p>
<ul class="simple">
<li><a class="reference internal" href="#home-view">Home view</a></li>
<li><a class="reference internal" href="#folders-view">Folders view</a></li>
<li><a class="reference internal" href="#group-view">Group view</a></li>
<li><a class="reference internal" href="#feed-view">Feed view</a></li>
<li><a class="reference internal" href="#articles-view">Articles view</a></li>
</ul>
<div class="section" id="home-view">
<h4><a class="toc-backref" href="#id24">Home view</a></h4>
<div class="line-block">
<div class="line">A summary with links to some management actions, reports or help.</div>
<div class="line">For example, you can add new subscriptions, update feeds, import feeds
from an OPML file, export current feeds as OPML, export database, etc.</div>
<div class="line">You can also manage the database (<em>clean the data</em>): Compact (vacuum),
or Remove old entries from cache (&gt; 3 months).</div>
</div>
</div>
<div class="section" id="folders-view">
<h4><a class="toc-backref" href="#id25">Folders view</a></h4>
<div class="line-block">
<div class="line">A table with the folders (groups) defined showing the name, number of feeds,
and number of <em>unread</em>, <em>starred</em>, <em>postponed</em>, <em>archived</em> and <em>total</em>
articles.</div>
<div class="line">Some actions at top: <em>new folder</em>, <em>stats</em>, and <em>update feeds</em>.</div>
<div class="line">Name and numbers are hyperlinks to other views.</div>
</div>
</div>
<div class="section" id="group-view">
<h4><a class="toc-backref" href="#id26">Group view</a></h4>
<div class="line-block">
<div class="line">A table with the feeds defined in the group showing the name, and number
of <em>unread</em>, <em>starred</em>, <em>postponed</em>, <em>archived</em> and <em>total</em> articles.</div>
<div class="line">Some actions at top: <em>add subscription</em>, <em>rename folder</em>, <em>delete folder</em>,
<em>stats</em>, and <em>update feeds</em>.</div>
<div class="line">Name and numbers are hyperlinks to other views.</div>
</div>
</div>
<div class="section" id="feed-view">
<h4><a class="toc-backref" href="#id27">Feed view</a></h4>
<div class="line-block">
<div class="line">Feed name, feed URL, home page, state (enabled, disabled, broken),
date of last update, and number of <em>unread</em>, <em>starred</em>, <em>postponed</em>,
<em>archived</em> and <em>total</em> articles.</div>
<div class="line">Some actions at top: <em>edit</em>, <em>delete</em>, <em>stats</em>, <em>update</em>.</div>
<div class="line">Hyperlinks are used too.</div>
</div>
</div>
<div class="section" id="articles-view">
<h4><a class="toc-backref" href="#id28">Articles view</a></h4>
<div class="note">
<p class="first admonition-title">Note</p>
<p>An article is or can be marked in any of the following states:</p>
<ul class="last simple">
<li><img alt="st1" src="../images/st_delete.png" style="width: 15px;" /> Delete</li>
<li><img alt="st2" src="../images/st_unread.png" style="width: 15px;" /> Unread</li>
<li><img alt="st3" src="../images/st_starred.png" style="width: 15px;" /> Starred (favourite)</li>
<li><img alt="st4" src="../images/st_later.png" style="width: 15px;" /> Later (postponed for later)</li>
<li><img alt="st5" src="../images/st_archived.png" style="width: 15px;" /> Archived</li>
</ul>
</div>
<p>A list contaning a batch of the selected articles.
By default there is a maximum of 100 entries per page, but you have
buttons to load 100 more or all.</p>
<p><strong>Button bar</strong></p>
<img alt="ss-tut-arts_btns.jpeg" src="ss-tut-arts_btns.jpeg" />
<p>There is a button bar at the top providing different actions:</p>
<ul class="simple">
<li>Process button (more on this later)</li>
<li>Pop-over to change which articles to show (by state)</li>
<li>Pop-over to filter articles by state</li>
<li>Pop-over to change sort mode</li>
<li>Toggle button to expand articles contents or show header only</li>
<li>Toggle button to hide/show articles images</li>
<li>Pop-over to change the state of all shown (non filtered out) articles</li>
</ul>
<p><strong>Article areas</strong></p>
<img alt="ss-tut-arts.jpeg" src="ss-tut-arts.jpeg" />
<p>Each line represents an article. They are divided in several areas,
from left to right:</p>
<ul class="simple">
<li>article state icon</li>
<li>feed name, in color green</li>
<li>feed favicon</li>
<li>article title, in bold</li>
<li>brief summary</li>
<li>time stamp</li>
<li>article contents, hidden by default</li>
</ul>
<p>The two orange vertical bars around an article represent the cursor,
and it marks the currently selected entry.
You can operate on current article using <a class="reference internal" href="#keyboard-navigation">Keyboard navigation</a>.</p>
<p><strong>Mouse actions:</strong></p>
<ul class="simple">
<li>Placing the mouse over the status icon will open a small window allowing
to change it</li>
<li>Clicking on the article title will open the original source of the article
in another tab/window</li>
<li>Clicking on the summary will show or hide article contents</li>
</ul>
<p><strong>Process</strong></p>
<p>Clicking on the <em>Process</em> button will perform for each article the action
marked in its state: delete, let it as unread, starred, mark for
later use, or archive.</p>
<p>Remember <em>Process</em> only operate on loaded and visible entries.</p>
</div>
</div>
</div>
<div class="section" id="keyboard-navigation">
<h2><a class="toc-backref" href="#id29">Keyboard navigation</a></h2>
<p>If you prefer keyboard navigation you can avoid the mouse to control <em>MyNewspaper</em>.</p>
<ul class="simple">
<li><strong>Global</strong><ul>
<li>ESC -&gt; Toggle sidebar</li>
<li>h   -&gt; Go to Home</li>
<li>f   -&gt; Folders</li>
<li>/   -&gt; Search</li>
<li>u   -&gt; Unread items</li>
<li>r   -&gt; Refresh view</li>
<li>?   -&gt; Show Keyboard Shortcuts</li>
</ul>
</li>
<li><strong>Articles view</strong><ul>
<li>j   -&gt; Select next article</li>
<li>k   -&gt; Select previous article</li>
<li>SPC -&gt; Move one page down and select article</li>
<li>BackSpace   -&gt; Move one page up and select article</li>
<li>n   -&gt; Select and open next article</li>
<li>p   -&gt; Select and open previous article</li>
<li>Home        -&gt; Move to first article and select it</li>
<li>End -&gt; Move to last article and select it</li>
<li>1   -&gt; View with articles expanded</li>
<li>2   -&gt; View with only articles titles shown</li>
<li>i   -&gt; Show or hide the images in articles</li>
<li>v, Enter    -&gt; Expand or collapse selected article</li>
<li>s   -&gt; Cycle actions for current article</li>
<li>o   -&gt; Open article in new window or tab</li>
<li>Shift + a   -&gt; Process visible articles</li>
<li>Shift + m   -&gt; Load more articles</li>
<li>Shift + t   -&gt; Load all articles</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="mynewspaper-mobile">
<h1><a class="toc-backref" href="#id30">MyNewspaper Mobile</a></h1>
<p><em>MyNewspaper</em> contains a minimalist web interface for mobile devices
like smartphones and tablets, where screen size and lack of proper
keyboard and mouse make difficult to manage the application in a
traditional way.</p>
<p>The URL is located at: <a class="reference external" href="http://127.0.0.1:8887/m">http://127.0.0.1:8887/m</a> or <a class="reference external" href="http://mynewspaper.domain.com/m">http://mynewspaper.domain.com/m</a>.</p>
<p>There are 3 main views:</p>
<ul class="simple">
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#articles-list">Articles list</a></li>
<li><a class="reference internal" href="#article-contents">Article contents</a></li>
</ul>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id31">Summary</a></h2>
<div class="line-block">
<div class="line">List of all the folders with <em>unread</em> articles.</div>
<div class="line">You can change selected state (<em>unread</em> by default) by tapping on the <em>state</em>
icon at the header.</div>
<div class="line">To expand a folder click on its name.</div>
<div class="line">To go <a class="reference internal" href="#articles-list">Articles list</a> view click on the number at right.</div>
</div>
</div>
<div class="section" id="articles-list">
<h2><a class="toc-backref" href="#id32">Articles list</a></h2>
<div class="line-block">
<div class="line">A list of articles with their title, feed, timestamp and a few lines
of the contents as a brief summary.</div>
<div class="line">Clicking on the <em>back</em> image will return to <a class="reference internal" href="#summary">Summary</a> view.</div>
<div class="line">Touching on the icon at the left of an article will open a popup window
to change its state.</div>
<div class="line">Tap article summary to open <a class="reference internal" href="#article-contents">Article contents</a> view.</div>
</div>
</div>
<div class="section" id="article-contents">
<h2><a class="toc-backref" href="#id33">Article contents</a></h2>
<div class="line-block">
<div class="line">This page shows the contents of the selected article.</div>
<div class="line">Clicking on the <em>back</em> image will return to <a class="reference internal" href="#articles-list">Articles list</a> view.</div>
<div class="line">There are <em>up</em> and <em>down</em> arrows to navigate to previous or next article.</div>
</div>
</div>
</div>
<div class="section" id="faq">
<h1><a class="toc-backref" href="#id34">FAQ</a></h1>
<ul>
<li><dl class="first docutils">
<dt><strong>Default port 8887 is not free on my system, what can I do?</strong></dt>
<dd><p class="first last">Edit the function <cite>run_standalone()</cite> at the end of <cite>src/web.py</cite> file.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>I don't want to start MyNewspaper every time I reboot the computer...</strong></dt>
<dd><p class="first last">This is explained in <em>Download and Installation</em> -&gt; <a class="reference internal" href="#production-guru-s-way">Production: guru's way</a>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>I want to put MyNewspaper behind a web server to add SSL or authentication</strong></dt>
<dd><p class="first last">This is explained in <em>Download and Installation</em> -&gt; <a class="reference internal" href="#production-guru-s-way">Production: guru's way</a>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Can I search the articles?</strong></dt>
<dd><p class="first last">It's not implemented yet.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>The reports don't work</strong></dt>
<dd><p class="first last">They are not implemented yet.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Do you supply more themes/styles?</strong></dt>
<dd><p class="first last">No, <em>MyNewspaper</em> has the style I like. But if you write a new
style, send it to me and maybe I could reconsider the decision.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="changelog-todo">
<h1><a class="toc-backref" href="#id35">ChangeLog &amp; TODO</a></h1>
<div class="section" id="releases">
<h2><a class="toc-backref" href="#id36">Releases</a></h2>
<dl class="docutils">
<dt><strong>v4.0</strong> <em>&quot;I hate writing documentation&quot;</em></dt>
<dd><p class="first">[2014/04/13] Completely rewritten. Download from <a class="reference external" href="http://inigo.katxi.org/devel/mynewspaper/mynewspaper-4.0.tar.gz">here</a></p>
<pre class="last literal-block">
- General:
    . rewritten everything from scratch
    . all dependencies are included within the application
    . new documentation, including a brief tutorial
- Core:
    . use BottlePy web framework instead of CherryPy
    . don't use any ORM, access DB directly
    . use dateutil module to parse timestamps
- UI:
    . UI completely rewritten
    . new look &amp; feel: darker theme, new icons
    . use newer versions of jQuery and jQueryUI
- Mobile version:
    . completely rewritten
    . don't use jQuery Mobile
</pre>
</dd>
<dt><strong>v3.0</strong> <em>&quot;a new one is here&quot;</em></dt>
<dd><p class="first">[2010/12/29] Javascript &amp; AJAX, mobile version</p>
<pre class="last literal-block">
- Core:
    . articles new &quot;postponed&quot; state
    . AJAX calls between python core and UI javascript
    . option to disable a feed temporary
    . create http://mynewspaper/update entry point
    . speed, speed, speed
    . clean code
    . remove cheetah templating engine
- UI:
    . UI completely rewritten, using jQuery and jQueryUI
    . added visual effects
    . drag&amp;drop to sort groups or feeds
    . new icons
    . navigation using keys
    . new navigation bar
    . show/hide images
- Mobile version of the web interface
    . http://mynewspaper/m
- Admin:
    . configuration
    . init wizard
    . feeds report
    . new error 404 - not found page
</pre>
</dd>
<dt><strong>v2.0:</strong> <em>&quot;living with no name&quot;</em></dt>
<dd><p class="first">[2006/07/XX] Unreleased</p>
<pre class="last literal-block">
- Core:
    . use CherryPy insted of CGI
    . articles new &quot;favs&quot; and &quot;archived&quot; states
    . improved fetching feeds, using threads
- UI:
    . toggle sidebar
    . new &quot;virtual&quot; folder in sidebar
    - Admin:
    . opml import/export (http://www.opml.org/)
    . stats: no. of fav/unread/total articles per group/feed,
             older/newer, .db type and size
</pre>
</dd>
<dt><strong>v1.4:</strong> <em>&quot;even faster and sexier than before&quot;</em></dt>
<dd><p class="first">[2005/08/01] Speed, usability, UI improvements</p>
<pre class="last literal-block">
- New features:
    . Unread virtual folder
    . Favourites
- Faster:
    . with v1.2 summary page was very slow if &gt;3k articles, it
      has been profiled and optimised. Basically I've substituted
      len(a_group.feeds) and len(a_feed.articles) by
      select(XXX).count() I've also built OR-expressions
      dinamically instead of for-loops when dealing with SQLObject
- UI:
    . show/hide heading/contents for all articles or per article
    . &quot;toggle&quot; button to invert selections
    . user can see number of selected/total articles
    . show articles in batches of 50 articles
    . un/selecting articles should update count button
- bugs fixed:
    . crash in maintenance when no feeds defined
    . crash in archive/unmark_as_read if no articles selected
</pre>
</dd>
<dt><strong>v1.2:</strong> <em>&quot;faster (25-35%), cleaner (100%), smaller (69%) and even more robust (100%)&quot;</em></dt>
<dd><p class="first">[2005/07/24] A major rewrite and clean up of the code</p>
<pre class="last literal-block">
- UI:
    . use Cheetah as html template
    . generate valid html
    . clean css
- Use SQLObject as database abstraction
- bugs fixed:
    . fix 'XXXadminXXX' hack
    . now no names are passed in urls or forms, id instead =&gt;
      =&gt; no more crashes due to encoding problems
    . crash: 'Stiri Ziare.ro': 'http://www3.ziare.ro/backend.php'
    . feeds_edit doesn't expand group in sidebar
    . timeout for feed downloading =&gt; feedparser does it
    . a pile of them
</pre>
</dd>
<dt><strong>v1.0:</strong> <em>&quot;initial release&quot;</em></dt>
<dd>[2005/07/17] Initial release.</dd>
</dl>
</div>
<div class="section" id="todo">
<h2><a class="toc-backref" href="#id37">TODO</a></h2>
<p>TODO file with some ideas and eventual future enhancements is at <a class="reference external" href="TODO">TODO</a>.</p>
</div>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: 2014-04-13 11:18 UTC.
Generated by <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>
</body>
</html>
