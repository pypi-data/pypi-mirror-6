{% load extra_tags %}
<!--
{'finished': {'std': 0.0, 'max': 0.0115625, 'min': 0.0115625, 'median': 0.0115625, 'mean': 0.0115625}, 'unfinished': {}, 'issues': [{'from': 10, 'timedelta': datetime.timedelta(0, 999), 'start': datetime.datetime(2014, 1, 20, 14, 27, 29, tzinfo=tzutc()), 'days': 0.0115625, 'summary': u"TEXT CHANGE: As a product manager I want the 'Touch to Shazam' text to be changed to 'Touch to Shazam Music or TV' ", 'to_id': 10003, 'to': 9, 'key': u'SOA-3495', 'end': datetime.datetime(2014, 1, 20, 14, 44, 8, tzinfo=tzutc()), 'from_id': 10071}]} 
-->
<table class="table"><tr>
	{% for status in statuses %}
		<td>{{ status_names|key:status }}</td>
	{% endfor %}
</tr></table>
<table class="table">
<thead>
	<tr>
		<th colspan="2">Transition</th>
		<th></th>
		<th colspan="6">Finished</th>
		<th colspan="6">Unfinished</th>
	</tr><tr>
		<th>From</th>
		<th>To</th>
		<th>Count</th>
		<th>Mean</th>
		<th>Median</th>
		<th>StdDev</th>
		<th>Min</th>
		<th>Max</th>
		<th>Sum</th>
		<th>Mean</th>
		<th>Median</th>
		<th>StdDev</th>
		<th>Min</th>
		<th>Max</th>
		<th>Sum</th>
	</tr>
</thead>
{% for loop in loops.items %}
	<tr><td>
	<strong>{{ status_names|key:loop.0.0 }}</strong> ({{ loop.0.0 }})
	</td><td>
	<strong>{{ status_names|key:loop.0.1 }}</strong> ({{ loop.0.1 }})
	</td><td>
	{{ loop.1.issues|length }}
	</td><td>
	{% with loop.1.finished as stats %}
		{{ stats.mean|floatformat:1 }}</td><td>
		{{ stats.median|floatformat:1 }}</td><td>
		{{ stats.std|floatformat:1 }}</td><td>
		{{ stats.min|floatformat:1 }}</td><td>
		{{ stats.max|floatformat:1 }}</td><td>
		{{ stats.sum|floatformat:1 }}
	{% endwith %}
	</td><td>
	{% with loop.1.unfinished as stats %}
		{{ stats.mean|floatformat:1 }}</td><td>
		{{ stats.median|floatformat:1 }}</td><td>
		{{ stats.std|floatformat:1 }}</td><td>
		{{ stats.min|floatformat:1 }}</td><td>
		{{ stats.max|floatformat:1 }}</td><td>
		{{ stats.sum|floatformat:1 }}
	{% endwith %}
	</td></tr>
{% endfor %}
</table>