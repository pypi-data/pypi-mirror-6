_pew()
{
    local cur prev words cword
    _init_completion || return
    local args = "--help --python -i -a -r"

    case $prev in
        ls|show|rm|workon|cp|setproject)
            COMPREPLY=( $(compgen -W "$(pew-ls)" -- ${cur}) )
            return 0
            ;;
        inall)
            _command_offset 2
            return 0
            ;;
        mktmpenv|new)
            COMPREPLY=( $(compgen -W args -- ${cur}) )
            return 0
            ;;
        mkproject)
            COMPREPLY=( $(compgen -W args "-t --list" -- ${cur}) )
            return 0
            ;;
        add)
            COMPREPLY=( $(compgen -W "--help -d" -- ${cur}) )
            return 0
            ;;

    esac
} &&
complete -F _pew pew
