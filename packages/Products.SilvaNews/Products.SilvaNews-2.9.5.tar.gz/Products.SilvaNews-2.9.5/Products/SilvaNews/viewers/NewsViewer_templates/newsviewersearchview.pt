<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva_news"
  tal:define="formatdate nocall:context/service_news/format_date"
>

  <div class="margins">
    <h2 class="heading" i18n:translate="">Search <tal:block i18n:name="title" tal:content="context/get_title" /></h2>
  </div>

  <tal:comment condition="nothing">Begin items</tal:comment>

  <div class="searchbox">
    <form tal:attributes="action python:view.url('search')" method="get">
      <input type="text" name="query" tal:attributes="value view/query" />
      <input type="submit" class="button" value="Search" title="Do a full text search: alt-s"
              accesskey="s" i18n:attributes="title;value" />
    </form>
  </div>

  <div class="newsitem" tal:repeat="r view/results">
    <div tal:replace="structure r/search_result" />
  </div>

  <div class="item" tal:condition="python: len(view.results) < 1" i18n:translate="">
    There are no articles corresponding to your query
  </div>

  <div class="viewlinks">
    <div class="viewlink">
      <a href="#" tal:attributes="href view/url" i18n:translate="">view news</a>
    </div>
    <div class="viewlink">
      <a href="#"
        tal:attributes="href python:view.url('archives')" i18n:translate="" />
    </div>
  </div>

</html>
