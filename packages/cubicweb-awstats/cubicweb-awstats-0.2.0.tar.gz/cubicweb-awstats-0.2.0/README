Summary
-------

The awstats cube integrates statistics processed by awstats into
cubicweb for visualisation and integration.

It uses awstats processed files (`/var/lib/awstats/*`) to import stats
and visualize them. It has a simple html export of the processed data
and a visualisation of the imported stats (by document and for a time
period).

To establish a link with the entity you want to build stats for
you need to create a relationship Hits "stats_about" X.

.. sourcecode:: python

  class missing_stats_about(RelationDefinition):
      name = 'stats_about'
      subject = 'Hits'
      object = ('BlogEntry', 'MicroBlogEntry')

When the link is established, importing the statistics is done using
the `update-webstats` cubicweb-ctl command. For help on that command
type ::

   cubicweb-ctl update-webstats -h

The process running cubicweb and cubicweb-ctl needs to have read
access to the configured location of the processed varnish files.

Configuration
-------------

:awstats-dir:

The directory where the processed awstats files are contained.

:awstats-domain:

If awstats processes multiple domains, which domain to use for
importing into cubicweb.

:awstats-periodicity:

Awstats by default processes per month, but you can configure it to
deal with day periods. (split by hours is not yet implemented)

Dependencies
------------

http://awstats.sourceforge.net/

or apt-get install awstats (for debian derived distributions)
