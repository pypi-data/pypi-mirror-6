

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>zope.component.interfaces &mdash; zope.configuration 4.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="zope.configuration 4.0 documentation" href="../../../index.html" />
    <link rel="up" title="zope.component" href="../component.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">zope.configuration 4.0 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../component.html" accesskey="U">zope.component</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for zope.component.interfaces</h1><div class="highlight"><pre>
<span class="c">############################################################################</span>
<span class="c">#</span>
<span class="c"># Copyright (c) 2001, 2002 Zope Foundation and Contributors.</span>
<span class="c"># All Rights Reserved.</span>
<span class="c">#</span>
<span class="c"># This software is subject to the provisions of the Zope Public License,</span>
<span class="c"># Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.</span>
<span class="c"># THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY AND ALL EXPRESS OR IMPLIED</span>
<span class="c"># WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<span class="c"># WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS</span>
<span class="c"># FOR A PARTICULAR PURPOSE.</span>
<span class="c">#</span>
<span class="c">############################################################################</span>
<span class="sd">&quot;&quot;&quot;Component and Component Architecture Interfaces</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">zope.interface</span> <span class="kn">import</span> <span class="n">Attribute</span>
<span class="kn">from</span> <span class="nn">zope.interface</span> <span class="kn">import</span> <span class="n">Interface</span>
<span class="kn">from</span> <span class="nn">zope.interface</span> <span class="kn">import</span> <span class="n">implements</span>

<span class="c"># BBB 2011-09-09, import interfaces from zope.interface </span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">ComponentLookupError</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">Invalid</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IObjectEvent</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">ObjectEvent</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IComponentLookup</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IRegistration</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IUtilityRegistration</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">_IBaseAdapterRegistration</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IAdapterRegistration</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">ISubscriptionAdapterRegistration</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IHandlerRegistration</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IRegistrationEvent</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">RegistrationEvent</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IRegistered</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">Registered</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IUnregistered</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">Unregistered</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IComponentRegistry</span>
<span class="kn">from</span> <span class="nn">zope.interface.interfaces</span> <span class="kn">import</span> <span class="n">IComponents</span>

<span class="kn">from</span> <span class="nn">zope.component._compat</span> <span class="kn">import</span> <span class="n">_BLANK</span>


<div class="viewcode-block" id="IComponentArchitecture"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture">[docs]</a><span class="k">class</span> <span class="nc">IComponentArchitecture</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Component Architecture is defined by two key components: Adapters</span>
<span class="sd">    and Utiltities. Both are managed by site managers. All other components</span>
<span class="sd">    build on top of them.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># Site Manager API</span>

<div class="viewcode-block" id="IComponentArchitecture.getGlobalSiteManager"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getGlobalSiteManager">[docs]</a>    <span class="k">def</span> <span class="nf">getGlobalSiteManager</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return the global site manager.</span>

<span class="sd">        This function should never fail and always return an object that</span>
<span class="sd">        provides `IGlobalSiteManager`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getSiteManager"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getSiteManager">[docs]</a>    <span class="k">def</span> <span class="nf">getSiteManager</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the nearest site manager in the given context.</span>

<span class="sd">        If `context` is `None`, return the global site manager.</span>

<span class="sd">        If the `context` is not `None`, it is expected that an adapter</span>
<span class="sd">        from the `context` to `IComponentLookup` can be found. If no</span>
<span class="sd">        adapter is found, a `ComponentLookupError` is raised.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c"># Utility API</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getUtility"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getUtility">[docs]</a>    <span class="k">def</span> <span class="nf">getUtility</span><span class="p">(</span><span class="n">interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the utility that provides interface</span>

<span class="sd">        Returns the nearest utility to the context that implements the</span>
<span class="sd">        specified interface.  If one is not found, raises</span>
<span class="sd">        ComponentLookupError.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.queryUtility"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.queryUtility">[docs]</a>    <span class="k">def</span> <span class="nf">queryUtility</span><span class="p">(</span><span class="n">interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Look for the utility that provides interface</span>

<span class="sd">        Returns the nearest utility to the context that implements</span>
<span class="sd">        the specified interface.  If one is not found, returns default.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.queryNextUtility"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.queryNextUtility">[docs]</a>    <span class="k">def</span> <span class="nf">queryNextUtility</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query for the next available utility.</span>
<span class="sd">    </span>
<span class="sd">        Find the next available utility providing `interface` and having the</span>
<span class="sd">        specified name. If no utility was found, return the specified `default`</span>
<span class="sd">        value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
    </div>
<div class="viewcode-block" id="IComponentArchitecture.getNextUtility"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getNextUtility">[docs]</a>    <span class="k">def</span> <span class="nf">getNextUtility</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the next available utility.</span>
<span class="sd">    </span>
<span class="sd">        If no utility was found, a `ComponentLookupError` is raised.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getUtilitiesFor"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getUtilitiesFor">[docs]</a>    <span class="k">def</span> <span class="nf">getUtilitiesFor</span><span class="p">(</span><span class="n">interface</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the utilities that provide an interface</span>

<span class="sd">        An iterable of utility name-value pairs is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getAllUtilitiesRegisteredFor"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getAllUtilitiesRegisteredFor">[docs]</a>    <span class="k">def</span> <span class="nf">getAllUtilitiesRegisteredFor</span><span class="p">(</span><span class="n">interface</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all registered utilities for an interface</span>

<span class="sd">        This includes overridden utilities.</span>

<span class="sd">        An iterable of utility instances is returned.  No names are</span>
<span class="sd">        returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c"># Adapter API</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getAdapter"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getAdapter">[docs]</a>    <span class="k">def</span> <span class="nf">getAdapter</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span>
                   <span class="n">interface</span><span class="o">=</span><span class="n">Interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">_BLANK</span><span class="p">,</span>
                   <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a named adapter to an interface for an object</span>

<span class="sd">        Returns an adapter that can adapt object to interface.  If a matching</span>
<span class="sd">        adapter cannot be found, raises ComponentLookupError.</span>

<span class="sd">        If context is None, an application-defined policy is used to choose</span>
<span class="sd">        an appropriate service manager from which to get an &#39;Adapters&#39; service.</span>

<span class="sd">        If &#39;context&#39; is not None, context is adapted to IServiceService,</span>
<span class="sd">        and this adapter&#39;s &#39;Adapters&#39; service is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getAdapterInContext"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getAdapterInContext">[docs]</a>    <span class="k">def</span> <span class="nf">getAdapterInContext</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a special adapter to an interface for an object</span>

<span class="sd">        NOTE: This method should only be used if a custom context</span>
<span class="sd">        needs to be provided to provide custom component</span>
<span class="sd">        lookup. Otherwise, call the interface, as in::</span>

<span class="sd">           interface(object)</span>

<span class="sd">        Returns an adapter that can adapt object to interface.  If a matching</span>
<span class="sd">        adapter cannot be found, raises ComponentLookupError.</span>

<span class="sd">        Context is adapted to IServiceService, and this adapter&#39;s</span>
<span class="sd">        &#39;Adapters&#39; service is used.</span>

<span class="sd">        If the object has a __conform__ method, this method will be</span>
<span class="sd">        called with the requested interface.  If the method returns a</span>
<span class="sd">        non-None value, that value will be returned. Otherwise, if the</span>
<span class="sd">        object already implements the interface, the object will be</span>
<span class="sd">        returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getMultiAdapter"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getMultiAdapter">[docs]</a>    <span class="k">def</span> <span class="nf">getMultiAdapter</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span>
                        <span class="n">interface</span><span class="o">=</span><span class="n">Interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                        <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Look for a multi-adapter to an interface for an objects</span>

<span class="sd">        Returns a multi-adapter that can adapt objects to interface.  If a</span>
<span class="sd">        matching adapter cannot be found, raises ComponentLookupError.</span>

<span class="sd">        If context is None, an application-defined policy is used to choose</span>
<span class="sd">        an appropriate service manager from which to get an &#39;Adapters&#39; service.</span>

<span class="sd">        If &#39;context&#39; is not None, context is adapted to IServiceService,</span>
<span class="sd">        and this adapter&#39;s &#39;Adapters&#39; service is used.</span>

<span class="sd">        The name consisting of an empty string is reserved for unnamed</span>
<span class="sd">        adapters. The unnamed adapter methods will often call the</span>
<span class="sd">        named adapter methods with an empty string for a name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.queryAdapter"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.queryAdapter">[docs]</a>    <span class="k">def</span> <span class="nf">queryAdapter</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">interface</span><span class="o">=</span><span class="n">Interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">_BLANK</span><span class="p">,</span>
                     <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Look for a named adapter to an interface for an object</span>

<span class="sd">        Returns an adapter that can adapt object to interface.  If a matching</span>
<span class="sd">        adapter cannot be found, returns the default.</span>

<span class="sd">        If context is None, an application-defined policy is used to choose</span>
<span class="sd">        an appropriate service manager from which to get an &#39;Adapters&#39; service.</span>

<span class="sd">        If &#39;context&#39; is not None, context is adapted to IServiceService,</span>
<span class="sd">        and this adapter&#39;s &#39;Adapters&#39; service is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.queryAdapterInContext"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.queryAdapterInContext">[docs]</a>    <span class="k">def</span> <span class="nf">queryAdapterInContext</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Look for a special adapter to an interface for an object</span>

<span class="sd">        NOTE: This method should only be used if a custom context</span>
<span class="sd">        needs to be provided to provide custom component</span>
<span class="sd">        lookup. Otherwise, call the interface, as in::</span>

<span class="sd">           interface(object, default)</span>

<span class="sd">        Returns an adapter that can adapt object to interface.  If a matching</span>
<span class="sd">        adapter cannot be found, returns the default.</span>

<span class="sd">        Context is adapted to IServiceService, and this adapter&#39;s</span>
<span class="sd">        &#39;Adapters&#39; service is used.</span>

<span class="sd">        If the object has a __conform__ method, this method will be</span>
<span class="sd">        called with the requested interface.  If the method returns a</span>
<span class="sd">        non-None value, that value will be returned. Otherwise, if the</span>
<span class="sd">        object already implements the interface, the object will be</span>
<span class="sd">        returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.queryMultiAdapter"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.queryMultiAdapter">[docs]</a>    <span class="k">def</span> <span class="nf">queryMultiAdapter</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span>
                          <span class="n">interface</span><span class="o">=</span><span class="n">Interface</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">_BLANK</span><span class="p">,</span>
                          <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                          <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Look for a multi-adapter to an interface for objects</span>

<span class="sd">        Returns a multi-adapter that can adapt objects to interface.  If a</span>
<span class="sd">        matching adapter cannot be found, returns the default.</span>

<span class="sd">        If context is None, an application-defined policy is used to choose</span>
<span class="sd">        an appropriate service manager from which to get an &#39;Adapters&#39; service.</span>

<span class="sd">        If &#39;context&#39; is not None, context is adapted to IServiceService,</span>
<span class="sd">        and this adapter&#39;s &#39;Adapters&#39; service is used.</span>

<span class="sd">        The name consisting of an empty string is reserved for unnamed</span>
<span class="sd">        adapters. The unnamed adapter methods will often call the</span>
<span class="sd">        named adapter methods with an empty string for a name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getAdapters"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getAdapters">[docs]</a>    <span class="k">def</span> <span class="nf">getAdapters</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">provided</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Look for all matching adapters to a provided interface for objects</span>

<span class="sd">        Return a list of adapters that match. If an adapter is named, only the</span>
<span class="sd">        most specific adapter of a given name is returned.</span>

<span class="sd">        If context is None, an application-defined policy is used to choose</span>
<span class="sd">        an appropriate service manager from which to get an &#39;Adapters&#39;</span>
<span class="sd">        service.</span>

<span class="sd">        If &#39;context&#39; is not None, context is adapted to IServiceService,</span>
<span class="sd">        and this adapter&#39;s &#39;Adapters&#39; service is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.subscribers"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.subscribers">[docs]</a>    <span class="k">def</span> <span class="nf">subscribers</span><span class="p">(</span><span class="n">required</span><span class="p">,</span> <span class="n">provided</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get subscribers</span>

<span class="sd">        Subscribers are returned that provide the provided interface</span>
<span class="sd">        and that depend on and are computed from the sequence of</span>
<span class="sd">        required objects.</span>

<span class="sd">        If context is None, an application-defined policy is used to choose</span>
<span class="sd">        an appropriate service manager from which to get an &#39;Adapters&#39;</span>
<span class="sd">        service.</span>

<span class="sd">        If &#39;context&#39; is not None, context is adapted to IServiceService,</span>
<span class="sd">        and this adapter&#39;s &#39;Adapters&#39; service is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.handle"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.handle">[docs]</a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="o">*</span><span class="n">objects</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Call all of the handlers for the given objects</span>

<span class="sd">        Handlers are subscription adapter factories that don&#39;t produce</span>
<span class="sd">        anything.  They do all of their work when called.  Handlers</span>
<span class="sd">        are typically used to handle events.</span>

<span class="sd">        &quot;&quot;&quot;</span>

</div>
<div class="viewcode-block" id="IComponentArchitecture.adapts"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.adapts">[docs]</a>    <span class="k">def</span> <span class="nf">adapts</span><span class="p">(</span><span class="o">*</span><span class="n">interfaces</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Declare that a class adapts the given interfaces.</span>

<span class="sd">        This function can only be used in a class definition.</span>

<span class="sd">        (TODO, allow classes to be passed as well as interfaces.)</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c"># Factory service</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.createObject"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.createObject">[docs]</a>    <span class="k">def</span> <span class="nf">createObject</span><span class="p">(</span><span class="n">factory_name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create an object using a factory</span>

<span class="sd">        Finds the named factory in the current site and calls it with</span>
<span class="sd">        the given arguments.  If a matching factory cannot be found</span>
<span class="sd">        raises ComponentLookupError.  Returns the created object.</span>

<span class="sd">        A context keyword argument can be provided to cause the</span>
<span class="sd">        factory to be looked up in a location other than the current</span>
<span class="sd">        site.  (Of course, this means that it is impossible to pass a</span>
<span class="sd">        keyword argument named &quot;context&quot; to the factory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getFactoryInterfaces"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getFactoryInterfaces">[docs]</a>    <span class="k">def</span> <span class="nf">getFactoryInterfaces</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get interfaces implemented by a factory</span>

<span class="sd">        Finds the factory of the given name that is nearest to the</span>
<span class="sd">        context, and returns the interface or interface tuple that</span>
<span class="sd">        object instances created by the named factory will implement.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentArchitecture.getFactoriesFor"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentArchitecture.getFactoriesFor">[docs]</a>    <span class="k">def</span> <span class="nf">getFactoriesFor</span><span class="p">(</span><span class="n">interface</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple (name, factory) of registered factories that</span>
<span class="sd">        create objects which implement the given interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>

</div></div>
<div class="viewcode-block" id="IRegistry"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IRegistry">[docs]</a><span class="k">class</span> <span class="nc">IRegistry</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Object that supports component registry</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IRegistry.registrations"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IRegistry.registrations">[docs]</a>    <span class="k">def</span> <span class="nf">registrations</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of component registrations</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div></div>
<div class="viewcode-block" id="IComponentRegistrationConvenience"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentRegistrationConvenience">[docs]</a><span class="k">class</span> <span class="nc">IComponentRegistrationConvenience</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;API for registering components.</span>

<span class="sd">    CAUTION: This API should only be used from test or</span>
<span class="sd">    application-setup code. This api shouldn&#39;t be used by regular</span>
<span class="sd">    library modules, as component registration is a configuration</span>
<span class="sd">    activity.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IComponentRegistrationConvenience.provideUtility"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentRegistrationConvenience.provideUtility">[docs]</a>    <span class="k">def</span> <span class="nf">provideUtility</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">provides</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">_BLANK</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Register a utility globally</span>

<span class="sd">        A utility is registered to provide an interface with a</span>
<span class="sd">        name. If a component provides only one interface, then the</span>
<span class="sd">        provides argument can be omitted and the provided interface</span>
<span class="sd">        will be used. (In this case, provides argument can still be</span>
<span class="sd">        provided to provide a less specific interface.)</span>

<span class="sd">        CAUTION: This API should only be used from test or</span>
<span class="sd">        application-setup code. This API shouldn&#39;t be used by regular</span>
<span class="sd">        library modules, as component registration is a configuration</span>
<span class="sd">        activity.</span>

<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentRegistrationConvenience.provideAdapter"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentRegistrationConvenience.provideAdapter">[docs]</a>    <span class="k">def</span> <span class="nf">provideAdapter</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="n">adapts</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">provides</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">_BLANK</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Register an adapter globally</span>

<span class="sd">        An adapter is registered to provide an interface with a name</span>
<span class="sd">        for some number of object types. If a factory implements only</span>
<span class="sd">        one interface, then the provides argument can be omitted and</span>
<span class="sd">        the provided interface will be used. (In this case, a provides</span>
<span class="sd">        argument can still be provided to provide a less specific</span>
<span class="sd">        interface.)</span>

<span class="sd">        If the factory has an adapts declaration, then the adapts</span>
<span class="sd">        argument can be omitted and the declaration will be used.  (An</span>
<span class="sd">        adapts argument can be provided to override the declaration.)</span>

<span class="sd">        CAUTION: This API should only be used from test or</span>
<span class="sd">        application-setup code. This API shouldn&#39;t be used by regular</span>
<span class="sd">        library modules, as component registration is a configuration</span>
<span class="sd">        activity.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentRegistrationConvenience.provideSubscriptionAdapter"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentRegistrationConvenience.provideSubscriptionAdapter">[docs]</a>    <span class="k">def</span> <span class="nf">provideSubscriptionAdapter</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="n">adapts</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">provides</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Register a subscription adapter</span>

<span class="sd">        A subscription adapter is registered to provide an interface</span>
<span class="sd">        for some number of object types. If a factory implements only</span>
<span class="sd">        one interface, then the provides argument can be omitted and</span>
<span class="sd">        the provided interface will be used. (In this case, a provides</span>
<span class="sd">        argument can still be provided to provide a less specific</span>
<span class="sd">        interface.)</span>

<span class="sd">        If the factory has an adapts declaration, then the adapts</span>
<span class="sd">        argument can be omitted and the declaration will be used.  (An</span>
<span class="sd">        adapts argument can be provided to override the declaration.)</span>

<span class="sd">        CAUTION: This API should only be used from test or</span>
<span class="sd">        application-setup code. This API shouldn&#39;t be used by regular</span>
<span class="sd">        library modules, as component registration is a configuration</span>
<span class="sd">        activity.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IComponentRegistrationConvenience.provideHandler"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IComponentRegistrationConvenience.provideHandler">[docs]</a>    <span class="k">def</span> <span class="nf">provideHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">adapts</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Register a handler</span>

<span class="sd">        Handlers are subscription adapter factories that don&#39;t produce</span>
<span class="sd">        anything.  They do all of their work when called.  Handlers</span>
<span class="sd">        are typically used to handle events.</span>

<span class="sd">        If the handler has an adapts declaration, then the adapts</span>
<span class="sd">        argument can be omitted and the declaration will be used.  (An</span>
<span class="sd">        adapts argument can be provided to override the declaration.)</span>

<span class="sd">        CAUTION: This API should only be used from test or</span>
<span class="sd">        application-setup code. This API shouldn&#39;t be used by regular</span>
<span class="sd">        library modules, as component registration is a configuration</span>
<span class="sd">        activity.</span>
<span class="sd">        &quot;&quot;&quot;</span>

</div></div>
<div class="viewcode-block" id="IPossibleSite"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IPossibleSite">[docs]</a><span class="k">class</span> <span class="nc">IPossibleSite</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An object that could be a site.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IPossibleSite.setSiteManager"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IPossibleSite.setSiteManager">[docs]</a>    <span class="k">def</span> <span class="nf">setSiteManager</span><span class="p">(</span><span class="n">sitemanager</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the site manager for this object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="IPossibleSite.getSiteManager"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IPossibleSite.getSiteManager">[docs]</a>    <span class="k">def</span> <span class="nf">getSiteManager</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Returns the site manager contained in this object.</span>

<span class="sd">        If there isn&#39;t a site manager, raise a component lookup.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</div></div>
<div class="viewcode-block" id="ISite"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.ISite">[docs]</a><span class="k">class</span> <span class="nc">ISite</span><span class="p">(</span><span class="n">IPossibleSite</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Marker interface to indicate that we have a site&quot;&quot;&quot;</span>
</div>
<div class="viewcode-block" id="Misused"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.Misused">[docs]</a><span class="k">class</span> <span class="nc">Misused</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A component is being used (registered) for the wrong interface.&quot;&quot;&quot;</span>

</div>
<div class="viewcode-block" id="IFactory"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IFactory">[docs]</a><span class="k">class</span> <span class="nc">IFactory</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A factory is responsible for creating other components.&quot;&quot;&quot;</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;The factory title.&quot;</span><span class="p">)</span>

    <span class="n">description</span> <span class="o">=</span> <span class="n">Attribute</span><span class="p">(</span><span class="s">&quot;A brief description of the factory.&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="IFactory.__call__"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IFactory.__call__">[docs]</a>    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an instance of the objects we&#39;re a factory for.&quot;&quot;&quot;</span>

</div>
<div class="viewcode-block" id="IFactory.getInterfaces"><a class="viewcode-back" href="../../../api/interfaces.html#zope.component.interfaces.IFactory.getInterfaces">[docs]</a>    <span class="k">def</span> <span class="nf">getInterfaces</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Get the interfaces implemented by the factory</span>

<span class="sd">        Return the interface(s), as an instance of Implements, that objects</span>
<span class="sd">        created by this factory will implement. If the callable&#39;s Implements</span>
<span class="sd">        instance cannot be created, an empty Implements instance is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div></div></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">zope.configuration 4.0 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../component.html" >zope.component</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Zope Foundation Contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>