<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>HTMLTemplate | 9. Design tips</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<style type="text/css" media="all"><!--@import url(full.css);--></style>

</head>
<body>

<h1>9. Design tips</h1>

<!-- top navigation -->
<div class="navbar">
    <a href="08_tutorial2.html">Previous</a> | <a href="index.html">Up</a> | <a href="10_faq.html">Next</a>
    
</div>

<!-- content -->
<div id="content">


<h2>Template design tips</h2>

<p>Where two or more sibling nodes share the same type and name, only the first is included in the compiled template and the rest discarded. (If two or more sibling nodes share the same name but have different types, then unless the first node is type <code>rep</code> and the other of type <code>sep</code> a <code>ParseError</code> will occur.)</p>

<p>The parser automatically removes the special attribute from any element it converts into a template node. Tag attributes whose name is the same as that used for special attributes but whose value isn't a recognised compiler directive are treated are left unchanged.</p>

<p>Separators must be declared after their corresponding <code>Repeater</code> nodes.</p>

<p>When authoring a template, you'll sometimes want to group two or more adjacent nodes so they can be repeated as a single block. If the HTML doesn't already contain a suitable parent element to add the <code>rep</code> compiler directive to, insert an extra <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code> element that wraps these nodes and add the <code>rep</code> directive to convert it to create your <code>Repeater</code> node. You can the use the 'minus tags' modifier to omit this element from the rendered page. <a href="08_tutorial2.html">Tutorial 2</a> covers this technique in more detail.</p>


<h2>Controller design tips</h2>

<p>When setting a node's content, make sure you write:</p>

<pre><code>node.foo.content = val</code></pre>

<p>not:</p>

<pre><code>node.foo = val</code></pre>

<p>The first assigns <code>val</code> as the node's content, the second replaces the node itself.</p>


<h2>Template rendering tips</h2>

<p>The attributes property, atts, performs basic validation of user-supplied attribute names and values for security:</p>

<ul>
<li>An attribute's name must match the pattern <code>^[a-zA-Z_][-.:a-zA-Z_0-9]*$</code></li>
<li>An attribute's value may not contain both single and double quotes.</li>
</ul>

<p>While HTMLTemplate will single/double-quote attribute values as appropriate, it won't perform any special encoding of values. Any attribute value encoding is left to the user's code, e.g. using urllib's <code>quote</code> and <code>unquote</code> functions.</p>


<h2>Miscellaneous notes</h2>

<p>The public class structure shown in this documentation is slightly simplified from the actual (multiple inheritance-based) implementation to make it easier to understand. This is not something end users should worry about.</p>



</div>

<!-- bottom navigation -->
<div class="navbar">
    <a href="08_tutorial2.html">Previous</a> | <a href="index.html">Up</a> | <a href="10_faq.html">Next</a>
    
</div>

<!--footer-->
<p class="footer">&copy; 2008 HAS</p>
</body>
</html>