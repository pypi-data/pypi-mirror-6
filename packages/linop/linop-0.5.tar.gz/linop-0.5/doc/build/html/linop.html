

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The linop Module &mdash; linop 0.5 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="linop 0.5 documentation" href="index.html" />
    <link rel="next" title="The blkop Module" href="blkop.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">linop 0.5 documentation</a></div>
        <div class="rel">
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |
          <a href="blkop.html" title="The blkop Module"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-linop.linop">
<span id="the-linop-module"></span><span id="linop-page"></span><h1>The <a class="reference internal" href="index.html#module-linop" title="linop"><tt class="xref py py-mod docutils literal"><span class="pre">linop</span></tt></a> Module<a class="headerlink" href="#module-linop.linop" title="Permalink to this headline">¶</a></h1>
<div class="section" id="base-class-for-linear-operators">
<h2>Base Class for Linear Operators<a class="headerlink" href="#base-class-for-linear-operators" title="Permalink to this headline">¶</a></h2>
<p>All linear operators derive from the base class <tt class="docutils literal"><span class="pre">BaseLinearOperator</span></tt>. This
base class is not meant to be used directly to define linear operators, other
than by subclassing to define classes of more specific linear operators.</p>
<dl class="class">
<dt id="linop.linop.BaseLinearOperator">
<em class="property">class </em><tt class="descclassname">linop.linop.</tt><tt class="descname">BaseLinearOperator</tt><big>(</big><em>nargin</em>, <em>nargout</em>, <em>symmetric=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.linop.BaseLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class defining the common interface shared by all linear operators.</p>
<p>A linear operator is a linear mapping x -&gt; A(x) such that the size of the
input vector x is <cite>nargin</cite> and the size of the output is <cite>nargout</cite>. It can
be visualized as a matrix of shape (<cite>nargout</cite>, <cite>nargin</cite>). Its type is any
valid Numpy <cite>dtype</cite>. By default, it has <cite>dtype</cite> <cite>numpy.float</cite> but this can
be changed to, e.g., <cite>numpy.complex</cite> via the <cite>dtype</cite> keyword argument and
attribute.</p>
<p>A logger may be attached to the linear operator via the <cite>logger</cite> keyword
argument.</p>
<dl class="attribute">
<dt id="linop.linop.BaseLinearOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.linop.BaseLinearOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.BaseLinearOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.linop.BaseLinearOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.BaseLinearOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.linop.BaseLinearOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.BaseLinearOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.linop.BaseLinearOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.BaseLinearOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.BaseLinearOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.BaseLinearOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.linop.BaseLinearOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.BaseLinearOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.linop.BaseLinearOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="linear-operators-defined-by-functions">
<h2>Linear Operators Defined by Functions<a class="headerlink" href="#linear-operators-defined-by-functions" title="Permalink to this headline">¶</a></h2>
<p>It is intuitive to define an operator by its <em>action</em> on vectors. The
<tt class="docutils literal"><span class="pre">LinearOperator</span></tt> class takes arguments <tt class="docutils literal"><span class="pre">matvec</span></tt> and <tt class="docutils literal"><span class="pre">matvec_transp</span></tt> to
define the action of the operator and of its transpose.</p>
<p>Here is a simple example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">matvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">matvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">v</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span>
                   <span class="n">matvec_transp</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">))))</span>
</pre></div>
</div>
<p>Here, <tt class="docutils literal"><span class="pre">A</span></tt> represents the operator <span class="math">\(2I\)</span>, where <span class="math">\(I\)</span> is the identity
and <tt class="docutils literal"><span class="pre">B</span></tt> could be represented by the matrix</p>
<div class="math">
\[\begin{split}\begin{bmatrix}
  1 &amp; &amp; &amp; \\
    &amp; 2 &amp; &amp; \\
    &amp; &amp; 3 &amp; 0 \\
\end{bmatrix}.\end{split}\]</div>
<p>Note that any callable object can be used to pass values for <tt class="docutils literal"><span class="pre">matvec</span></tt> and
<tt class="docutils literal"><span class="pre">matvec_transp</span></tt>. For example :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>

<span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>

<span class="n">myobject</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">matvec</span><span class="o">=</span><span class="n">func</span><span class="p">,</span> <span class="n">matvec_transp</span><span class="o">=</span><span class="n">myobject</span><span class="p">)</span>
</pre></div>
</div>
<p>is perfectly valid. Based on this example, arbitrarily complex operators may be
built.</p>
<dl class="class">
<dt id="linop.linop.LinearOperator">
<em class="property">class </em><tt class="descclassname">linop.linop.</tt><tt class="descname">LinearOperator</tt><big>(</big><em>nargin</em>, <em>nargout</em>, <em>matvec</em>, <em>matvec_transp=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.linop.LinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#linop.linop.BaseLinearOperator" title="linop.linop.BaseLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.linop.BaseLinearOperator</span></tt></a></p>
<p>Generic linear operator class.</p>
<p>A linear operator constructed from a <cite>matvec</cite> and (possibly) a
<cite>matvec_transp</cite> function. If <cite>symmetric</cite> is <cite>True</cite>, <cite>matvec_transp</cite> is
ignored. All other keyword arguments are passed directly to the superclass.</p>
<dl class="attribute">
<dt id="linop.linop.LinearOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.linop.LinearOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.LinearOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.linop.LinearOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.LinearOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.linop.LinearOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.LinearOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.linop.LinearOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.LinearOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.linop.LinearOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.LinearOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.linop.LinearOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.LinearOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.LinearOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.LinearOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.linop.LinearOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.LinearOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.linop.LinearOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.LinearOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.LinearOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="simple-common-predefined-linear-operators">
<h2>Simple Common Predefined Linear Operators<a class="headerlink" href="#simple-common-predefined-linear-operators" title="Permalink to this headline">¶</a></h2>
<p>A few common operators are predefined, such as the identity, the zero operator,
and a class for diagonal operators.</p>
<dl class="class">
<dt id="linop.linop.IdentityOperator">
<em class="property">class </em><tt class="descclassname">linop.linop.</tt><tt class="descname">IdentityOperator</tt><big>(</big><em>nargin</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.linop.IdentityOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#linop.linop.LinearOperator" title="linop.linop.LinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.linop.LinearOperator</span></tt></a></p>
<p>Class representing the identity operator of size <cite>nargin</cite>.</p>
<dl class="attribute">
<dt id="linop.linop.IdentityOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.linop.IdentityOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.IdentityOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.linop.IdentityOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.IdentityOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.linop.IdentityOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.IdentityOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.linop.IdentityOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.IdentityOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.linop.IdentityOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.IdentityOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.linop.IdentityOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.IdentityOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.IdentityOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.IdentityOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.linop.IdentityOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.IdentityOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.linop.IdentityOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.IdentityOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.IdentityOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="linop.linop.ZeroOperator">
<em class="property">class </em><tt class="descclassname">linop.linop.</tt><tt class="descname">ZeroOperator</tt><big>(</big><em>nargin</em>, <em>nargout</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.linop.ZeroOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#linop.linop.LinearOperator" title="linop.linop.LinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.linop.LinearOperator</span></tt></a></p>
<p>Class representing the zero operator of shape <cite>nargout</cite>-by-<cite>nargin</cite>.</p>
<dl class="attribute">
<dt id="linop.linop.ZeroOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.linop.ZeroOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.ZeroOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.linop.ZeroOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.ZeroOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.linop.ZeroOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.ZeroOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.linop.ZeroOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.ZeroOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.linop.ZeroOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.ZeroOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.linop.ZeroOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.ZeroOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.ZeroOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.ZeroOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.linop.ZeroOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.ZeroOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.linop.ZeroOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.ZeroOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.ZeroOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Diagonal operators are simply defined by their diagonal as a Numpy array. For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">DiagonalOperator</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="linop.linop.DiagonalOperator">
<em class="property">class </em><tt class="descclassname">linop.linop.</tt><tt class="descname">DiagonalOperator</tt><big>(</big><em>diag</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.linop.DiagonalOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#linop.linop.LinearOperator" title="linop.linop.LinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.linop.LinearOperator</span></tt></a></p>
<p>Class representing a diagonal operator.</p>
<p>A diagonal linear operator defined by its diagonal <cite>diag</cite> (a Numpy array.)
The type must be specified in the <cite>diag</cite> argument, e.g.,
<cite>np.ones(5, dtype=np.complex)</cite> or <cite>np.ones(5).astype(np.complex)</cite>.</p>
<dl class="attribute">
<dt id="linop.linop.DiagonalOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.linop.DiagonalOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.DiagonalOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.linop.DiagonalOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.DiagonalOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.linop.DiagonalOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.DiagonalOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.linop.DiagonalOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.DiagonalOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.linop.DiagonalOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.DiagonalOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.linop.DiagonalOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.DiagonalOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.DiagonalOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.DiagonalOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.linop.DiagonalOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.DiagonalOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.linop.DiagonalOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.DiagonalOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.DiagonalOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>Matrix operators wraps calls to the dot and tranposed dot product of the
provided Numpy array. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">MatrixLinearOperator</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="linop.linop.MatrixLinearOperator">
<em class="property">class </em><tt class="descclassname">linop.linop.</tt><tt class="descname">MatrixLinearOperator</tt><big>(</big><em>matrix</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.linop.MatrixLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#linop.linop.LinearOperator" title="linop.linop.LinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.linop.LinearOperator</span></tt></a></p>
<p>Class representing a matrix operator.</p>
<p>A linear operator wrapping the multiplication with a matrix and its
transpose (real) or conjugate transpose (complex). The operator&#8217;s dtype
is the same as the specified <cite>matrix</cite> argument.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.3.</span></p>
<dl class="attribute">
<dt id="linop.linop.MatrixLinearOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.linop.MatrixLinearOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.MatrixLinearOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.linop.MatrixLinearOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.MatrixLinearOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.linop.MatrixLinearOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.MatrixLinearOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.linop.MatrixLinearOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.MatrixLinearOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.linop.MatrixLinearOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.MatrixLinearOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.linop.MatrixLinearOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.MatrixLinearOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.MatrixLinearOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.MatrixLinearOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.linop.MatrixLinearOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.linop.MatrixLinearOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.linop.MatrixLinearOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.linop.MatrixLinearOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.linop.MatrixLinearOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="convenience-functions">
<h2>Convenience Functions<a class="headerlink" href="#convenience-functions" title="Permalink to this headline">¶</a></h2>
<p>Typically, linear operators don&#8217;t come alone and an operator is often used to
define other operators. An example is reduction. Suppose <span class="math">\(A\)</span> is a linear
operator from <span class="math">\(\mathbb{R}^n\)</span> into <span class="math">\(\mathbb{R^m}\)</span>,
<span class="math">\(\mathcal{Z}\)</span> is a subspace of <span class="math">\(\mathbb{R}^n\)</span> and
<span class="math">\(\mathcal{Y}\)</span> is a subspace of <span class="math">\(\mathbb{R}^m\)</span>. Sometimes it is
useful to consider <span class="math">\(A\)</span> restricted to <span class="math">\(\mathcal{Z}\)</span> and
co-restricted to <span class="math">\(\mathcal{Y}\)</span>. Assuming that <span class="math">\(A\)</span> is a matrix
representing the linear operator and <span class="math">\(Z\)</span> and <span class="math">\(Y\)</span> are matrices whose
columns form bases of the subspaces <span class="math">\(\mathcal{Z}\)</span> and
<span class="math">\(\mathcal{Y}\)</span>, respectively, then the restricted operator may be written
<span class="math">\(Y^T A Z\)</span>.</p>
<p>A simple version of this type of reduction is where we only consider a subset
of the rows and columns of the matrix <span class="math">\(A\)</span>, which corresponds to subspaces
<span class="math">\(\mathcal{Z}\)</span> and <span class="math">\(\mathcal{Y}\)</span> aligned with the axes of
coordinates.</p>
<p>Note that by default, the reduced linear operator is considered to be
non-symmetric even if the original operator was symmetric.</p>
<dl class="function">
<dt id="linop.linop.ReducedLinearOperator">
<tt class="descclassname">linop.linop.</tt><tt class="descname">ReducedLinearOperator</tt><big>(</big><em>op</em>, <em>row_indices</em>, <em>col_indices</em><big>)</big><a class="headerlink" href="#linop.linop.ReducedLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement reduction of a linear operator (non symmetrical).</p>
<p>Reduce a linear operator by limiting its input to <cite>col_indices</cite> and its
output to <cite>row_indices</cite>.</p>
</dd></dl>

<p>A special case of this type of reduction is when <tt class="docutils literal"><span class="pre">row_indices</span></tt> and
<tt class="docutils literal"><span class="pre">col_indices</span></tt> are the same. This is often useful in combination with square
symmetric operators. In this case, the reduced operator possesses the same
symmetry as the original operator.</p>
<dl class="function">
<dt id="linop.linop.SymmetricallyReducedLinearOperator">
<tt class="descclassname">linop.linop.</tt><tt class="descname">SymmetricallyReducedLinearOperator</tt><big>(</big><em>op</em>, <em>indices</em><big>)</big><a class="headerlink" href="#linop.linop.SymmetricallyReducedLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement reduction of a linear operator (symmetrical).</p>
<p>Reduce a linear operator symmetrically by reducing boths its input and
output to <cite>indices</cite>.</p>
</dd></dl>

<p>An obvious use case of linear operators is matrices themselves! The following
convenience functions allows to build linear operators from various
matrix-like input, such as <a class="reference external" href="http://pysparse.sf.net">Pysparse</a> sparse
matrices or Numpy arrays.</p>
<dl class="function">
<dt id="linop.linop.PysparseLinearOperator">
<tt class="descclassname">linop.linop.</tt><tt class="descname">PysparseLinearOperator</tt><big>(</big><em>A</em><big>)</big><a class="headerlink" href="#linop.linop.PysparseLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a linear operator from a Pysparse sparse matrix.</p>
</dd></dl>

<dl class="function">
<dt id="linop.linop.linop_from_ndarray">
<tt class="descclassname">linop.linop.</tt><tt class="descname">linop_from_ndarray</tt><big>(</big><em>A</em><big>)</big><a class="headerlink" href="#linop.linop.linop_from_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a linear operator from a Numpy <cite>ndarray</cite>.</p>
<p class="deprecated">
<span class="versionmodified">Deprecated since version 0.4: </span>Use <a class="reference internal" href="#linop.linop.MatrixLinearOperator" title="linop.linop.MatrixLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">MatrixLinearOperator</span></tt></a> or <a class="reference internal" href="#linop.linop.aslinearoperator" title="linop.linop.aslinearoperator"><tt class="xref py py-func docutils literal"><span class="pre">aslinearoperator()</span></tt></a> instead.</p>
</dd></dl>

<dl class="function">
<dt id="linop.linop.aslinearoperator">
<tt class="descclassname">linop.linop.</tt><tt class="descname">aslinearoperator</tt><big>(</big><em>A</em><big>)</big><a class="headerlink" href="#linop.linop.aslinearoperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return A as a LinearOperator.</p>
<p>&#8216;A&#8217; may be any of the following types:
- linop.LinearOperator
- scipy.LinearOperator
- ndarray
- matrix
- sparse matrix (e.g. csr_matrix, lil_matrix, etc.)
- any object with .shape and .matvec attributes</p>
<p>See the <a class="reference internal" href="#linop.linop.LinearOperator" title="linop.linop.LinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">LinearOperator</span></tt></a> documentation for additonal information.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.4.</span></p>
</dd></dl>

</div>
<div class="section" id="aliases">
<h2>Aliases<a class="headerlink" href="#aliases" title="Permalink to this headline">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">New in version 0.5.</span></p>
<p>Shorter aliases to some linear operators are now available and listed below:</p>
<ul class="simple">
<li><cite>MatrixOperator</cite> for <a class="reference internal" href="#linop.linop.MatrixLinearOperator" title="linop.linop.MatrixLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">MatrixLinearOperator</span></tt></a></li>
</ul>
</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="linop.linop.ShapeError">
<em class="property">exception </em><tt class="descclassname">linop.linop.</tt><tt class="descname">ShapeError</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#linop.linop.ShapeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception class for handling shape mismatch errors.</p>
<p>Exception raised when defining a linear operator of the wrong shape or
multiplying a linear operator with a vector of the wrong shape.</p>
</dd></dl>

</div>
<div class="section" id="operations-with-operators">
<h2>Operations with operators<a class="headerlink" href="#operations-with-operators" title="Permalink to this headline">¶</a></h2>
<p>Linear operators, whether defined by blocks or not, may be added together or
composed following the usual rules of linear algebra. An operator may be
multiplied by a scalar or by another operator. Operators of the same shape may
be added or subtracted. Those operations are essentially free in the sense that
a new linear operator results of them, which encapsulates the appropriate rules
for multiplication by a vector. It is only when the resulting operator is
applied to a vector that the appropriate chain of operations is applied. For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">AB</span> <span class="o">=</span> <span class="n">A</span> <span class="o">*</span> <span class="n">B</span>
<span class="n">AA</span> <span class="o">=</span> <span class="n">A</span> <span class="o">*</span> <span class="n">A</span><span class="o">.</span><span class="n">T</span>
<span class="n">G</span>  <span class="o">=</span> <span class="n">E</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">B</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">B</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Linear Operators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#base-class-for-linear-operators">Base Class for Linear Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linear-operators-defined-by-functions">Linear Operators Defined by Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-common-predefined-linear-operators">Simple Common Predefined Linear Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#convenience-functions">Convenience Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aliases">Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#operations-with-operators">Operations with operators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="blkop.html">Block Linear Operators</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="intro.html" title="Introduction"
             >previous</a> |
          <a href="blkop.html" title="The blkop Module"
             >next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/linop.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2013, G. Vaillant.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>