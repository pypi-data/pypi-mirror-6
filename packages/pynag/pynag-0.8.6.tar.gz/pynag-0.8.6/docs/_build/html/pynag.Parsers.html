

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Parsers Package &mdash; pynag 0.8.5 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.8.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pynag 0.8.5 documentation" href="index.html" />
    <link rel="up" title="The pynag module" href="pynag.html" />
    <link rel="next" title="Plugins Package" href="pynag.Plugins.html" />
    <link rel="prev" title="EventHandlers Package" href="pynag.Model.EventHandlers.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pynag.Plugins.html" title="Plugins Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pynag.Model.EventHandlers.html" title="EventHandlers Package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pynag 0.8.5 documentation</a> &raquo;</li>
          <li><a href="pynag.html" accesskey="U">The pynag module</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="parsers-package">
<h1>Parsers Package<a class="headerlink" href="#parsers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">Parsers</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-pynag.Parsers"></span><dl class="class">
<dt id="pynag.Parsers.Config">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">Config</tt><big>(</big><em>cfg_file=None</em>, <em>strict=False</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and write nagios config files</p>
<dl class="method">
<dt id="pynag.Parsers.Config.abspath">
<tt class="descname">abspath</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.abspath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path of a given relative path.</p>
<p>The current working directory is assumed to be the dirname of nagios.cfg</p>
<p>Example:
&gt;&gt;&gt; c = config(cfg_file=&#8221;/etc/nagios/nagios.cfg&#8221;)
&gt;&gt;&gt; c.abspath(&#8216;nagios.cfg&#8217;)
&#8216;/etc/nagios/nagios.cfg&#8217;
&gt;&gt;&gt; c.abspath(&#8216;/etc/nagios/nagios.cfg&#8217;)
&#8216;/etc/nagios/nagios.cfg&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.access">
<tt class="descname">access</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.access" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.access</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.cleanup">
<tt class="descname">cleanup</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove configuration files that have no configuration items</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.commit">
<tt class="descname">commit</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Write any changes that have been made to it&#8217;s appropriate file</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.compareObjects">
<tt class="descname">compareObjects</tt><big>(</big><em>item1</em>, <em>item2</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.compareObjects" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two items. Returns true if they are equal</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.delete_host">
<tt class="descname">delete_host</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.delete_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a host from its configuration files</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.delete_hostgroup">
<tt class="descname">delete_hostgroup</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.delete_hostgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a hostgroup from its configuration files</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.delete_object">
<tt class="descname">delete_object</tt><big>(</big><em>object_type</em>, <em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.delete_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete object from configuration files</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.delete_service">
<tt class="descname">delete_service</tt><big>(</big><em>service_description</em>, <em>host_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.delete_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete service from configuration files</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.edit_object">
<tt class="descname">edit_object</tt><big>(</big><em>item</em>, <em>field_name</em>, <em>new_value</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.edit_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies a (currently existing) item. Changes are immediate (i.e. there is no commit)</p>
<p>Example Usage: edit_object( item, field_name=&#8221;host_name&#8221;, new_value=&#8221;examplehost.example.com&#8221;)</p>
<p>THIS FUNCTION IS DEPRECATED. USE item_edit_field() instead</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.edit_service">
<tt class="descname">edit_service</tt><big>(</big><em>target_host</em>, <em>service_description</em>, <em>field_name</em>, <em>new_value</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.edit_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit a service&#8217;s attributes</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.exists">
<tt class="descname">exists</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.path.exists</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.extended_parse">
<tt class="descname">extended_parse</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.extended_parse" title="Permalink to this definition">¶</a></dt>
<dd><p>This parse is used after the initial parse() command is run.  It is
only needed if you want extended meta information about hosts or other objects</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.flag_all_commit">
<tt class="descname">flag_all_commit</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.flag_all_commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag every item in the configuration to be committed
This should probably only be used for debugging purposes</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_cfg_dirs">
<tt class="descname">get_cfg_dirs</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_cfg_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all cfg directories used in this configuration</p>
<p>Example:
print(get_cfg_dirs())
[&#8216;/etc/nagios/hosts&#8217;,&#8217;/etc/nagios/objects&#8217;,...]</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_cfg_files">
<tt class="descname">get_cfg_files</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_cfg_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all cfg files used in this configuration</p>
<p>Filenames are normalised so that if nagios.cfg specifies relative filenames
we will convert it to fully qualified filename before returning.</p>
<p>Example:
print(get_cfg_files())
[&#8216;/etc/nagios/hosts/host1.cfg&#8217;,&#8217;/etc/nagios/hosts/host2.cfg&#8217;,...]</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_cfg_value">
<tt class="descname">get_cfg_value</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_cfg_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns one specific value from your nagios.cfg file, None if value is not found.
Arguments:</p>
<blockquote>
<div>key - what attribute to fetch from nagios.cfg (example: &#8220;command_file&#8221; )</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>String of the first value found for</dd>
<dt>Example:</dt>
<dd><div class="first highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">config</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">log_file</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get_cfg_value</span><span class="p">(</span><span class="s">&#39;log_file&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="last"># Should return something like &#8220;/var/log/nagios/nagios.log&#8221;</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_command">
<tt class="descname">get_command</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Command object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_contact">
<tt class="descname">get_contact</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_contact" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Contact object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_contactgroup">
<tt class="descname">get_contactgroup</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_contactgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Contactgroup object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_host">
<tt class="descname">get_host</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a host object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_hostdependency">
<tt class="descname">get_hostdependency</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_hostdependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a hostdependency object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_hostgroup">
<tt class="descname">get_hostgroup</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_hostgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a hostgroup object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_new_item">
<tt class="descname">get_new_item</tt><big>(</big><em>object_type</em>, <em>filename</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_new_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an empty item with all necessary metadata</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_object">
<tt class="descname">get_object</tt><big>(</big><em>object_type</em>, <em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a complete object dictionary</p>
<p>Returns None if object is not found</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_object_types">
<tt class="descname">get_object_types</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_object_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all discovered object types</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_resource">
<tt class="descname">get_resource</tt><big>(</big><em>resource_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a single resource value which can be located in any resource.cfg file</p>
<blockquote>
<div><dl class="docutils">
<dt>Arguments:</dt>
<dd>resource_name: Name as it appears in resource file (i.e. $USER1$)</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>String value of the resource value.</dd>
<dt>Raises:</dt>
<dd><ul class="first last simple">
<li>KeyError if resource is not found</li>
<li>ParserError if resource is not found and you do not have permissions</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_resources">
<tt class="descname">get_resources</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of every private resources from nagios.cfg</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_service">
<tt class="descname">get_service</tt><big>(</big><em>target_host</em>, <em>service_description</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a service object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_servicedependency">
<tt class="descname">get_servicedependency</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_servicedependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a servicedependency object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_servicegroup">
<tt class="descname">get_servicegroup</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_servicegroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Servicegroup object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_timeperiod">
<tt class="descname">get_timeperiod</tt><big>(</big><em>object_name</em>, <em>user_key=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_timeperiod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Timeperiod object</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.get_timestamps">
<tt class="descname">get_timestamps</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.get_timestamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns hash map of all nagios related files and their timestamps</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.guess_cfg_file">
<tt class="descname">guess_cfg_file</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.guess_cfg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a path to any nagios.cfg found on your system</p>
<p>Use this function if you don&#8217;t want specify path to nagios.cfg in your
code and you are confident that it is located in a common location</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.guess_nagios_binary">
<tt class="descname">guess_nagios_binary</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.guess_nagios_binary" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a path to any nagios binary found on your system</p>
<p>Use this function if you don&#8217;t want specify path to the nagios binary
in your code and you are confident that it is located in a common
location</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.guess_nagios_directory">
<tt class="descname">guess_nagios_directory</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.guess_nagios_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a path to the nagios configuration directory on your system</p>
<p>Use this function for determining the nagios config directory in your code</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.isdir">
<tt class="descname">isdir</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.isdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.path.isdir</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.isfile">
<tt class="descname">isfile</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.isfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.path.isfile</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.islink">
<tt class="descname">islink</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.islink" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.path.islink</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.item_add">
<tt class="descname">item_add</tt><big>(</big><em>item</em>, <em>filename</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.item_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new object to a specified config file</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd>item &#8211; Item to be created
filename &#8211; Filename that we are supposed to write to</dd>
<dt>Returns:</dt>
<dd>True on success</dd>
<dt>Raises:</dt>
<dd>IOError on failed save</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.item_edit_field">
<tt class="descname">item_edit_field</tt><big>(</big><em>item</em>, <em>field_name</em>, <em>new_value</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.item_edit_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies one field of a (currently existing) object. Changes are immediate (i.e. there is no commit)</p>
<dl class="docutils">
<dt>Example usage:</dt>
<dd>edit_object( item, field_name=&#8221;host_name&#8221;, new_value=&#8221;examplehost.example.com&#8221;)</dd>
<dt>Returns:</dt>
<dd>True on success</dd>
<dt>Raises:</dt>
<dd>ValueError if object is not found
IOError if save fails</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.item_remove">
<tt class="descname">item_remove</tt><big>(</big><em>item</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.item_remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete one specific item from its configuration files</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>Arguments:</dt>
<dd>item &#8211; Item that is to be rewritten
str_new_item &#8211; str representation of the new item</dd>
<dt>Examples:</dt>
<dd>item_rewrite( item, &#8220;define service {</dd>
</dl>
</div></blockquote>
<p>name example-service 
register 0 
}</p>
</div></blockquote>
<dl class="docutils">
<dt>&#8221; )</dt>
<dd><dl class="first last docutils">
<dt>Returns:</dt>
<dd>True on success</dd>
<dt>Raises:</dt>
<dd>ValueError if object is not found
IOError if save fails</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.item_remove_field">
<tt class="descname">item_remove_field</tt><big>(</big><em>item</em>, <em>field_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.item_remove_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes one field of a (currently existing) object. Changes are immediate (i.e. there is no commit)</p>
<dl class="docutils">
<dt>Example usage:</dt>
<dd>item_remove_field( item, field_name=&#8221;contactgroups&#8221; )</dd>
<dt>Returns:</dt>
<dd>True on success</dd>
<dt>Raises:</dt>
<dd>ValueError if object is not found
IOError if save fails</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.item_rename_field">
<tt class="descname">item_rename_field</tt><big>(</big><em>item</em>, <em>old_field_name</em>, <em>new_field_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.item_rename_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames a field of a (currently existing) item. Changes are immediate (i.e. there is no commit).</p>
<dl class="docutils">
<dt>Example usage:</dt>
<dd>item_rename_field(item, old_field_name=&#8221;normal_check_interval&#8221;, new_field_name=&#8221;check_interval&#8221;)</dd>
<dt>Returns:</dt>
<dd>True on success</dd>
<dt>Raises:</dt>
<dd>ValueError if object is not found
IOError if save fails</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.item_rewrite">
<tt class="descname">item_rewrite</tt><big>(</big><em>item</em>, <em>str_new_item</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.item_rewrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Completely rewrites item with string provided.</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>Arguments:</dt>
<dd>item &#8211; Item that is to be rewritten
str_new_item &#8211; str representation of the new item</dd>
<dt>Examples:</dt>
<dd>item_rewrite( item, &#8220;define service {</dd>
</dl>
</div></blockquote>
<p>name example-service 
register 0 
}</p>
</div></blockquote>
<dl class="docutils">
<dt>&#8221; )</dt>
<dd><dl class="first last docutils">
<dt>Returns:</dt>
<dd>True on success</dd>
<dt>Raises:</dt>
<dd>ValueError if object is not found
IOError if save fails</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.needs_reload">
<tt class="descname">needs_reload</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.needs_reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if Nagios service needs reload of cfg files</p>
<p>Returns False if reload not needed or Nagios is not running</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.needs_reparse">
<tt class="descname">needs_reparse</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.needs_reparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if any Nagios configuration file has changed since last parse()</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.open">
<tt class="descname">open</tt><big>(</big><em>filename</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around global open()</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.parse">
<tt class="descname">parse</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.parse_file">
<tt class="descname">parse_file</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.parse_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a nagios object configuration file and returns lists of dictionaries.</p>
<p>This is more or less a wrapper around config.parse_string, so reading documentation there
is useful.</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.parse_maincfg">
<tt class="descname">parse_maincfg</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.parse_maincfg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.parse_string">
<tt class="descname">parse_string</tt><big>(</big><em>string</em>, <em>filename='None'</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.parse_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a string, and returns all object definitions in that string</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd>string              &#8211; A string containing one or more object definitions
filename (optional) &#8211; If filename is provided, it will be referenced when raising exceptions</dd>
<dt>Examples:</dt>
<dd><div class="first highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">test_string</span> <span class="o">=</span> <span class="s">&quot;define host {</span><span class="se">\n</span><span class="s">host_name examplehost</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_string</span> <span class="o">+=</span> <span class="s">&quot;define service {</span><span class="se">\n</span><span class="s">host_name examplehost</span><span class="se">\n</span><span class="s">service_description example service</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">config</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parse_string</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span> <span class="k">print</span> <span class="n">i</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;host_name&#39;</span><span class="p">),</span> <span class="n">i</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;service_description&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="go">examplehost None</span>
<span class="go">examplehost example service</span>
</pre></div>
</div>
<dl class="last docutils">
<dt>Returns:</dt>
<dd>A list of dictionaries, that look like self.data</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.print_conf">
<tt class="descname">print_conf</tt><big>(</big><em>item</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.print_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string that can be used in a configuration file</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.readlink">
<tt class="descname">readlink</tt><big>(</big><em>selfself</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.readlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.readlink</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.remove">
<tt class="descname">remove</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.remove</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.stat">
<tt class="descname">stat</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.stat" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.stat</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Config.write">
<tt class="descname">write</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Config.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pynag.Parsers.ConfigFileNotFound">
<em class="property">exception </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">ConfigFileNotFound</tt><big>(</big><em>message</em>, <em>item=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ConfigFileNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.ParserError" title="pynag.Parsers.ParserError"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.ParserError</span></tt></a></p>
<p>This exception is thrown if we cannot locate any nagios.cfg-style config file.</p>
</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.ExtraOptsParser">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">ExtraOptsParser</tt><big>(</big><em>section_name=None</em>, <em>config_file=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Get Nagios Extra-Opts from a config file as specified by <a class="reference external" href="http://nagiosplugins.org/extra-opts">http://nagiosplugins.org/extra-opts</a></p>
<p>We could ALMOST use pythons ConfParser but nagios plugin team thought it would be a
good idea to support multiple values per key, so a dict datatype no longer works.</p>
<p>Its a shame because we have to make our own &#8220;ini&#8221; parser as a result</p>
<p>Usage:</p>
<p># cat /etc/nagios/plugins.ini
[main]
host_name = localhost
[other section]
host_name = example.com
# EOF</p>
<p>e = ExtraOptsParser(section_name=&#8217;main&#8217;, config_file=&#8217;/etc/nagios/plugins.ini&#8217;)
e.get(&#8216;host_name&#8217;)  # returns &#8220;localhost&#8221;
e.get_values()  # Returns a dict of all the extra opts
e.getlist(&#8216;host_name&#8217;)  # returns all values of host_name (if more than one were specified) in a list</p>
<dl class="method">
<dt id="pynag.Parsers.ExtraOptsParser.get">
<tt class="descname">get</tt><big>(</big><em>option_name</em>, <em>default=&lt;object object at 0x2b53a9b2e3f0&gt;</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of one specific option</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.ExtraOptsParser.get_default_config_file">
<tt class="descname">get_default_config_file</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.get_default_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to first readable extra-opt config-file found</p>
<p>According to the nagiosplugins extra-opts spec the search method is as follows</p>
<ol class="arabic simple">
<li>Search for nagios.ini or nagios-plugins.ini in : splitted variable NAGIOS_CONFIG_PATH</li>
<li>Search in a predefined list of files</li>
<li>Return None if no config file is found</li>
</ol>
<p>The method works as follows:</p>
<dl class="docutils">
<dt>To quote the spec on NAGIOS_CONFIG_PATH:</dt>
<dd>&#8220;To use a custom location, set a NAGIOS_CONFIG_PATH environment
variable to the set of directories that should be checked (this is a
colon-separated list just like PATH). The first plugins.ini or
nagios-plugins.ini file found in these directories will be used.&#8221;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.ExtraOptsParser.get_default_section_name">
<tt class="descname">get_default_section_name</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.get_default_section_name" title="Permalink to this definition">¶</a></dt>
<dd><p>According to extra-opts standard, the default should be filename of check script being run</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.ExtraOptsParser.get_values">
<tt class="descname">get_values</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.get_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict with all extra-options with the granted section_name and config_file</p>
<dl class="docutils">
<dt>Results are in the form of:</dt>
<dd><dl class="first docutils">
<dt>{</dt>
<dd>&#8216;key&#8217;: [&#8220;possible&#8221;,&#8221;values&#8221;]</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.ExtraOptsParser.getlist">
<tt class="descname">getlist</tt><big>(</big><em>option_name</em>, <em>default=&lt;object object at 0x2b53a9b2e3f0&gt;</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all values for option_name</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.ExtraOptsParser.parse_file">
<tt class="descname">parse_file</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.parse_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses an ini-file and returns a dict of the ini values.</p>
<p>The datatype returned is a list of sections where each section is a dict of values.</p>
<dl class="docutils">
<dt>Example the following the file:</dt>
<dd>[main]
name = this is a name
key = value
key = value2</dd>
<dt>Would return:</dt>
<dd><dl class="first last docutils">
<dt>[</dt>
<dd><dl class="first docutils">
<dt>{&#8216;main&#8217;:</dt>
<dd><dl class="first docutils">
<dt>{</dt>
<dd>&#8216;name&#8217;: [&#8216;this is a name&#8217;],
&#8216;key&#8217;: [value, value2]</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p class="last">},
]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.ExtraOptsParser.parse_string">
<tt class="descname">parse_string</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.parse_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsers a string that is supposed to be ini-style format. See parse_file() for more ifno</p>
</dd></dl>

<dl class="attribute">
<dt id="pynag.Parsers.ExtraOptsParser.standard_locations">
<tt class="descname">standard_locations</tt><em class="property"> = ['/etc/nagios/plugins.ini', '/usr/local/nagios/etc/plugins.ini', '/usr/local/etc/nagios/plugins.ini', '/etc/opt/nagios/plugins.ini', '/etc/nagios-plugins.ini', '/usr/local/etc/nagios-plugins.ini', '/etc/opt/nagios-plugins.ini']</em><a class="headerlink" href="#pynag.Parsers.ExtraOptsParser.standard_locations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.Livestatus">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">Livestatus</tt><big>(</big><em>livestatus_socket_path=None</em>, <em>nagios_cfg_file=None</em>, <em>authuser=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around MK-Livestatus</p>
<p>Example usage:
s = Livestatus()
for hostgroup s.get_hostgroups():</p>
<blockquote>
<div>print(hostgroup[&#8216;name&#8217;], hostgroup[&#8216;num_hosts&#8217;])</div></blockquote>
<dl class="method">
<dt id="pynag.Parsers.Livestatus.get">
<tt class="descname">get</tt><big>(</big><em>table</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as self.query(&#8216;GET %s&#8217; % (table,))</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_contact">
<tt class="descname">get_contact</tt><big>(</big><em>contact_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_contact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_contactgroup">
<tt class="descname">get_contactgroup</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_contactgroup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_contactgroups">
<tt class="descname">get_contactgroups</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_contactgroups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_contacts">
<tt class="descname">get_contacts</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_contacts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_host">
<tt class="descname">get_host</tt><big>(</big><em>host_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_host" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_hostgroup">
<tt class="descname">get_hostgroup</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_hostgroup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_hostgroups">
<tt class="descname">get_hostgroups</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_hostgroups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_hosts">
<tt class="descname">get_hosts</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_hosts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_service">
<tt class="descname">get_service</tt><big>(</big><em>host_name</em>, <em>service_description</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_service" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_servicegroup">
<tt class="descname">get_servicegroup</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_servicegroup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_servicegroups">
<tt class="descname">get_servicegroups</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_servicegroups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.get_services">
<tt class="descname">get_services</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.get_services" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.query">
<tt class="descname">query</tt><big>(</big><em>query</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.query" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.Livestatus.test">
<tt class="descname">test</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.Livestatus.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ParserError if there are problems communicating with livestatus socket</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pynag.Parsers.LivestatusNotConfiguredException">
<em class="property">exception </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">LivestatusNotConfiguredException</tt><big>(</big><em>message</em>, <em>item=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.LivestatusNotConfiguredException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.ParserError" title="pynag.Parsers.ParserError"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.ParserError</span></tt></a></p>
<p>This exception is raised if we tried to autodiscover path to livestatus and failed</p>
</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.LogFiles">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">LogFiles</tt><big>(</big><em>maincfg=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.LogFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Parses Logfiles defined in nagios.cfg and allows easy access to its content in
python-friendly arrays of dicts. Output should be more or less compatible with
Livestatus log output</p>
<dl class="method">
<dt id="pynag.Parsers.LogFiles.get_flap_alerts">
<tt class="descname">get_flap_alerts</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.LogFiles.get_flap_alerts" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as self.get_log_entries, except return timeperiod transitions. Takes same parameters.</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.LogFiles.get_log_entries">
<tt class="descname">get_log_entries</tt><big>(</big><em>start_time=None</em>, <em>end_time=None</em>, <em>strict=True</em>, <em>search=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.LogFiles.get_log_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Parsed log entries for given timeperiod.
Arguments:</p>
<blockquote>
<div><p>start_time &#8211; unix timestamp. if None, return all entries from today
end_time &#8211; If specified, only fetch log entries older than this (unix timestamp)
strict   &#8211; If True, only return entries between start_time and end_time, if False,</p>
<blockquote>
<div>&#8211; then return entries that belong to same log files as given timeset</div></blockquote>
<p>search   &#8211; If provided, only return log entries that contain this string (case insensitive)
kwargs   &#8211; All extra arguments are provided as filter on the log entries. f.e. host_name=&#8221;localhost&#8221;</p>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>List of dicts</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.LogFiles.get_logfiles">
<tt class="descname">get_logfiles</tt><big>(</big><big>)</big> &rarr; list_of_strings<a class="headerlink" href="#pynag.Parsers.LogFiles.get_logfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list with full path to every logfile used by nagios, sorted by modification time</p>
<p>Newest logfile is at the front of the list so usually nagios.log comes first, followed by archivelogs</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.LogFiles.get_notifications">
<tt class="descname">get_notifications</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.LogFiles.get_notifications" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as self.get_log_entries, except return only notifications. Takes same parameters.</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.LogFiles.get_state_history">
<tt class="descname">get_state_history</tt><big>(</big><em>start_time=None</em>, <em>end_time=None</em>, <em>host_name=None</em>, <em>service_description=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.LogFiles.get_state_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of dicts, with the state history of hosts and services. Parameters behaves similar to get_log_entries</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.MultiSite">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">MultiSite</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.MultiSite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.Livestatus" title="pynag.Parsers.Livestatus"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.Livestatus</span></tt></a></p>
<p>Wrapps around multiple Livesatus instances and aggregates the results
of queries.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MultiSite</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">add_backend</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s">&#39;/var/spool/nagios/livestatus.socket&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;local&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">add_backend</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s">&#39;127.0.0.1:5992&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;remote&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="method">
<dt id="pynag.Parsers.MultiSite.add_backend">
<tt class="descname">add_backend</tt><big>(</big><em>path</em>, <em>name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.MultiSite.add_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new livestatus backend to this instance.</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd>path (str):  Path to file socket or remote address
name (str):  Friendly shortname for this backend</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.MultiSite.get_backends">
<tt class="descname">get_backends</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.MultiSite.get_backends" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of mk_livestatus instances</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>list. List of mk_livestatus instances</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.MultiSite.query">
<tt class="descname">query</tt><big>(</big><em>query</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.MultiSite.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaves like mk_livestatus.query() except results are aggregated from multiple backends</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd>backend (str): If specified, fetch only data from this backend (see add_backend())
<a href="#id2"><span class="problematic" id="id3">*</span></a>args:         Passed directly to mk_livestatus.query()
<a href="#id4"><span class="problematic" id="id5">**</span></a>kwargs:      Passed directly to mk_livestatus.query()</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.ObjectCache">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">ObjectCache</tt><big>(</big><em>cfg_file=None</em>, <em>strict=False</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ObjectCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.Config" title="pynag.Parsers.Config"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.Config</span></tt></a></p>
<p>Loads the configuration as it appears in objects.cache file</p>
<dl class="method">
<dt id="pynag.Parsers.ObjectCache.get_cfg_files">
<tt class="descname">get_cfg_files</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.ObjectCache.get_cfg_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pynag.Parsers.ParserError">
<em class="property">exception </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">ParserError</tt><big>(</big><em>message</em>, <em>item=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.ParserError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>ParserError is used for errors that the Parser has when parsing config.</p>
<p>Typical usecase when there is a critical error while trying to read configuration.</p>
<dl class="attribute">
<dt id="pynag.Parsers.ParserError.filename">
<tt class="descname">filename</tt><em class="property"> = None</em><a class="headerlink" href="#pynag.Parsers.ParserError.filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pynag.Parsers.ParserError.line_start">
<tt class="descname">line_start</tt><em class="property"> = None</em><a class="headerlink" href="#pynag.Parsers.ParserError.line_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pynag.Parsers.ParserError.message">
<tt class="descname">message</tt><em class="property"> = None</em><a class="headerlink" href="#pynag.Parsers.ParserError.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.RetentionDat">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">RetentionDat</tt><big>(</big><em>filename=None</em>, <em>cfg_file=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.RetentionDat" title="Permalink to this definition">¶</a></dt>
<dd><p>Easy way to parse the content of retention.dat</p>
<p>After calling parse() contents of retention.dat are kept in self.data</p>
<p>Example Usage:
&gt;&gt;&gt; #r = retention()
&gt;&gt;&gt; #r.parse()
&gt;&gt;&gt; #print r
&gt;&gt;&gt; #print r.data[&#8216;info&#8217;]</p>
<dl class="method">
<dt id="pynag.Parsers.RetentionDat.parse">
<tt class="descname">parse</tt><big>(</big><big>)</big><a class="headerlink" href="#pynag.Parsers.RetentionDat.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses your status.dat file and stores in a dictionary under self.data</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>None</dd>
<dt>Raises:</dt>
<dd>ParserError &#8211; if problem arises while reading status.dat
ParserError &#8211; if status.dat is not found
IOError &#8211; if status.dat cannot be read</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.SshConfig">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">SshConfig</tt><big>(</big><em>host</em>, <em>username</em>, <em>password=None</em>, <em>cfg_file=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.Config" title="pynag.Parsers.Config"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.Config</span></tt></a></p>
<p>Parse object configuration files from remote host via ssh</p>
<dl class="method">
<dt id="pynag.Parsers.SshConfig.access">
<tt class="descname">access</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.access" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.access</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.SshConfig.exists">
<tt class="descname">exists</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.path.exists</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.SshConfig.isdir">
<tt class="descname">isdir</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.isdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaves like os.path.isdir</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.SshConfig.isfile">
<tt class="descname">isfile</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.isfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaves like os.path.isfile</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.SshConfig.islink">
<tt class="descname">islink</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.islink" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaves like os.path.islink</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.SshConfig.open">
<tt class="descname">open</tt><big>(</big><em>filename</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pynag.Parsers.SshConfig.readlink">
<tt class="descname">readlink</tt><big>(</big><em>selfself</em>, <em>path</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.readlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaves like os.readlink</p>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.SshConfig.stat">
<tt class="descname">stat</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pynag.Parsers.SshConfig.stat" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around os.stat</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.StatusDat">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">StatusDat</tt><big>(</big><em>filename=None</em>, <em>cfg_file=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.StatusDat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.RetentionDat" title="pynag.Parsers.RetentionDat"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.RetentionDat</span></tt></a></p>
<p>Easy way to parse status.dat file from nagios</p>
<p>After calling parse() contents of status.dat are kept in status.data
Example usage:
&gt;&gt;&gt; s = status()
&gt;&gt;&gt; s.parse()
&gt;&gt;&gt; keys = s.data.keys()
&gt;&gt;&gt; &#8216;info&#8217; in keys
True
&gt;&gt;&gt; &#8216;programstatus&#8217; in keys
True
&gt;&gt;&gt; for service in s.data.get(&#8216;servicestatus&#8217;,[]):
...     host_name=service.get(&#8216;host_name&#8217;, None)
...     description=service.get(&#8216;service_description&#8217;,None)</p>
<dl class="method">
<dt id="pynag.Parsers.StatusDat.get_contactstatus">
<tt class="descname">get_contactstatus</tt><big>(</big><em>contact_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.StatusDat.get_contactstatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary derived from status.dat for one particular contact</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>dict</dd>
<dt>Raises:</dt>
<dd>ValueError if object is not found</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">status</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_contactstatus</span><span class="p">(</span><span class="n">contact_name</span><span class="o">=</span><span class="s">&#39;invalid_contact&#39;</span><span class="p">)</span>
<span class="go">ValueError(&#39;invalid_contact&#39;,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first_contact</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;contactstatus&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;contact_name&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_contactstatus</span><span class="p">(</span><span class="n">first_contact</span><span class="p">)[</span><span class="s">&#39;contact_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">first_contact</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.StatusDat.get_hoststatus">
<tt class="descname">get_hoststatus</tt><big>(</big><em>host_name</em><big>)</big><a class="headerlink" href="#pynag.Parsers.StatusDat.get_hoststatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary derived from status.dat for one particular contact</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>dict</dd>
<dt>Raises:</dt>
<dd>ValueError if object is not found</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pynag.Parsers.StatusDat.get_servicestatus">
<tt class="descname">get_servicestatus</tt><big>(</big><em>host_name</em>, <em>service_description</em><big>)</big><a class="headerlink" href="#pynag.Parsers.StatusDat.get_servicestatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary derived from status.dat for one particular service
Returns:</p>
<blockquote>
<div>dict</div></blockquote>
<dl class="docutils">
<dt>Raises:</dt>
<dd>ValueError if object is not found</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.config">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">config</tt><big>(</big><em>cfg_file=None</em>, <em>strict=False</em><big>)</big><a class="headerlink" href="#pynag.Parsers.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.Config" title="pynag.Parsers.Config"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.Config</span></tt></a></p>
<p>This class is here only for backwards compatibility. Use Config instead.</p>
</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.mk_livestatus">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">mk_livestatus</tt><big>(</big><em>livestatus_socket_path=None</em>, <em>nagios_cfg_file=None</em>, <em>authuser=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.mk_livestatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.Livestatus" title="pynag.Parsers.Livestatus"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.Livestatus</span></tt></a></p>
<p>This class is here only for backwards compatibility. Use Livestatus instead.</p>
</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.object_cache">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">object_cache</tt><big>(</big><em>cfg_file=None</em>, <em>strict=False</em><big>)</big><a class="headerlink" href="#pynag.Parsers.object_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.ObjectCache" title="pynag.Parsers.ObjectCache"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.ObjectCache</span></tt></a></p>
<p>This class is here only for backwards compatibility. Use ObjectCache instead.</p>
</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.retention">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">retention</tt><big>(</big><em>filename=None</em>, <em>cfg_file=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.retention" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.RetentionDat" title="pynag.Parsers.RetentionDat"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.RetentionDat</span></tt></a></p>
<p>This class is here only for backwards compatibility. Use RetentionDat instead.</p>
</dd></dl>

<dl class="class">
<dt id="pynag.Parsers.status">
<em class="property">class </em><tt class="descclassname">pynag.Parsers.</tt><tt class="descname">status</tt><big>(</big><em>filename=None</em>, <em>cfg_file=None</em><big>)</big><a class="headerlink" href="#pynag.Parsers.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pynag.Parsers.StatusDat" title="pynag.Parsers.StatusDat"><tt class="xref py py-class docutils literal"><span class="pre">pynag.Parsers.StatusDat</span></tt></a></p>
<p>This class is here only for backwards compatibility. Use StatusDat instead.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Parsers Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">Parsers</span></tt> Package</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="pynag.Model.EventHandlers.html"
                        title="previous chapter">EventHandlers Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pynag.Plugins.html"
                        title="next chapter">Plugins Package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pynag.Parsers.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pynag.Plugins.html" title="Plugins Package"
             >next</a> |</li>
        <li class="right" >
          <a href="pynag.Model.EventHandlers.html" title="EventHandlers Package"
             >previous</a> |</li>
        <li><a href="index.html">pynag 0.8.5 documentation</a> &raquo;</li>
          <li><a href="pynag.html" >The pynag module</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Pall Sigurdsson and Tomas Edwardsson.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>