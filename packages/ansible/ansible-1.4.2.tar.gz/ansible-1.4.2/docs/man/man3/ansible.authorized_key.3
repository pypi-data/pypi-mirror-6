.TH ANSIBLE.AUTHORIZED_KEY 3 "2013-12-18" "1.4.2" "ANSIBLE MODULES"
.\" generated from library/system/authorized_key
.SH NAME
authorized_key \- Adds or removes an SSH authorized key
.\" ------ DESCRIPTION
.SH DESCRIPTION
.PP
Adds or removes authorized keys for particular user accounts 
.\" ------ OPTIONS
.\"
.\"
.SH OPTIONS
   
.IP key
The SSH public key, as a string(required)   
.IP key_options
A string of ssh key options to be prepended to the key in the authorized_keys file(Added in Ansible version 1.4.)
   
.IP manage_dir
Whether this module should manage the directory of the authorized_keys file
.IR Choices :
yes,no. (default: yes)(Added in Ansible version 1.2.)
   
.IP path
Alternate path to the authorized_keys file (default: (homedir)+/.ssh/authorized_keys)(Added in Ansible version 1.2.)
   
.IP state
Whether the given key (with the given key_options) should or should not be in the file
.IR Choices :
present,absent. (default: present)   
.IP user
The username on the remote host whose authorized_keys file will be modified(required).\"
.\"
.\" ------ NOTES
.\"
.\"
.\" ------ EXAMPLES
.\" ------ PLAINEXAMPLES
.SH EXAMPLES
.nf
# Example using key data from a local file on the management machine
- authorized_key: user=charlie key="{{ lookup('file', '/home/charlie/.ssh/id_rsa.pub') }}"

# Using alternate directory locations:
- authorized_key: user=charlie
                  key="{{ lookup('file', '/home/charlie/.ssh/id_rsa.pub') }}"
                  path='/etc/ssh/authorized_keys/charlie'
                  manage_dir=no

# Using with_file
- name: Set up authorized_keys for the deploy user
  authorized_key: user=deploy
                  key="{{ item }}"
  with_file:
    - public_keys/doe-jane
    - public_keys/doe-john

# Using key_options:
- authorized_key: user=charlie
                  key="{{ lookup('file', '/home/charlie/.ssh/id_rsa.pub') }}"
                  key_options='no-port-forwarding,host="10.0.1.1"'

.fi

.\" ------- AUTHOR
.SH AUTHOR
Brad Olson
.SH SEE ALSO
.IR ansible (1),
.I http://ansible.github.com/modules.html#authorized-key