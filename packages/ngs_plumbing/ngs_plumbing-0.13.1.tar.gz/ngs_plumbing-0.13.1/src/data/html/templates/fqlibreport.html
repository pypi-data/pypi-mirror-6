<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="content-type">
<title>FASTQ report</title>
<script src="http://mbostock.github.com/d3/d3.v2.js?2.8.0" type="text/javascript">
</script>
<script type="text/javascript" src="readqual.js">
</script>

<style>
  html {
    background-color: #d0d0d0;
  }
  body {
    margin: 2em;
    padding: 3em;
    background-color: #fff;
  }
  .chart rect {
   fill: steelblue;
   stroke: white;
 }

  .chart line.p90 {
   stroke: steelblue;
  }

  table tr td.odd {
    background-color: #f0f0ff;
  }

  ul.lean li {
    list-style: none;
  }
  ul.lean li.odd {
    background-color: #f0f0ff;
  }
  .rule {
    font-size: 70%;
  }
</style>

</head>
<body>

<h1>File: {{ filename }}<h1>

<h2>FASTQ Info</h2>
<table class="xsqinfo">
<tbody>
{% for field, value in fqinfo %}
<tr>
<td class="{{ loop.cycle('odd', 'even') }}">{{ field }}:</td>
<td><i>{{ value }} </i></td>
</tr>
{% endfor %}
</tbody>
</table>
<p>

<h4>Sequencing data</h4>
<table>
<tbody>
<tr><td class="even">Number of reads</td><td>{{ '{:,}'.format(lib.readcount) }}</td></tr>
</tbody>
</table>
<h4>Read quality (sampling {{ sample_percent * 100 }}&#37; of the data)</h4>
<div id="qualityplot">
<script type="text/javascript">
csv_fn = "{{ lib.csv_fn }}";
d3.csv(csv_fn, function(data) { qualityplot(data, "") }); 
</script>
</div>
{% endfor %}
{% endfor %}

</body>
</html>
