an approach to full releases
--

** We may wish to revisit this in light of RELEASE3


make the branch for the stsci_python release
	release-2.14

## you need to know what all the packages are and to do them in the
## right order, but you don't know the right order yet.  Determine
## the order.

check out the trunk

	svn checkout https://svn.stsci.edu/svn/ssb/stsci_python/stsci_python/trunk stsci_python
	cd stsci_python
	new_install/stp_list | new_install/stp_checkout
	new_install/stp_list | python cfgdep.py -i -order > order

	svn add order

	svn copy . https://svn.stsci.edu/svn/ssb/stsci_python/stsci_python/branches/stsci-python-2.14


svn checkout the branch
	svn checkout https://svn.stsci.edu/svn/ssb/stsci_python/stsci_python/branches/stsci-python-2.14
	cd stsci-python-2.14

set path = ( `pwd`/release_tools $path )

for each package listed in ./order :
	release the sub-package
	add the version to setup.cfg with ==

setup.py sdist
copy sdist to draft release local pypi

use draft release local pypi to install test environment
run tests

copy entire draft release local pypi into our public pypi

upload pypi records for all packages to the real pypi
	setup.py register (?)


releasing the individual package: ordinary mode
--

check out the trunk of the package

run script "stsci_release"
	shows current version in cfg file
	suggests new version
	accept or enter a new one
	-> creates branch for the release
	-> commits trunk, with version 0.0.1 higher
	-> tells you the checkout command to get a fresh checkout
	   from the release tag

check out the branch
	svn checkout ...
	cd ...

run script "make_sdist"
	creates the sdist
	installs it to local draft pypi
		http://ssb.stsci.edu/draft_pypi/
		/eng/ssb/websites/ssbpublic/draft_pypi/

for each machine we do binary distributions for:
	rm -rf t
	mkdir t
	cd t

	# get the sdist from the draft release local pypi
	pip install --download . -i http://ssb.stsci.edu/draft_pypi/ stsci.samplepackage

	# 
	tar xf *
	cd <tab>

	# 
	python setup.py bdist_egg

	# copy the egg to the draft pypi server
	pypi=/eng/ssb/websites/ssbpublic/draft_pypi/

	cp dist/*.egg /eng/ssb/websites/ssbpublic/draft_pypi/.data

	basketweaver2  $pypi



