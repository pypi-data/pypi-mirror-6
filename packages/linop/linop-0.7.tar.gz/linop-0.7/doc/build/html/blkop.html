

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The blkop Module &mdash; linop 0.7 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="linop 0.7 documentation" href="index.html" />
    <link rel="prev" title="The linop Module" href="linop.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">linop 0.7 documentation</a></div>
        <div class="rel">
          <a href="linop.html" title="The linop Module"
             accesskey="P">previous</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-blkop-module">
<h1>The <tt class="xref py py-mod docutils literal"><span class="pre">blkop</span></tt> Module<a class="headerlink" href="#the-blkop-module" title="Permalink to this headline">¶</a></h1>
<p>Linear operators are sometimes defined by blocks. This is often the case in
numerical optimization and the solution of partial-differential equations. An
example of operator defined by blocks is</p>
<div class="math">
\[\begin{split}K =
\begin{bmatrix}
  A &amp; B \\
  C &amp; D
\end{bmatrix}\end{split}\]</div>
<p>where <span class="math">\(A\)</span>, <span class="math">\(B\)</span>, <span class="math">\(C\)</span> and <span class="math">\(D\)</span> are linear operators
(perhaps themselves defined by blocks) of appropriate shape.</p>
<p>The general class <tt class="docutils literal"><span class="pre">BlockLinearOperator</span></tt> may be used to represent the operator
above. If more structure is present, for example if the off-diagonal blocks are
zero, <span class="math">\(K\)</span> is a block-diagonal operator and the class
<tt class="docutils literal"><span class="pre">BlockDiagonalLinearOperator</span></tt> may be used to define it.</p>
<span class="target" id="module-linop.blkop"></span><div class="section" id="general-block-operators">
<h2>General Block Operators<a class="headerlink" href="#general-block-operators" title="Permalink to this headline">¶</a></h2>
<p>General block operators are defined using a list of lists, each of which
defines a block row. If the block operator is specified as symmetric, each
block on the diagonal must be symmetric. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                <span class="n">matvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">v</span><span class="p">,</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">matvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">rmatvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">v</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">))))</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">matvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">rmatvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">v</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">))))</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">matvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">rmatvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">v</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">))))</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">LinearOperator</span><span class="p">(</span><span class="n">nargin</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nargout</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                <span class="n">matvec</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c"># Build [A  B].</span>
<span class="n">K1</span> <span class="o">=</span> <span class="n">BlockLinearOperator</span><span class="p">([[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">]])</span>

<span class="c"># Build [A  B]</span>
<span class="c">#       [C  D].</span>
<span class="n">K2</span> <span class="o">=</span> <span class="n">BlockLinearOperator</span><span class="p">([[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">D</span><span class="p">]])</span>

<span class="c"># Build [A]</span>
<span class="c">#       [C].</span>
<span class="n">K3</span> <span class="o">=</span> <span class="n">BlockLinearOperator</span><span class="p">([[</span><span class="n">A</span><span class="p">],</span> <span class="p">[</span><span class="n">C</span><span class="p">]])</span>

<span class="c"># Build [A  B]</span>
<span class="c">#       [B&#39; E].</span>
<span class="n">K4</span> <span class="o">=</span> <span class="n">BlockLinearOperator</span><span class="p">([[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">E</span><span class="p">]],</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="linop.blkop.BlockLinearOperator">
<em class="property">class </em><tt class="descclassname">linop.blkop.</tt><tt class="descname">BlockLinearOperator</tt><big>(</big><em>blocks</em>, <em>symmetric=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="linop.html#linop.linop.LinearOperator" title="linop.linop.LinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.linop.LinearOperator</span></tt></a></p>
<p>A linear operator defined by blocks. Each block must be a linear operator.</p>
<p><cite>blocks</cite> should be a list of lists describing the blocks row-wise.
If there is only one block row, it should be specified as
<cite>[[b1, b2, ..., bn]]</cite>, not as <cite>[b1, b2, ..., bn]</cite>.</p>
<p>If the overall linear operator is symmetric, only its upper triangle
need be specified, e.g., <cite>[[A,B,C], [D,E], [F]]</cite>, and the blocks on the
diagonal must be square and symmetric.</p>
<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.T">
<tt class="descname">T</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.T" title="Permalink to this definition">¶</a></dt>
<dd><p>The transpose operator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this is an alias to the adjoint operator</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.blocks">
<tt class="descname">blocks</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of blocks defining the block operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockLinearOperator.dot">
<tt class="descname">dot</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockLinearOperator.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Numpy-like dot() method.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockLinearOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockLinearOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockLinearOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockLinearOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockLinearOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.blkop.BlockLinearOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockLinearOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockLinearOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="block-diagonal-operators">
<h2>Block Diagonal Operators<a class="headerlink" href="#block-diagonal-operators" title="Permalink to this headline">¶</a></h2>
<p>Block diagonal operators are a special case of block operators and are defined
with a list containing the blocks on the diagonal. If the block operator is
specified as symmetric, each block must be symmetric. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">K5</span> <span class="o">=</span> <span class="n">BlockDiagonalLinearOperator</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">E</span><span class="p">],</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="linop.blkop.BlockDiagonalLinearOperator">
<em class="property">class </em><tt class="descclassname">linop.blkop.</tt><tt class="descname">BlockDiagonalLinearOperator</tt><big>(</big><em>blocks</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="linop.html#linop.linop.LinearOperator" title="linop.linop.LinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.linop.LinearOperator</span></tt></a></p>
<p>A block diagonal linear operator.</p>
<p>Each block must be a linear operator.
The blocks may be specified as one list, e.g., <cite>[A, B, C]</cite>.</p>
<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.T">
<tt class="descname">T</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.T" title="Permalink to this definition">¶</a></dt>
<dd><p>The transpose operator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this is an alias to the adjoint operator</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.blocks">
<tt class="descname">blocks</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of blocks defining the block diagonal operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockDiagonalLinearOperator.dot">
<tt class="descname">dot</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Numpy-like dot() method.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockDiagonalLinearOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockDiagonalLinearOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockDiagonalLinearOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockDiagonalLinearOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockDiagonalLinearOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="block-vertical-and-horizontal-operators">
<h2>Block Vertical and Horizontal Operators<a class="headerlink" href="#block-vertical-and-horizontal-operators" title="Permalink to this headline">¶</a></h2>
<p>Block vertical and horizontal operators are special cases of the generic block
operator, where the list of blocks are either stacked vertically or
horizontally. They must be defined in a flattened list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># same result as K1</span>
<span class="n">K6</span> <span class="o">=</span> <span class="n">BlockHorizontalLinearOperator</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="c"># same result as K3</span>
<span class="n">K7</span> <span class="o">=</span> <span class="n">BlockVerticalLinearOperator</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">])</span>
</pre></div>
</div>
<dl class="class">
<dt id="linop.blkop.BlockHorizontalLinearOperator">
<em class="property">class </em><tt class="descclassname">linop.blkop.</tt><tt class="descname">BlockHorizontalLinearOperator</tt><big>(</big><em>blocks</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#linop.blkop.BlockLinearOperator" title="linop.blkop.BlockLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.blkop.BlockLinearOperator</span></tt></a></p>
<p>A block horizontal linear operator.</p>
<p>Each block must be a linear operator.
The blocks must be specified as one list, e.g., <cite>[A, B, C]</cite>.</p>
<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.T">
<tt class="descname">T</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.T" title="Permalink to this definition">¶</a></dt>
<dd><p>The transpose operator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this is an alias to the adjoint operator</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.blocks">
<tt class="descname">blocks</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of blocks defining the block operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockHorizontalLinearOperator.dot">
<tt class="descname">dot</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Numpy-like dot() method.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockHorizontalLinearOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockHorizontalLinearOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockHorizontalLinearOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockHorizontalLinearOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockHorizontalLinearOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="linop.blkop.BlockVerticalLinearOperator">
<em class="property">class </em><tt class="descclassname">linop.blkop.</tt><tt class="descname">BlockVerticalLinearOperator</tt><big>(</big><em>blocks</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#linop.blkop.BlockLinearOperator" title="linop.blkop.BlockLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">linop.blkop.BlockLinearOperator</span></tt></a></p>
<p>A block vertical linear operator.</p>
<p>Each block must be a linear operator.
The blocks must be specified as one list, e.g., <cite>[A, B, C]</cite>.</p>
<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.H">
<tt class="descname">H</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.H" title="Permalink to this definition">¶</a></dt>
<dd><p>The adjoint operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.T">
<tt class="descname">T</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.T" title="Permalink to this definition">¶</a></dt>
<dd><p>The transpose operator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this is an alias to the adjoint operator</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.blocks">
<tt class="descname">blocks</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of blocks defining the block operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockVerticalLinearOperator.dot">
<tt class="descname">dot</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Numpy-like dot() method.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.dtype">
<tt class="descname">dtype</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the operator.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockVerticalLinearOperator.matvec">
<tt class="descname">matvec</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.matvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix-vector multiplication.</p>
<p>The matvec property encapsulates the matvec routine specified at
construct time, to ensure the consistency of the input and output
arrays with the operator&#8217;s shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.nMatvec">
<tt class="descname">nMatvec</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.nMatvec" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of products with vectors computed so far.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.nargin">
<tt class="descname">nargin</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.nargin" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an input vector.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.nargout">
<tt class="descname">nargout</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.nargout" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of an output vector.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockVerticalLinearOperator.reset_counters">
<tt class="descname">reset_counters</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.reset_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset operator/vector product counter to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.shape">
<tt class="descname">shape</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the operator.</p>
</dd></dl>

<dl class="attribute">
<dt id="linop.blkop.BlockVerticalLinearOperator.symmetric">
<tt class="descname">symmetric</tt><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the operator is symmetric or not.</p>
</dd></dl>

<dl class="method">
<dt id="linop.blkop.BlockVerticalLinearOperator.to_array">
<tt class="descname">to_array</tt><big>(</big><big>)</big><a class="headerlink" href="#linop.blkop.BlockVerticalLinearOperator.to_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="aliases">
<h2>Aliases<a class="headerlink" href="#aliases" title="Permalink to this headline">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">New in version 0.5.</span></p>
<p>Shorter aliases to some linear operators are now available and listed below:</p>
<ul class="simple">
<li><cite>BlockOperator</cite> for <a class="reference internal" href="#linop.blkop.BlockLinearOperator" title="linop.blkop.BlockLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">BlockLinearOperator</span></tt></a></li>
<li><cite>BlockDiagonalOperator</cite> for <a class="reference internal" href="#linop.blkop.BlockDiagonalLinearOperator" title="linop.blkop.BlockDiagonalLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">BlockDiagonalLinearOperator</span></tt></a></li>
<li><cite>BlockHorizontalOperator</cite> for <a class="reference internal" href="#linop.blkop.BlockHorizontalLinearOperator" title="linop.blkop.BlockHorizontalLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">BlockHorizontalLinearOperator</span></tt></a></li>
<li><cite>BlockVerticalOperator</cite> for <a class="reference internal" href="#linop.blkop.BlockVerticalLinearOperator" title="linop.blkop.BlockVerticalLinearOperator"><tt class="xref py py-class docutils literal"><span class="pre">BlockVerticalLinearOperator</span></tt></a></li>
</ul>
</div>
<div class="section" id="iterating-and-indexing">
<h2>Iterating and indexing<a class="headerlink" href="#iterating-and-indexing" title="Permalink to this headline">¶</a></h2>
<p>Block operators also support iteration and indexing. Iterating over a block
operator amounts to iterating row-wise over its blocks. Iterating over a block
diagonal operator amounts to iterating over its diagonal blocks. Indexing works
as expected. Indexing general block operators requires two indices, much as
when indexing a matrix, while indexing a block diagonal operator requires a
single indices. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">K2</span> <span class="o">=</span> <span class="n">BlockLinearOperator</span><span class="p">([[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">D</span><span class="p">]])</span>
<span class="n">K2</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span>   <span class="c"># Returns the block operator defined by [[A, B]].</span>
<span class="n">K2</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>   <span class="c"># Returns the block operator defined by [[C], [D]].</span>
<span class="n">K2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>   <span class="c"># Returns the linear operator D.</span>

<span class="n">K4</span> <span class="o">=</span> <span class="n">BlockLinearOperator</span><span class="p">([[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">E</span><span class="p">]],</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">K4</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>   <span class="c"># Returns the linear operator B.T.</span>

<span class="n">K5</span> <span class="o">=</span> <span class="n">BlockDiagonalLinearOperator</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">E</span><span class="p">],</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">K5</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>     <span class="c"># Returns the linear operator A.</span>
<span class="n">K5</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>     <span class="c"># Returns the linear operator B.</span>
<span class="n">K5</span><span class="p">[:]</span>     <span class="c"># Returns the diagonal operator defines by [A, E].</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="linop.html">Linear Operators</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Block Linear Operators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-block-operators">General Block Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#block-diagonal-operators">Block Diagonal Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#block-vertical-and-horizontal-operators">Block Vertical and Horizontal Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aliases">Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iterating-and-indexing">Iterating and indexing</a></li>
</ul>
</li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="linop.html" title="The linop Module"
             >previous</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/blkop.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2013, G. Vaillant.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>