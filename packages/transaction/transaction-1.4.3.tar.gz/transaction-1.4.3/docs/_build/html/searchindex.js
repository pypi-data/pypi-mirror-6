Search.setIndex({envversion:42,objtypes:{"0":"py:module","1":"py:method","2":"py:interface","3":"py:class","4":"py:attribute"},terms:{seriou:6,critic:0,loop:6,variabl:0,look:[0,2],been:[3,1,5,6,7],els:[0,2,6],cannot:[1,6],add:[4,6,7],delai:4,"public":[1,6],gener:[0,2,1],xxx:0,more:[1,3,7,5,6,4],zope:[1,6,4],our:[2,3,5],immut:2,order:[6,7],phase:[5,6],transactionmanag:[6,7],dummyfil:7,same:[3,1,5,6,7],def:[0,2,1,7],traceback:[0,2,3,1,5],backward:4,del:7,proper:0,much:[3,5],method:[0,6],avail:4,samplesavepointdatamanag:[0,2],keyword:[0,6],getaftercommithook:[6,7],valid:[2,1,6],editview:1,modifi:6,level:[2,4,6,7],optimist:6,strip:6,isn:[0,3,5,6],produc:6,both:[3,5,4],protocol:[3,5,6],truncat:6,http:0,evolv:4,"_tb_buffer":7,demonstr:2,"import":[0,1,2,3,5,7],tool:[3,5],modif:6,preced:4,exist:6,sampledatamanag:2,algorithm:6,associ:[3,5,6,7],datamanag:[1,5,6],whitespac:6,via:6,thei:[6,7],match:[3,5],succeed:6,activ:[1,6,4],total:[1,6],storag:[2,6],guarante:6,clear:2,thu:1,outsid:[0,6],similarli:2,previous:[2,6],messag:[2,1,7],unsupport:2,thi:[0,1,2,3,4,5,6,7],clean:[3,1],expect:[3,6],conveni:6,you:[0,4],idatamanag:[1,6],pass:[0,2,3,4,5,6,7],shouldn:0,instanc:[0,3,6],subroutin:2,can:[0,1,2,3,4,5,6,7],about:[0,6],propag:0,caus:[2,6],maintain:6,output:2,everi:[6,4],consist:6,normal:[2,6],alreadi:5,pair:6,especi:0,wrap:0,no_kw1:7,no_kw2:7,need:[0,3,1,5,6],"_p_jar":4,func_nam:7,which:[3,1,5,6],responsibilti:1,accept:2,set:[3,5,6,4],deadlock:6,mai:[1,6],meta:6,layer:4,specif:[1,4],defin:[0,2,6,7],handl:6,failur:[0,1,4,7],point:[2,3,1,5],toward:4,last:[0,1,2,3,5,6],python:[0,6],notion:6,entir:[2,3,5],balanc:2,fail:[0,2,3,7,6,4],version:4,within:[2,3,1,5],discard:[3,5,6],understand:2,format:6,abort:6,control:0,invalidsavepointrollbackerror:[2,6],model:[3,5],error:[0,1,5,6,7],assign:0,sometransientexcept:0,complet:[3,5,6],document:0,howev:[2,1],count:1,"_txn":7,directli:[0,1],where:[2,1],how:[0,2,1],old:1,data:[0,6],abbrevi:0,than:[3,1,5,4],constructor:6,"__exit__":6,open:1,addit:6,check:4,let:[2,7],made:[2,1,6],unregistersynch:6,also:[0,1,3,5,6,7],len:7,uncommit:[2,4],setus:6,oper:[1,2,3,5,6,4],act:1,first:[1,2,3,5,6,4],"_transact":[6,7],instead:6,resourcemanag:3,docstr:5,didn:2,write:0,redund:2,again:[0,1],todo:4,helper:0,append:[6,7],beforecommithook:6,remov:6,typic:[0,6],possibl:[2,6],process:6,each:[2,6,4],text:6,obj:6,other:[0,2,3,5,6,7],"_itransaction__hook":6,ellipsi:0,kw1:7,fals:[4,1,6,7],all:[1,2,3,4,5,6,7],user:[2,6],otherwis:6,transactionerror:6,should:[0,1,2,3,5,6],contain:[3,1,5],repres:[3,5,6,4],surround:6,full:7,dict:7,tri:[0,2],support:6,contin:0,flat:2,"try":[0,2,1],packag:0,start:[1,3,7,5,6,4],recurs:[6,7],subtransact:2,provid:[0,2,3,5,6],assert:1,programm:1,inc:[3,5],vote:[3,6,4],prevent:6,identifi:6,test__manag:7,zodb4:4,side:1,piec:3,failingdatamanag:7,ugli:0,abov:7,sue:2,str:[0,2,6,7],place:1,sub:7,browser:1,print:[0,2],differ:6,last_not:0,index:4,respons:[3,5,6],idatamanagersavepoint:6,dataobject:7,sinc:[6,7],free:2,inde:7,system:[0,2],when:[1,2,3,4,5,6,7],tent:[3,5],picklabl:6,argument:[4,6,7],roll:[2,3,5,6],after:[1,5,6,7],explain:4,record:6,"__init__":1,success:[2,6,4],becom:[2,6],doomedtransactionexcept:6,thread:6,from:[1,2,3,5,6,7],commit:[0,6],send:1,entri:2,itself:[0,7],prepar:6,exampl:[0,1,2,3,5,6,4],two:[5,6],chang:[1,2,3,5,6,4],current:[1,6,4],manag:[0,6],chanc:[3,6],"default":[0,6],transaction_manag:6,addaftercommithook:6,save:[2,3,5,6],deposit:2,app:1,name:[0,2,1,6],uncertain:2,txn:[3,1,4,7],typeerror:[2,3,5,7],post:4,intermedi:2,leav:1,confirm:6,err:7,necessari:1,hook:[1,6],far:0,lead:4,invalid:[3,5,6,4],longer:[3,5,6,7],progress:[2,6],effici:[3,5],debit:2,itransact:[3,6],nameerror:0,unchang:1,exactli:1,oop:7,persist:[6,4],overcom:0,interven:5,have:[1,2,3,4,5,6,7],illustr:[3,5],reason:[0,2],registr:[6,7],read:[2,6],someth:0,rec:7,abl:[2,1],forget:6,involv:[6,4],major:6,newlin:6,page:4,ntry:0,execut:[3,4,5,6,7],issue12022:0,"true":[0,4,1,6,7],although:6,time:[0,2,1,4],wai:[1,2,3,5,6,7],indic:6,befor:[5,6,7],perman:[3,5],explictli:6,doe:[0,6,7],threadtransactionmanag:6,show:0,awar:6,doc:[3,6],beforecomplet:[6,4],don:[0,2,3,5,6,7],recent:[0,2,3,1,5],termin:6,search:4,revert:[3,5],limit:6,"new":[2,1,6],registersynch:6,awai:[2,3,5,6],assertraisesex:7,"throw":[3,5],probabl:1,isdoom:[1,6],string:[2,3,5,6],particip:[6,4],iff:4,mapper:1,due:6,tpc_vote:[6,4],attempt:[0,1,3,5,6,4],must:[3,1,5,6,4],"while":[3,5,7],contriv:0,extens:6,event:6,path:6,end:6,sequenc:[2,6],dummi:7,assumpt:0,isavepointdatamanag:6,extend:6,across:6,could:[3,1,5],"transient":0,block:0,behavior:6,either:[1,6,4],global:6,transienterror:[0,6],mgr:7,savepoint:6,proce:2,attr_count:1,meant:[3,5],unregist:6,common:7,abort_sub:4,transactionfailederror:[2,6],reset:[3,5],expens:1,now:[0,2,3,5,7],succe:[0,6,4],apply_entri:2,signal:0,note:[0,6],get:[2,1,6],access_count:1,perform:6,alwai:[3,1,5],hookrais:7,occur:[2,1,6,4],dm2:[0,1],want:[0,1,4],number:[0,2,1],know:0,asynchron:4,non:[1,6,4],continu:1,still:[1,4],might:4,applic:[0,1,3,5,6,4],mainli:5,launch:4,affect:5,slate:3,previou:2,atom:2,resourc:[4,5,6,7],care:6,iter:[0,6],make:[0,2,6],detect:[5,6],detail:6,descript:6,join:[4,1,6,7],partial:[2,3,5],impos:6,memori:2,becaus:[2,6,4],undefin:6,done:[1,2,3,5,6,7],desir:6,"final":6,synchron:6,lifetim:6,avoid:[1,6],"__enter__":6,itransactionmanag:6,tripl:6,top:[2,6,4],distinct:6,never:[3,6],too:6,empti:6,them:[1,4,7],omplet:5,freed:2,connect:6,delta:[3,5],doomabl:1,allow:[2,3,5],real:7,individu:4,onc:[3,5,4],later:[2,3,5,6],veri:2,dictionari:6,tell:0,consid:6,modul:[1,4],qualifi:6,content:4,tpc_abort:[6,4],"class":[0,1,3,5,6,7],synch:6,infinit:6,"_manag":[6,7],sychron:4,onli:[4,6,7],list:[0,4,7],whether:[6,4],forc:1,stale:[3,5],form:1,addbeforecommithook:6,deprec:6,purpos:2,notifi:6,"_compat":7,without:[3,5,4],abandon:6,no_arg:7,often:[0,3,5],circumst:1,unexpect:2,four:4,getbeforecommithook:[6,7],effect:1,reflect:[3,5],doom:6,begin:[1,6,7],tupl:6,appli:2,doesn:0,flag:2,here:[0,1],savepoint2:2,savepoint1:2,bug:0,calcul:1,coordin:6,life:6,should_retri:0,realli:[0,3,5],secondari:2,savepointsampl:[0,2],fake:7,valu:[2,1,6,4],stub:1,"boolean":[6,4],abil:[3,5],retri:6,yet:6,self:[0,1,7],properti:6,implement:[2,3,1,5,4],intend:6,earlier:[2,3,5,6],kei:[0,6],cleanup:7,invok:6,behav:[1,6],includ:[2,6,4],interact:4,"return":[0,1,6,7],isynchron:6,take:[0,2,6,4],credit:2,rather:[0,1,4],through:[3,5],rec1:7,relat:[1,6],sql:1,aftercomplet:[6,4],boundari:[0,6],enter:2,conflict:[0,6],until:[2,3,5,4],textual:6,overdrawn:2,rec2:7,rec3:7,rec0:7,even:7,sever:7,org:0,rollback:[2,3,5,6],cours:[0,3,5],establish:6,arg:[6,7],posit:6,updat:[2,3,5],consum:[6,7],call:[0,1,2,3,4,5,6,7],regist:[4,6,7],sourc:6,uniqu:6,what:0,entry_savepoint:2,"case":[0,1,6,4],tpc_begin:[4,6,7],trivial:[3,5],pre:[1,4],substransact:4,disk:2,ani:[0,1,2,3,5,6,4],"__getattr__":1,found:1,creat:[2,3,1,5,6],outer:2,line:2,implicitli:1,explicitli:6,bit:5,rang:0,fund:2,correct:2,lazi:[3,5],doctest:0,follow:[1,4],missmatch:[3,5],provok:7,statu:[2,4,7],someon:4,tpc_finish:[6,4],see:[0,1,6,7],dure:[2,1,6,4],zodb:[6,4],state:[2,3,5,4],isavepoint:6,further:6,outstand:1,multipl:[2,6],kw2:7,salli:2,statement:0,stage:[3,5],dm_no_sp:2,account:2,preceed:[3,5],anyth:7,notif:6,some:[0,2,3,5,6,4],sampl:[2,3,5],between:4,adapt:4,amount:2,databas:[1,6,4],setextendedinfo:6,sometim:[0,4],initi:[2,3,5],would:6,addaftercommit:6,callabl:4,work:[0,1,2,3,5,6],word:[3,5],ask:[3,1],transat:[3,5],request:1,exceed:6,harmless:2,mani:0,creation:6,safe:1,like:[0,2,3,1,5],reset_log:7,log:7,buffer:7,except:[0,1,2,3,6,7],doomedtransact:[1,6],were:6,sam:2,attribut:[6,4],type:6,sort:6,unsaf:1,newtransact:6,rais:[0,1,2,3,6,7],alia:6,toler:2,rejoin:6,whenev:7,sortkei:[1,6],come:2,invari:4,successful:4,validate_account:2,given:[3,5],tranasct:4,"function":[2,6],specifi:6,bob:2,valueerror:[0,2,3,1],run:[1,6],test:[0,2,3,5,7],program:1,verifi:[3,6],commitfailur:7,subclass:0,got:2,most:[0,2,3,1,5],peopl:2,primari:2,none:[3,6,7],back:[2,3,5,6],size:6,depend:[4,7],addbeforecommit:6,user_nam:6,code:[2,1,6,4],monkei:7,"break":0},filenames:["convenience","doom","savepoint","resourcemanager","index","datamanager","api","hooks"],objnames:{"0":["py","module","Python module"],"1":["py","method","Python method"],"2":["py","interface","interface"],"3":["py","class","Python class"],"4":["py","attribute","Python attribute"]},titleterms:{tpc_vote:3,two:4,abort:5,manag:[3,5],interfac:6,failur:2,without:2,tabl:4,applic:2,addaftercommithook:7,retri:0,conveni:0,document:4,doom:1,error:4,indic:4,befor:4,data:5,api:6,phase:4,resourc:3,object:6,machineri:7,hook:[4,7],support:[0,2],tpc_abort:3,issu:4,refer:6,write:[3,5],invalid:2,transact:[0,4,1,6,7],handl:4,prepar:5,after:4,compat:4,savepoint:[2,3,5],method:[3,5,7],tpc_begin:3,synchron:4,tpc_finish:3,databas:2,commit:[5,4],simpl:[3,5],addbeforecommithook:7},objects:{"transaction.interfaces":{ITransactionManager:[6,2,1,""],ISavepoint:[6,2,1,""],IDataManagerSavepoint:[6,2,1,""],ITransaction:[6,2,1,""],TransientError:[6,3,1,""],TransactionFailedError:[6,3,1,""],InvalidSavepointRollbackError:[6,3,1,""],DoomedTransaction:[6,3,1,""],ISynchronizer:[6,2,1,""],ISavepointDataManager:[6,2,1,""],TransactionError:[6,3,1,""],IDataManager:[6,2,1,""]},"transaction.interfaces.ISavepointDataManager":{savepoint:[6,1,1,""]},"transaction.interfaces.ITransactionManager":{unregisterSynch:[6,1,1,""],abort:[6,1,1,""],isDoomed:[6,1,1,""],doom:[6,1,1,""],begin:[6,1,1,""],get:[6,1,1,""],savepoint:[6,1,1,""],commit:[6,1,1,""],registerSynch:[6,1,1,""]},"transaction._transaction.Savepoint":{rollback:[6,1,1,""]},"transaction.interfaces.IDataManagerSavepoint":{rollback:[6,1,1,""]},"transaction.interfaces.ISavepoint":{rollback:[6,1,1,""],valid:[6,4,1,""]},"transaction._transaction.Transaction":{addBeforeCommitHook:[6,1,1,""],join:[6,1,1,""],abort:[6,1,1,""],getBeforeCommitHooks:[6,1,1,""],register:[6,1,1,""],isDoomed:[6,1,1,""],addAfterCommitHook:[6,1,1,""],savepoint:[6,1,1,""],commit:[6,1,1,""],getAfterCommitHooks:[6,1,1,""],setUser:[6,1,1,""],note:[6,1,1,""],setExtendedInfo:[6,1,1,""],doom:[6,1,1,""]},"transaction.interfaces.ISynchronizer":{newTransaction:[6,1,1,""],afterCompletion:[6,1,1,""],beforeCompletion:[6,1,1,""]},"transaction._manager.TransactionManager":{"__exit__":[6,1,1,""],unregisterSynch:[6,1,1,""],abort:[6,1,1,""],isDoomed:[6,1,1,""],doom:[6,1,1,""],begin:[6,1,1,""],get:[6,1,1,""],savepoint:[6,1,1,""],commit:[6,1,1,""],"__enter__":[6,1,1,""],registerSynch:[6,1,1,""]},transaction:{"_transaction":[6,0,0,"-"],interfaces:[6,0,0,"-"],"_manager":[6,0,0,"-"]},"transaction._manager":{ThreadTransactionManager:[6,3,1,""],TransactionManager:[6,3,1,""]},"transaction._transaction":{Savepoint:[6,3,1,""],Transaction:[6,3,1,""]},"transaction.interfaces.ITransaction":{addBeforeCommitHook:[6,1,1,""],join:[6,1,1,""],abort:[6,1,1,""],getBeforeCommitHooks:[6,1,1,""],user:[6,4,1,""],doom:[6,1,1,""],savepoint:[6,1,1,""],commit:[6,1,1,""],getAfterCommitHooks:[6,1,1,""],setUser:[6,1,1,""],note:[6,1,1,""],setExtendedInfo:[6,1,1,""],description:[6,4,1,""],addAfterCommitHook:[6,1,1,""],beforeCommitHook:[6,1,1,""]},"transaction.interfaces.IDataManager":{tpc_vote:[6,1,1,""],abort:[6,1,1,""],tpc_begin:[6,1,1,""],sortKey:[6,1,1,""],tpc_finish:[6,1,1,""],tpc_abort:[6,1,1,""],commit:[6,1,1,""],transaction_manager:[6,4,1,""]}},titles:["Transaction convenience support","Dooming Transactions","Savepoints","Writing a Resource Manager","<tt class=\"docutils literal\"><span class=\"pre\">transaction</span></tt> Documentation","Writing a Data Manager","<tt class=\"docutils literal\"><span class=\"pre\">transaction</span></tt> API Reference","Hooking the Transaction Machinery"]})