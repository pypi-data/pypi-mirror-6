

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>plone.app.event.base &mdash; plone.app.event 1.0dev documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="plone.app.event 1.0dev documentation" href="../index.html" />
    <link rel="up" title="plone.app.event API" href="index.html" />
    <link rel="next" title="plone.app.event.interfaces" href="interfaces.html" />
    <link rel="prev" title="plone.app.event API" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="interfaces.html" title="plone.app.event.interfaces"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="plone.app.event API"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">plone.app.event 1.0dev documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">plone.app.event API</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-plone.app.event.base">
<span id="plone-app-event-base"></span><h1>plone.app.event.base<a class="headerlink" href="#module-plone.app.event.base" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="plone.app.event.base.AnnotationAdapter">
<em class="property">class </em><tt class="descclassname">plone.app.event.base.</tt><tt class="descname">AnnotationAdapter</tt><big>(</big><em>context</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#AnnotationAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.AnnotationAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract Base Class for an annotation storage.</p>
<p>If the annotation wasn&#8217;t set, it won&#8217;t be created until the first attempt
to set a property on this adapter.
So, the context doesn&#8217;t get polluted with annotations by accident.</p>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.DT">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">DT</tt><big>(</big><em>dt</em>, <em>exact=False</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#DT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.DT" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Zope DateTime instance from a Python datetime instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dt</strong> &#8211; Python datetime, Python date, Zope DateTime instance or string.</li>
<li><strong>exact</strong> (<em>Boolean</em>) &#8211; If True, the resolution goes down to microseconds. If False,
the resolution are seconds. Defaul is False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Zope DateTime</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Zope DateTime</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.construct_calendar">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">construct_calendar</tt><big>(</big><em>events</em>, <em>start=None</em>, <em>end=None</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#construct_calendar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.construct_calendar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary with dates in a given timeframe as keys and the
actual occurrences for that date for building calendars.
Long lasting events will occur on every day until their end.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>events</strong> (<em>list</em>) &#8211; List of IEvent and/or IOccurrence objects, to construct a
calendar data structure from.</li>
<li><strong>start</strong> (<em>Python datetime or date</em>) &#8211; An optional start range date.</li>
<li><strong>end</strong> (<em>Python datetime or date</em>) &#8211; An optional start range date.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary with isoformat date strings as keys and event
occurrences as values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.date_speller">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">date_speller</tt><big>(</big><em>context</em>, <em>dt</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#date_speller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.date_speller" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary with localized and readably formatted date parts.</p>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.dates_for_display">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">dates_for_display</tt><big>(</big><em>occurrence</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#dates_for_display"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.dates_for_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary containing pre-calculated information for building
&lt;start&gt;-&lt;end&gt; date strings.</p>
<dl class="docutils">
<dt>Keys are:</dt>
<dd>&#8216;start_date&#8217; - date string of the start date
&#8216;start_time&#8217; - time string of the start date
&#8216;end_date&#8217;   - date string of the end date
&#8216;end_time&#8217;   - time string of the end date
&#8216;start_iso&#8217;  - start date in iso format
&#8216;end_iso&#8217;    - end date in iso format
&#8216;same_day&#8217;   - event ends on the same day
&#8216;same_time&#8217;  - event ends at same time
&#8216;whole_day&#8217;  - whole day events
&#8216;open_end&#8217;   - events without end time</dd>
</dl>
<p>The behavior os ulocalized_time() with time_only is odd.
Setting time_only=False should return the date part only and <em>not</em>
the time</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">DateTime</span> <span class="kn">import</span> <span class="n">DateTime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start</span> <span class="o">=</span> <span class="n">DateTime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zope.componen.hooks</span> <span class="kn">import</span> <span class="n">getSite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">site</span> <span class="o">=</span> <span class="n">getSite</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ulocalized_time</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="n">time_only</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">site</span><span class="p">)</span>
<span class="go">u&#39;14:40&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ulocalized_time</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="n">time_only</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">site</span><span class="p">)</span>
<span class="go">u&#39;14:40&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ulocalized_time</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="n">time_only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">site</span><span class="p">)</span>
<span class="go">u&#39;16.03.2010&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.default_end">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">default_end</tt><big>(</big><em>context=None</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#default_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.default_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default end as python datetime for prefilling forms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Default end datetime.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Python datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.default_start">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">default_start</tt><big>(</big><em>context=None</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#default_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.default_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default start as python datetime for prefilling forms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Default start datetime.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Python datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.default_timezone">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">default_timezone</tt><big>(</big><em>context=None</em>, <em>as_tzinfo=False</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#default_timezone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.default_timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the timezone from the portal or user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>Content object</em>) &#8211; Optional context. If not given, the current Site is used.</li>
<li><strong>as_tzinfo</strong> (<em>boolean</em>) &#8211; Return the default timezone as tzinfo object.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Timezone identifier or tzinfo object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string or tzinfo object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.dt_end_of_day">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">dt_end_of_day</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#dt_end_of_day"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.dt_end_of_day" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Python datetime instance set to the end time of the given day
(23:59:59).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt</strong> (<em>Python datetime</em>) &#8211; datetime to set to the end time of the day.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">datetime set to the end time of the day (23:59:59).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Python datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.dt_start_of_day">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">dt_start_of_day</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#dt_start_of_day"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.dt_start_of_day" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Python datetime instance set to the start time of the given
day (00:00:00).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt</strong> (<em>Python datetime</em>) &#8211; datetime to set to the start time of the day.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">datetime set to the start time of the day (00:00:00).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Python datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.find_context">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">find_context</tt><big>(</big><em>context</em>, <em>viewname=None</em>, <em>iface=None</em>, <em>as_url=False</em>, <em>append_view=True</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#find_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.find_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the next context with a given view name or interface, up in the
content tree, starting from the given context. This might not be the
IPloneSiteRoot, but another subsite.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; The context to start the search from.</li>
<li><strong>viewname</strong> &#8211; (optional) The name of a view which a context should have
configured as defaultView.</li>
<li><strong>iface</strong> &#8211; (optional) The interface, the context to search for should
implement.</li>
<li><strong>as_url</strong> &#8211; (optional) Return the URL of the context found.</li>
<li><strong>append_view</strong> &#8211; (optional) In case of a given viewname and called with
as_url, append the viewname to the url, if the context
hasn&#8217;t configured it as defaultView. Otherwise ignore
this parameter.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A context with the given view name, inteface or ISite root.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.first_weekday">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">first_weekday</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#first_weekday"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.first_weekday" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of the first Weekday in a Week, as defined in
the registry. 0 is Monday, 6 is Sunday, as expected by Python&#8217;s datetime.</p>
<p>PLEASE NOTE: strftime %w interprets 0 as Sunday unlike the calendar module!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Index of first weekday [0(Monday)..6(Sunday)]</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.get_events">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">get_events</tt><big>(</big><em>context</em>, <em>start=None</em>, <em>end=None</em>, <em>limit=None</em>, <em>ret_mode=1</em>, <em>expand=False</em>, <em>sort='start'</em>, <em>sort_reverse=False</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#get_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all events as catalog brains, possibly within a given
timeframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>Content object</em>) &#8211; [required] A context object.</li>
<li><strong>start</strong> (<em>Python datetime.</em>) &#8211; Date, from which on events should be searched.</li>
<li><strong>end</strong> (<em>Python datetime</em>) &#8211; Date, until which events should be searched.</li>
<li><strong>limit</strong> (<em>integer</em>) &#8211; Number of items to be returned.</li>
<li><strong>ret_mode</strong> (<em>integer [1|2|3]</em>) &#8211; <p>Return type of search results. These options are
available:</p>
<blockquote>
<div><ul>
<li>1 (brains): Return results as catalog brains.</li>
<li><dl class="first docutils">
<dt>2 (objects): Return results as IEvent and/or</dt>
<dd>IOccurrence objects.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>3 (accessors): Return results as IEventAccessor</dt>
<dd>wrapper objects.</dd>
</dl>
</li>
</ul>
</div></blockquote>
</li>
<li><strong>expand</strong> (<em>boolean</em>) &#8211; Expand the results to all occurrences (within a timeframe,
if given). With this option set to True, the resultset also
includes the event&#8217;s recurrence occurrences and is sorted by
the start date.
Only available in ret_mode 2 (objects) and 3 (accessors).</li>
<li><strong>sort</strong> (<em>string</em>) &#8211; Catalog index id to sort on. Not available with expand=True.</li>
<li><strong>sort_reverse</strong> (<em>boolean</em>) &#8211; Change the order of the sorting.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Portal events, matching the search criteria.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">catalog brains</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.guess_date_from">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">guess_date_from</tt><big>(</big><em>datestr</em>, <em>context=None</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#guess_date_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.guess_date_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a timezone aware date object if an arbitrary ASCII string is
formatted in an ISO date format, otherwise None is returned.</p>
<p>Used for traversing and Occurence ids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>datestr</strong> (<em>string</em>) &#8211; Date string in an ISO format.</li>
<li><strong>context</strong> (<em>Content object</em>) &#8211; Context object (for retrieving the timezone).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Localized date object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Python date</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.localized_now">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">localized_now</tt><big>(</big><em>context=None</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#localized_now"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.localized_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current datetime localized to the default timezone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>Content object</em>) &#8211; Context object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Localized current datetime.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Python datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.localized_today">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">localized_today</tt><big>(</big><em>context=None</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#localized_today"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.localized_today" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current date localized to the default timezone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>Content object</em>) &#8211; Context object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Localized current date.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Python date</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.start_end_from_mode">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">start_end_from_mode</tt><big>(</big><em>mode</em>, <em>dt=None</em>, <em>context=None</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#start_end_from_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.start_end_from_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a start and end date from a given mode string, like
&#8220;today&#8221;, &#8220;past&#8221; or &#8220;future&#8221;. This can be used in event retrieval
functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mode</strong> (<em>string</em>) &#8211; <dl class="docutils">
<dt>One of the following modes:</dt>
<dd>&#8216;all&#8217; Show all events.
&#8216;past&#8217;: Show only past events with descending sorting.
&#8216;future&#8217;: Show only future events (default).
&#8216;today&#8217;: Show todays events.
&#8216;now&#8217;: Show todays upcoming events.
&#8216;7days&#8217;: Show events until 7 days in future.
&#8216;day&#8217;: Return all events on the given day (dt parameter<blockquote>
<div>required)</div></blockquote>
<p class="last">&#8216;week&#8217;: Show a weeks events, optionally from a given date.</p>
</dd>
<dt>These settings override the start and end parameters.</dt>
<dd>Not implemented yet:
&#8216;month&#8217;: Show this month&#8217;s events.</dd>
</dl>
</li>
<li><strong>dt</strong> (<em>Python datetime</em>) &#8211; Optional datetime for day mode.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.ulocalized_time">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">ulocalized_time</tt><big>(</big><em>time</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#ulocalized_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.ulocalized_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Corrects for DateTime bugs doing wrong thing with timezones</p>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.wkday_to_mon0">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">wkday_to_mon0</tt><big>(</big><em>day</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#wkday_to_mon0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.wkday_to_mon0" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an integer weekday number to a representation where Monday is 0
and Sunday is 6 (the datetime default), from a representation where Sunday
is 0, Monday is 1 and Saturday is 6 (the strftime behavior).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>day</strong> (<em>integer</em>) &#8211; The weekday number [0(Sunday)..6]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The weekday number [0(Monday)..6]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plone.app.event.base.wkday_to_mon1">
<tt class="descclassname">plone.app.event.base.</tt><tt class="descname">wkday_to_mon1</tt><big>(</big><em>day</em><big>)</big><a class="reference internal" href="../_modules/plone/app/event/base.html#wkday_to_mon1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plone.app.event.base.wkday_to_mon1" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an integer weekday number to a representation where Monday is
1, Saturday is 6 and Sunday is 0 (the strftime behavior), from a
representation where Monday is 0 and Sunday is 6 (the datetime default).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>day</strong> (<em>integer</em>) &#8211; The weekday number [0(Monday)..6]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The weekday number [0(Sunday)..6]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">plone.app.event API</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="interfaces.html"
                        title="next chapter">plone.app.event.interfaces</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/base.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="interfaces.html" title="plone.app.event.interfaces"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="plone.app.event API"
             >previous</a> |</li>
        <li><a href="../index.html">plone.app.event 1.0dev documentation</a> &raquo;</li>
          <li><a href="index.html" >plone.app.event API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Plone Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>