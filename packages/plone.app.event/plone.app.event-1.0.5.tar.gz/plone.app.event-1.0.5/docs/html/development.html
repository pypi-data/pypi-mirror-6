

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developer documentation &mdash; plone.app.event 1.0dev documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="plone.app.event 1.0dev documentation" href="index.html" />
    <link rel="next" title="Development design choices" href="designchoices.html" />
    <link rel="prev" title="Architectural Overview" href="architectural-overview.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="designchoices.html" title="Development design choices"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="architectural-overview.html" title="Architectural Overview"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">plone.app.event 1.0dev documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="developer-documentation">
<h1>Developer documentation<a class="headerlink" href="#developer-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-ievent-interface">
<h2>The IEvent interface<a class="headerlink" href="#the-ievent-interface" title="Permalink to this headline">¶</a></h2>
<p>All event types should implement the <tt class="docutils literal"><span class="pre">IEvent</span></tt> interface from
<tt class="docutils literal"><span class="pre">plone.event.interfaces</span></tt>, in order that some functionality of
plone.app.event can be used. For example, catalog searches for event objects
ask for the <tt class="docutils literal"><span class="pre">IEvent</span></tt> interface in the <tt class="docutils literal"><span class="pre">object_provides</span></tt> index:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">plone.event.interfaces</span> <span class="kn">import</span> <span class="n">IEvent</span>
<span class="k">assert</span><span class="p">(</span><span class="n">IEvent</span><span class="o">.</span><span class="n">providedBy</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">==</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-event-content-types">
<h2>Custom event content types<a class="headerlink" href="#custom-event-content-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="extending-the-archetypes-based-plone-app-event-at-content-atevent-class">
<h3>Extending the Archetypes based plone.app.event.at.content.ATEvent class<a class="headerlink" href="#extending-the-archetypes-based-plone-app-event-at-content-atevent-class" title="Permalink to this headline">¶</a></h3>
<p>For Archetypes, derive from <tt class="docutils literal"><span class="pre">plone.app.event.at.content.ATEvent</span></tt>.</p>
<p>Here is an example from <a class="reference external" href="https://github.com/collective/collective.folderishtypes/blob/master/collective/folderishtypes/content/folderish_event.py">collective.folderishtypes</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Products.Archetypes</span> <span class="kn">import</span> <span class="n">atapi</span>
<span class="kn">from</span> <span class="nn">plone.app.event.at</span> <span class="kn">import</span> <span class="n">content</span> <span class="k">as</span> <span class="n">event</span>

<span class="n">type_schema</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">ATEventSchema</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c"># Add your custom fields here</span>
<span class="c"># Move location back to main schemata</span>
<span class="n">type_schema</span><span class="o">.</span><span class="n">changeSchemataForField</span><span class="p">(</span><span class="s">&#39;location&#39;</span><span class="p">,</span> <span class="s">&#39;default&#39;</span><span class="p">)</span>
<span class="n">type_schema</span><span class="o">.</span><span class="n">moveField</span><span class="p">(</span><span class="s">&#39;location&#39;</span><span class="p">,</span> <span class="n">before</span><span class="o">=</span><span class="s">&#39;attendees&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">CustomEvent</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">ATEvent</span><span class="p">):</span>
    <span class="n">portal_type</span> <span class="o">=</span> <span class="s">&#39;Custom Event&#39;</span>
    <span class="n">_at_rename_after_creation</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">schema</span> <span class="o">=</span> <span class="n">type_schema</span>
<span class="n">atapi</span><span class="o">.</span><span class="n">registerType</span><span class="p">(</span><span class="n">CustomEvent</span><span class="p">,</span> <span class="n">PROJECTNAME</span><span class="p">)</span>
</pre></div>
</div>
<p>Register this type in the FTI via Generic Setup as usual.</p>
</div>
<div class="section" id="using-dexterity-behaviors-to-build-new-content-types-with-ievent-support">
<h3>Using Dexterity behaviors to build new content types with IEvent support<a class="headerlink" href="#using-dexterity-behaviors-to-build-new-content-types-with-ievent-support" title="Permalink to this headline">¶</a></h3>
<p>For Dexterity use the <tt class="docutils literal"><span class="pre">plone.app.event.dx.behaviors.IEventBasic</span></tt> and
optionally any other event related behavior from there.</p>
<p>You can just enable the behaviors you want to use for your custom content type
in the FTI via GenericSetup or through the web. This <tt class="docutils literal"><span class="pre">types/Event.xml</span></tt>
GenericSetup FTI configuration snippet from <a class="reference external" href="https://github.com/plone/plone.app.contenttypes/blob/paevent/plone/app/contenttypes/profiles/default/types/Event.xml">plone.app.contenttypes</a>
shows an example. The only behavior, which is definitely needed is the
IEventBasic behavior. All other are optional:</p>
<div class="highlight-python"><pre>&lt;property name="behaviors"&gt;
    &lt;element value="plone.app.event.dx.behaviors.IEventBasic"/&gt;
    &lt;element value="plone.app.event.dx.behaviors.IEventRecurrence"/&gt;
    &lt;element value="plone.app.event.dx.behaviors.IEventLocation"/&gt;
    &lt;element value="plone.app.event.dx.behaviors.IEventAttendees"/&gt;
    &lt;element value="plone.app.event.dx.behaviors.IEventContact"/&gt;
    &lt;element value="plone.app.event.dx.behaviors.IEventSummary"/&gt;
    &lt;element value="plone.app.dexterity.behaviors.metadata.IDublinCore"/&gt;
    &lt;element value="plone.app.content.interfaces.INameFromTitle"/&gt;
    &lt;element value="plone.app.dexterity.behaviors.discussion.IAllowDiscussion"/&gt;
    &lt;element value="plone.app.dexterity.behaviors.exclfromnav.IExcludeFromNavigation"/&gt;
    &lt;element value="plone.app.relationfield.behavior.IRelatedItems"/&gt;
    &lt;element value="plone.app.versioningbehavior.behaviors.IVersionable" /&gt;
&lt;/property&gt;</pre>
</div>
<p>Of course, it&#8217;s also possible to create a new behavior which derives from
plone.app.event&#8217;s one, like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">plone.app.event.dx.behaviors</span> <span class="kn">import</span> <span class="n">IEventBasic</span>
<span class="kn">from</span> <span class="nn">plone.app.event.dx.behaviors</span> <span class="kn">import</span> <span class="n">IEventLocation</span>
<span class="kn">from</span> <span class="nn">plone.app.event.dx.behaviors</span> <span class="kn">import</span> <span class="n">IEventRecurrence</span>
<span class="kn">from</span> <span class="nn">plone.app.event.dx.behaviors</span> <span class="kn">import</span> <span class="n">first_weekday_sun0</span>
<span class="kn">from</span> <span class="nn">plone.app.event.dx.interfaces</span> <span class="kn">import</span> <span class="n">IDXEvent</span>
<span class="kn">from</span> <span class="nn">plone.app.event.dx.interfaces</span> <span class="kn">import</span> <span class="n">IDXEventLocation</span>
<span class="kn">from</span> <span class="nn">plone.app.event.dx.interfaces</span> <span class="kn">import</span> <span class="n">IDXEventRecurrence</span>
<span class="kn">from</span> <span class="nn">plone.autoform</span> <span class="kn">import</span> <span class="n">directives</span> <span class="k">as</span> <span class="n">form</span>
<span class="kn">from</span> <span class="nn">plone.autoform.interfaces</span> <span class="kn">import</span> <span class="n">IFormFieldProvider</span>
<span class="kn">from</span> <span class="nn">zope.interface</span> <span class="kn">import</span> <span class="n">alsoProvides</span>


<span class="k">class</span> <span class="nc">IEvent</span><span class="p">(</span><span class="n">IEventBasic</span><span class="p">,</span> <span class="n">IEventRecurrence</span><span class="p">,</span> <span class="n">IEventLocation</span><span class="p">,</span>
             <span class="n">IDXEvent</span><span class="p">,</span> <span class="n">IDXEventLocation</span><span class="p">,</span> <span class="n">IDXEventRecurrence</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Custom Event behavior.&quot;&quot;&quot;</span>
    <span class="n">form</span><span class="o">.</span><span class="n">widget</span><span class="p">(</span><span class="s">&#39;start&#39;</span><span class="p">,</span> <span class="n">first_day</span><span class="o">=</span><span class="n">first_weekday_sun0</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">widget</span><span class="p">(</span><span class="s">&#39;end&#39;</span><span class="p">,</span> <span class="n">first_day</span><span class="o">=</span><span class="n">first_weekday_sun0</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">widget</span><span class="p">(</span><span class="s">&#39;recurrence&#39;</span><span class="p">,</span>
                <span class="n">start_field</span><span class="o">=</span><span class="s">&#39;IEvent.start&#39;</span><span class="p">,</span>
                <span class="n">first_day</span><span class="o">=</span><span class="n">first_weekday_sun0</span><span class="p">)</span>
<span class="n">alsoProvides</span><span class="p">(</span><span class="n">IEvent</span><span class="p">,</span> <span class="n">IFormFieldProvider</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you don&#8217;t register the behavior with a factory and a marker interface, the
behavior is the marker interface itself (see plone.app.dexterity&#8217;s
<a class="reference external" href="https://developer.plone.org/reference_manuals/external/plone.app.dexterity/behaviors/providing-marker-interfaces.html">documentation on behavior marker interfaces</a>).
In this case, the behavior should also derive from the marker interfaces
defined in <tt class="docutils literal"><span class="pre">plone.app.event.dx.interfaces</span></tt> in order to let it use all of
plone.app.event&#8217;s functionality (indexers, adapters and the like).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You have to reconfigure the start, end and recurrence fields&#8217; widgets again.
The widgets for the <tt class="docutils literal"><span class="pre">start</span></tt> and <tt class="docutils literal"><span class="pre">end</span></tt> fields have to be configured with
the <tt class="docutils literal"><span class="pre">first_day</span></tt> parameter while the <tt class="docutils literal"><span class="pre">recurrence</span></tt> field widget has to be
configured with the <tt class="docutils literal"><span class="pre">first_day</span></tt> and <tt class="docutils literal"><span class="pre">start_field</span></tt> parameters. Even if the
<tt class="docutils literal"><span class="pre">start</span></tt> field is derived from another behavior, in this case the
dotted-path includes the new behavior: <tt class="docutils literal"><span class="pre">IEvent.start</span></tt>.</p>
</div>
<p>Then register the behavior in ZCML:</p>
<div class="highlight-python"><pre>&lt;plone:behavior
    title="Event"
    description="A Event"
    provides=".behaviors.IEvent"
    for="plone.dexterity.interfaces.IDexterityContent"
    /&gt;</pre>
</div>
<p>And register it in your FTI via GenericSetup as usual.</p>
</div>
<div class="section" id="none-of-the-above">
<h3>None of the above<a class="headerlink" href="#none-of-the-above" title="Permalink to this headline">¶</a></h3>
<p>If you cannot use the above two methods, you can still implement the
<tt class="docutils literal"><span class="pre">plone.event.interfaces.IEvent</span></tt> interface.</p>
<p>In any case you might need to provide an <tt class="docutils literal"><span class="pre">IEventAccessor</span></tt> adapter. For more
information, see below.</p>
</div>
</div>
<div class="section" id="getting-and-setting-properties">
<h2>Getting and setting properties<a class="headerlink" href="#getting-and-setting-properties" title="Permalink to this headline">¶</a></h2>
<div class="section" id="for-dexterity-based-types-accessing-properties-behavior-interface-adaption">
<h3>For Dexterity based types: Accessing properties behavior interface adaption<a class="headerlink" href="#for-dexterity-based-types-accessing-properties-behavior-interface-adaption" title="Permalink to this headline">¶</a></h3>
<p>To use the functionality provided by the behaviors, get the behavior adapter
first. For example, for setting or getting attributes of an event object, do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">plone.app.event.dx.behaviors</span> <span class="kn">import</span> <span class="n">IEventBasic</span>
<span class="n">event</span> <span class="o">=</span> <span class="n">IEventBasic</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="n">event</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mo">00</span><span class="p">)</span>
<span class="n">event</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mo">00</span><span class="p">)</span>
<span class="n">event</span><span class="o">.</span><span class="n">timezone</span> <span class="o">=</span> <span class="s">&#39;CET&#39;</span>

<span class="kn">import</span> <span class="nn">transaction</span>
<span class="n">transaction</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
<p>Alternatively, use the more convenient IEventAccessor pattern described below.</p>
</div>
<div class="section" id="accessing-event-objects-via-an-unified-accessor-object">
<h3>Accessing event objects via an unified accessor object<a class="headerlink" href="#accessing-event-objects-via-an-unified-accessor-object" title="Permalink to this headline">¶</a></h3>
<p>To make it easier to support Archetypes and Dexterity based objects, an
adapter for content objects is provided, which allows unified interaction with
event objects.</p>
<p>The interface definition can be found in plone.event.interfaces.IEventAccessor.
Default accessors:</p>
<ul class="simple">
<li>For IEvent (<tt class="docutils literal"><span class="pre">plone.event.interfaces.IEvent</span></tt>) implementing objects:
<tt class="docutils literal"><span class="pre">plone.event.adapters.EventAccessor</span></tt>.</li>
<li>For IATEvent (<tt class="docutils literal"><span class="pre">plone.app.event.at.interfaces.IATEvent</span></tt>):
<tt class="docutils literal"><span class="pre">plone.app.event.at.content.EventAccessor</span></tt>.</li>
<li>For IDXEvent (<tt class="docutils literal"><span class="pre">plone.app.event.dx.interfaces.IDXEvent</span></tt>):
<tt class="docutils literal"><span class="pre">plone.app.event.dx.behaviors.EventAccessor</span></tt>.</li>
<li>For IOccurrence (<tt class="docutils literal"><span class="pre">plone.event.interfaces.IOccurrence</span></tt>):
<tt class="docutils literal"><span class="pre">plone.app.event.recurrence.EventAccessor</span></tt>.</li>
</ul>
<p>Event objects implement the <tt class="docutils literal"><span class="pre">IEvent</span></tt> interface from
<tt class="docutils literal"><span class="pre">plone.event.interfaces</span></tt>.</p>
<p>The objects can be accessed like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">plone.event.interfaces</span> <span class="kn">import</span> <span class="n">IEventAccessor</span>
<span class="n">acc</span> <span class="o">=</span> <span class="n">IEventAccessor</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="k">assert</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">acc</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span><span class="o">==</span><span class="bp">True</span><span class="p">)</span>
<span class="k">assert</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">acc</span><span class="o">.</span><span class="n">timezone</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span><span class="o">==</span><span class="bp">True</span><span class="p">)</span>
<span class="k">assert</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">acc</span><span class="o">.</span><span class="n">recurrence</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span><span class="o">==</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set properties of the object via the accessor. Don&#8217;t forget to throw
ObjectModifiedEvent after setting properties to call an event subscriber which
does some timezone related post calculations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">zope.event</span> <span class="kn">import</span> <span class="n">notify</span>
<span class="kn">from</span> <span class="nn">zope.lifecycleevent</span> <span class="kn">import</span> <span class="n">ObjectModifiedEvent</span>
<span class="n">tz</span> <span class="o">=</span> <span class="n">pytz</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s">&#39;Europe/Vienna&#39;</span><span class="p">)</span>
<span class="n">acc</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">tz</span><span class="p">)</span>
<span class="n">acc</span><span class="o">.</span><span class="n">timezone</span> <span class="o">=</span> <span class="s">&#39;Europe/London&#39;</span>
<span class="n">notify</span><span class="p">(</span><span class="n">ObjectModifiedEvent</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
</pre></div>
</div>
<p>You can also use the accessor edit method, which also throws the
ObjectModifiedEvent event for you:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">acc</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="n">end</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">tz</span><span class="p">))</span>
</pre></div>
</div>
<p>For creating events, you can use the accessor&#8217;s create method, which again
returns an accessor. E.g. if you want to create the Dexterity based event
type:</p>
<div class="highlight-python"><pre>from plone.app.event.dx.behaviors import EventAccessor
acc = EventAccessor.create(
    container=app.plone,
    content_id=u'new_event'
    title=u'New Event'
    start=datetime(2013, 7, 1, 10, 0, tzinfo=tz),
    end=datetime(2013, 7, 1, 12, 0, tzinfo=tz),
    timezone='Europe/Vienna'
)
acc.location = u"Graz, Austria"</pre>
</div>
<p>Access the content object from an accessor like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span> <span class="o">=</span> <span class="n">acc</span><span class="o">.</span><span class="n">context</span>
<span class="kn">from</span> <span class="nn">plone.event.interfaces</span> <span class="kn">import</span> <span class="n">IEvent</span>
<span class="k">assert</span><span class="p">(</span><span class="ow">not</span> <span class="n">IEvent</span><span class="o">.</span><span class="n">providedBy</span><span class="p">(</span><span class="n">acc</span><span class="p">))</span>
<span class="k">assert</span><span class="p">(</span><span class="n">IEvent</span><span class="o">.</span><span class="n">providedBy</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getting-occurrences-from-ieventrecurrence-implementing-objects">
<h2>Getting occurrences from IEventRecurrence implementing objects<a class="headerlink" href="#getting-occurrences-from-ieventrecurrence-implementing-objects" title="Permalink to this headline">¶</a></h2>
<p>Events with recurrence support should implement the IEventRecurrence
(<tt class="docutils literal"><span class="pre">plone.event.interfaces.IEventRecurrence</span></tt>) interface.</p>
<p>An IRecurrenceSupport implementing adapter allows the calculation of all
occurrences:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">plone.event.interfaces</span> <span class="kn">import</span> <span class="n">IRecurrenceSupport</span>
<span class="n">rec_support</span> <span class="o">=</span> <span class="n">IRecurrenceSupport</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<span class="c"># All occurrences of the object</span>
<span class="n">rec_support</span><span class="o">.</span><span class="n">occurrences</span><span class="p">()</span>

<span class="c"># All occurrences within a time range</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">rec_support</span><span class="o">.</span><span class="n">occurrences</span><span class="p">(</span><span class="n">range_start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">range_end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to get all occurrences from any event within a timeframe, use the
get_events function like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">plone.app.event.base</span> <span class="kn">import</span> <span class="n">get_events</span><span class="p">,</span> <span class="n">localized_now</span>
<span class="n">occ</span> <span class="o">=</span> <span class="n">get_events</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">localized_now</span><span class="p">(),</span> <span class="n">ret_mode</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Developer documentation</a><ul>
<li><a class="reference internal" href="#the-ievent-interface">The IEvent interface</a></li>
<li><a class="reference internal" href="#custom-event-content-types">Custom event content types</a><ul>
<li><a class="reference internal" href="#extending-the-archetypes-based-plone-app-event-at-content-atevent-class">Extending the Archetypes based plone.app.event.at.content.ATEvent class</a></li>
<li><a class="reference internal" href="#using-dexterity-behaviors-to-build-new-content-types-with-ievent-support">Using Dexterity behaviors to build new content types with IEvent support</a></li>
<li><a class="reference internal" href="#none-of-the-above">None of the above</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-and-setting-properties">Getting and setting properties</a><ul>
<li><a class="reference internal" href="#for-dexterity-based-types-accessing-properties-behavior-interface-adaption">For Dexterity based types: Accessing properties behavior interface adaption</a></li>
<li><a class="reference internal" href="#accessing-event-objects-via-an-unified-accessor-object">Accessing event objects via an unified accessor object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-occurrences-from-ieventrecurrence-implementing-objects">Getting occurrences from IEventRecurrence implementing objects</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="architectural-overview.html"
                        title="previous chapter">Architectural Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="designchoices.html"
                        title="next chapter">Development design choices</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/development.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="designchoices.html" title="Development design choices"
             >next</a> |</li>
        <li class="right" >
          <a href="architectural-overview.html" title="Architectural Overview"
             >previous</a> |</li>
        <li><a href="index.html">plone.app.event 1.0dev documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Plone Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>